import dh from"https://esm.sh/pptxgenjs@3.12.0";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();function fh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ph={exports:{}},Ko={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My=Symbol.for("react.transitional.element"),ky=Symbol.for("react.fragment");function hh(e,t,n){var i=null;if(n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),"key"in t){n={};for(var l in t)l!=="key"&&(n[l]=t[l])}else n=t;return t=n.ref,{$$typeof:My,type:e,key:i,ref:t!==void 0?t:null,props:n}}Ko.Fragment=ky;Ko.jsx=hh;Ko.jsxs=hh;ph.exports=Ko;var u=ph.exports,mh={exports:{}},ee={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eu=Symbol.for("react.transitional.element"),Ry=Symbol.for("react.portal"),Iy=Symbol.for("react.fragment"),Dy=Symbol.for("react.strict_mode"),Uy=Symbol.for("react.profiler"),zy=Symbol.for("react.consumer"),Ly=Symbol.for("react.context"),jy=Symbol.for("react.forward_ref"),Gy=Symbol.for("react.suspense"),Hy=Symbol.for("react.memo"),gh=Symbol.for("react.lazy"),Py=Symbol.for("react.activity"),Oc=Symbol.iterator;function qy(e){return e===null||typeof e!="object"?null:(e=Oc&&e[Oc]||e["@@iterator"],typeof e=="function"?e:null)}var yh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xh=Object.assign,vh={};function rl(e,t,n){this.props=e,this.context=t,this.refs=vh,this.updater=n||yh}rl.prototype.isReactComponent={};rl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bh(){}bh.prototype=rl.prototype;function Cu(e,t,n){this.props=e,this.context=t,this.refs=vh,this.updater=n||yh}var Nu=Cu.prototype=new bh;Nu.constructor=Cu;xh(Nu,rl.prototype);Nu.isPureReactComponent=!0;var Fc=Array.isArray;function ur(){}var _e={H:null,A:null,T:null,S:null},Sh=Object.prototype.hasOwnProperty;function Au(e,t,n){var i=n.ref;return{$$typeof:Eu,type:e,key:t,ref:i!==void 0?i:null,props:n}}function Vy(e,t){return Au(e.type,t,e.props)}function Mu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Eu}function By(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Yc=/\/+/g;function _s(e,t){return typeof e=="object"&&e!==null&&e.key!=null?By(""+e.key):t.toString(36)}function Oy(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(ur,ur):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Ti(e,t,n,i,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Eu:case Ry:o=!0;break;case gh:return o=e._init,Ti(o(e._payload),t,n,i,l)}}if(o)return l=l(e),o=i===""?"."+_s(e,0):i,Fc(l)?(n="",o!=null&&(n=o.replace(Yc,"$&/")+"/"),Ti(l,t,n,"",function(f){return f})):l!=null&&(Mu(l)&&(l=Vy(l,n+(l.key==null||e&&e.key===l.key?"":(""+l.key).replace(Yc,"$&/")+"/")+o)),t.push(l)),1;o=0;var r=i===""?".":i+":";if(Fc(e))for(var d=0;d<e.length;d++)i=e[d],a=r+_s(i,d),o+=Ti(i,t,n,a,l);else if(d=qy(e),typeof d=="function")for(e=d.call(e),d=0;!(i=e.next()).done;)i=i.value,a=r+_s(i,d++),o+=Ti(i,t,n,a,l);else if(a==="object"){if(typeof e.then=="function")return Ti(Oy(e),t,n,i,l);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function Aa(e,t,n){if(e==null)return e;var i=[],l=0;return Ti(e,i,"","",function(a){return t.call(n,a,l++)}),i}function Fy(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Jc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Yy={map:Aa,forEach:function(e,t,n){Aa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Aa(e,function(){t++}),t},toArray:function(e){return Aa(e,function(t){return t})||[]},only:function(e){if(!Mu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Activity=Py;ee.Children=Yy;ee.Component=rl;ee.Fragment=Iy;ee.Profiler=Uy;ee.PureComponent=Cu;ee.StrictMode=Dy;ee.Suspense=Gy;ee.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_e;ee.__COMPILER_RUNTIME={__proto__:null,c:function(e){return _e.H.useMemoCache(e)}};ee.cache=function(e){return function(){return e.apply(null,arguments)}};ee.cacheSignal=function(){return null};ee.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var i=xh({},e.props),l=e.key;if(t!=null)for(a in t.key!==void 0&&(l=""+t.key),t)!Sh.call(t,a)||a==="key"||a==="__self"||a==="__source"||a==="ref"&&t.ref===void 0||(i[a]=t[a]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),r=0;r<a;r++)o[r]=arguments[r+2];i.children=o}return Au(e.type,l,i)};ee.createContext=function(e){return e={$$typeof:Ly,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:zy,_context:e},e};ee.createElement=function(e,t,n){var i,l={},a=null;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)Sh.call(t,i)&&i!=="key"&&i!=="__self"&&i!=="__source"&&(l[i]=t[i]);var o=arguments.length-2;if(o===1)l.children=n;else if(1<o){for(var r=Array(o),d=0;d<o;d++)r[d]=arguments[d+2];l.children=r}if(e&&e.defaultProps)for(i in o=e.defaultProps,o)l[i]===void 0&&(l[i]=o[i]);return Au(e,a,l)};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:jy,render:e}};ee.isValidElement=Mu;ee.lazy=function(e){return{$$typeof:gh,_payload:{_status:-1,_result:e},_init:Fy}};ee.memo=function(e,t){return{$$typeof:Hy,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=_e.T,n={};_e.T=n;try{var i=e(),l=_e.S;l!==null&&l(n,i),typeof i=="object"&&i!==null&&typeof i.then=="function"&&i.then(ur,Jc)}catch(a){Jc(a)}finally{t!==null&&n.types!==null&&(t.types=n.types),_e.T=t}};ee.unstable_useCacheRefresh=function(){return _e.H.useCacheRefresh()};ee.use=function(e){return _e.H.use(e)};ee.useActionState=function(e,t,n){return _e.H.useActionState(e,t,n)};ee.useCallback=function(e,t){return _e.H.useCallback(e,t)};ee.useContext=function(e){return _e.H.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e,t){return _e.H.useDeferredValue(e,t)};ee.useEffect=function(e,t){return _e.H.useEffect(e,t)};ee.useEffectEvent=function(e){return _e.H.useEffectEvent(e)};ee.useId=function(){return _e.H.useId()};ee.useImperativeHandle=function(e,t,n){return _e.H.useImperativeHandle(e,t,n)};ee.useInsertionEffect=function(e,t){return _e.H.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return _e.H.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return _e.H.useMemo(e,t)};ee.useOptimistic=function(e,t){return _e.H.useOptimistic(e,t)};ee.useReducer=function(e,t,n){return _e.H.useReducer(e,t,n)};ee.useRef=function(e){return _e.H.useRef(e)};ee.useState=function(e){return _e.H.useState(e)};ee.useSyncExternalStore=function(e,t,n){return _e.H.useSyncExternalStore(e,t,n)};ee.useTransition=function(){return _e.H.useTransition()};ee.version="19.2.3";mh.exports=ee;var E=mh.exports;const $c=fh(E);var Th={exports:{}},Xo={},_h={exports:{}},wh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,F){var $=U.length;U.push(F);e:for(;0<$;){var Y=$-1>>>1,z=U[Y];if(0<l(z,F))U[Y]=F,U[$]=z,$=Y;else break e}}function n(U){return U.length===0?null:U[0]}function i(U){if(U.length===0)return null;var F=U[0],$=U.pop();if($!==F){U[0]=$;e:for(var Y=0,z=U.length,N=z>>>1;Y<N;){var P=2*(Y+1)-1,q=U[P],k=P+1,B=U[k];if(0>l(q,$))k<z&&0>l(B,q)?(U[Y]=B,U[k]=$,Y=k):(U[Y]=q,U[P]=$,Y=P);else if(k<z&&0>l(B,$))U[Y]=B,U[k]=$,Y=k;else break e}}return F}function l(U,F){var $=U.sortIndex-F.sortIndex;return $!==0?$:U.id-F.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,r=o.now();e.unstable_now=function(){return o.now()-r}}var d=[],f=[],p=1,m=null,h=3,g=!1,b=!1,S=!1,_=!1,y=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function T(U){for(var F=n(f);F!==null;){if(F.callback===null)i(f);else if(F.startTime<=U)i(f),F.sortIndex=F.expirationTime,t(d,F);else break;F=n(f)}}function A(U){if(S=!1,T(U),!b)if(n(d)!==null)b=!0,L||(L=!0,G());else{var F=n(f);F!==null&&ne(A,F.startTime-U)}}var L=!1,C=-1,R=5,M=-1;function w(){return _?!0:!(e.unstable_now()-M<R)}function I(){if(_=!1,L){var U=e.unstable_now();M=U;var F=!0;try{e:{b=!1,S&&(S=!1,x(C),C=-1),g=!0;var $=h;try{t:{for(T(U),m=n(d);m!==null&&!(m.expirationTime>U&&w());){var Y=m.callback;if(typeof Y=="function"){m.callback=null,h=m.priorityLevel;var z=Y(m.expirationTime<=U);if(U=e.unstable_now(),typeof z=="function"){m.callback=z,T(U),F=!0;break t}m===n(d)&&i(d),T(U)}else i(d);m=n(d)}if(m!==null)F=!0;else{var N=n(f);N!==null&&ne(A,N.startTime-U),F=!1}}break e}finally{m=null,h=$,g=!1}F=void 0}}finally{F?G():L=!1}}}var G;if(typeof v=="function")G=function(){v(I)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,J=j.port2;j.port1.onmessage=I,G=function(){J.postMessage(null)}}else G=function(){y(I,0)};function ne(U,F){C=y(function(){U(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(U){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var $=h;h=F;try{return U()}finally{h=$}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(U,F){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var $=h;h=U;try{return F()}finally{h=$}},e.unstable_scheduleCallback=function(U,F,$){var Y=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Y+$:Y):$=Y,U){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=$+z,U={id:p++,callback:F,priorityLevel:U,startTime:$,expirationTime:z,sortIndex:-1},$>Y?(U.sortIndex=$,t(f,U),n(d)===null&&U===n(f)&&(S?(x(C),C=-1):S=!0,ne(A,$-Y))):(U.sortIndex=z,t(d,U),b||g||(b=!0,L||(L=!0,G()))),U},e.unstable_shouldYield=w,e.unstable_wrapCallback=function(U){var F=h;return function(){var $=h;h=F;try{return U.apply(this,arguments)}finally{h=$}}}})(wh);_h.exports=wh;var Jy=_h.exports,Eh={exports:{}},it={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y=E;function Ch(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Sn(){}var et={d:{f:Sn,r:function(){throw Error(Ch(522))},D:Sn,C:Sn,L:Sn,m:Sn,X:Sn,S:Sn,M:Sn},p:0,findDOMNode:null},Ky=Symbol.for("react.portal");function Xy(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ky,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}var Ul=$y.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Qo(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}it.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=et;it.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Ch(299));return Xy(e,t,null,n)};it.flushSync=function(e){var t=Ul.T,n=et.p;try{if(Ul.T=null,et.p=2,e)return e()}finally{Ul.T=t,et.p=n,et.d.f()}};it.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,et.d.C(e,t))};it.prefetchDNS=function(e){typeof e=="string"&&et.d.D(e)};it.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,i=Qo(n,t.crossOrigin),l=typeof t.integrity=="string"?t.integrity:void 0,a=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?et.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:i,integrity:l,fetchPriority:a}):n==="script"&&et.d.X(e,{crossOrigin:i,integrity:l,fetchPriority:a,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};it.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=Qo(t.as,t.crossOrigin);et.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&et.d.M(e)};it.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,i=Qo(n,t.crossOrigin);et.d.L(e,n,{crossOrigin:i,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};it.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=Qo(t.as,t.crossOrigin);et.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else et.d.m(e)};it.requestFormReset=function(e){et.d.r(e)};it.unstable_batchedUpdates=function(e,t){return e(t)};it.useFormState=function(e,t,n){return Ul.H.useFormState(e,t,n)};it.useFormStatus=function(){return Ul.H.useHostTransitionStatus()};it.version="19.2.3";function Nh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Nh)}catch(e){console.error(e)}}Nh(),Eh.exports=it;var Qy=Eh.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var je=Jy,Ah=E,Zy=Qy;function D(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Mh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pa(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function kh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Rh(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Kc(e){if(pa(e)!==e)throw Error(D(188))}function Wy(e){var t=e.alternate;if(!t){if(t=pa(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,i=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(i=l.return,i!==null){n=i;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return Kc(l),e;if(a===i)return Kc(l),t;a=a.sibling}throw Error(D(188))}if(n.return!==i.return)n=l,i=a;else{for(var o=!1,r=l.child;r;){if(r===n){o=!0,n=l,i=a;break}if(r===i){o=!0,i=l,n=a;break}r=r.sibling}if(!o){for(r=a.child;r;){if(r===n){o=!0,n=a,i=l;break}if(r===i){o=!0,i=a,n=l;break}r=r.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==i)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function Ih(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Ih(e),t!==null)return t;e=e.sibling}return null}var we=Object.assign,ex=Symbol.for("react.element"),Ma=Symbol.for("react.transitional.element"),Al=Symbol.for("react.portal"),Ci=Symbol.for("react.fragment"),Dh=Symbol.for("react.strict_mode"),cr=Symbol.for("react.profiler"),Uh=Symbol.for("react.consumer"),on=Symbol.for("react.context"),ku=Symbol.for("react.forward_ref"),dr=Symbol.for("react.suspense"),fr=Symbol.for("react.suspense_list"),Ru=Symbol.for("react.memo"),Tn=Symbol.for("react.lazy"),pr=Symbol.for("react.activity"),tx=Symbol.for("react.memo_cache_sentinel"),Xc=Symbol.iterator;function vl(e){return e===null||typeof e!="object"?null:(e=Xc&&e[Xc]||e["@@iterator"],typeof e=="function"?e:null)}var nx=Symbol.for("react.client.reference");function hr(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===nx?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ci:return"Fragment";case cr:return"Profiler";case Dh:return"StrictMode";case dr:return"Suspense";case fr:return"SuspenseList";case pr:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Al:return"Portal";case on:return e.displayName||"Context";case Uh:return(e._context.displayName||"Context")+".Consumer";case ku:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ru:return t=e.displayName||null,t!==null?t:hr(e.type)||"Memo";case Tn:t=e._payload,e=e._init;try{return hr(e(t))}catch{}}return null}var Ml=Array.isArray,X=Ah.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=Zy.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ti={pending:!1,data:null,method:null,action:null},mr=[],Ni=-1;function Xt(e){return{current:e}}function Pe(e){0>Ni||(e.current=mr[Ni],mr[Ni]=null,Ni--)}function be(e,t){Ni++,mr[Ni]=e.current,e.current=t}var Kt=Xt(null),$l=Xt(null),Dn=Xt(null),ho=Xt(null);function mo(e,t){switch(be(Dn,t),be($l,e),be(Kt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?nf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=nf(t),e=eg(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Pe(Kt),be(Kt,e)}function Ki(){Pe(Kt),Pe($l),Pe(Dn)}function gr(e){e.memoizedState!==null&&be(ho,e);var t=Kt.current,n=eg(t,e.type);t!==n&&(be($l,e),be(Kt,n))}function go(e){$l.current===e&&(Pe(Kt),Pe($l)),ho.current===e&&(Pe(ho),aa._currentValue=ti)}var ws,Qc;function Xn(e){if(ws===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ws=t&&t[1]||"",Qc=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ws+e+Qc}var Es=!1;function Cs(e,t){if(!e||Es)return"";Es=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(g){var h=g}Reflect.construct(e,[],m)}else{try{m.call()}catch(g){h=g}e.call(m.prototype)}}else{try{throw Error()}catch(g){h=g}(m=e())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(g){if(g&&h&&typeof g.stack=="string")return[g.stack,h.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var l=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");l&&l.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=i.DetermineComponentFrameRoot(),o=a[0],r=a[1];if(o&&r){var d=o.split(`
`),f=r.split(`
`);for(l=i=0;i<d.length&&!d[i].includes("DetermineComponentFrameRoot");)i++;for(;l<f.length&&!f[l].includes("DetermineComponentFrameRoot");)l++;if(i===d.length||l===f.length)for(i=d.length-1,l=f.length-1;1<=i&&0<=l&&d[i]!==f[l];)l--;for(;1<=i&&0<=l;i--,l--)if(d[i]!==f[l]){if(i!==1||l!==1)do if(i--,l--,0>l||d[i]!==f[l]){var p=`
`+d[i].replace(" at new "," at ");return e.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",e.displayName)),p}while(1<=i&&0<=l);break}}}finally{Es=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Xn(n):""}function ix(e,t){switch(e.tag){case 26:case 27:case 5:return Xn(e.type);case 16:return Xn("Lazy");case 13:return e.child!==t&&t!==null?Xn("Suspense Fallback"):Xn("Suspense");case 19:return Xn("SuspenseList");case 0:case 15:return Cs(e.type,!1);case 11:return Cs(e.type.render,!1);case 1:return Cs(e.type,!0);case 31:return Xn("Activity");default:return""}}function Zc(e){try{var t="",n=null;do t+=ix(e,n),n=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var yr=Object.prototype.hasOwnProperty,Iu=je.unstable_scheduleCallback,Ns=je.unstable_cancelCallback,lx=je.unstable_shouldYield,ax=je.unstable_requestPaint,gt=je.unstable_now,ox=je.unstable_getCurrentPriorityLevel,zh=je.unstable_ImmediatePriority,Lh=je.unstable_UserBlockingPriority,yo=je.unstable_NormalPriority,sx=je.unstable_LowPriority,jh=je.unstable_IdlePriority,rx=je.log,ux=je.unstable_setDisableYieldValue,ha=null,yt=null;function An(e){if(typeof rx=="function"&&ux(e),yt&&typeof yt.setStrictMode=="function")try{yt.setStrictMode(ha,e)}catch{}}var xt=Math.clz32?Math.clz32:fx,cx=Math.log,dx=Math.LN2;function fx(e){return e>>>=0,e===0?32:31-(cx(e)/dx|0)|0}var ka=256,Ra=262144,Ia=4194304;function Qn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Zo(e,t,n){var i=e.pendingLanes;if(i===0)return 0;var l=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var r=i&134217727;return r!==0?(i=r&~a,i!==0?l=Qn(i):(o&=r,o!==0?l=Qn(o):n||(n=r&~e,n!==0&&(l=Qn(n))))):(r=i&~a,r!==0?l=Qn(r):o!==0?l=Qn(o):n||(n=i&~e,n!==0&&(l=Qn(n)))),l===0?0:t!==0&&t!==l&&!(t&a)&&(a=l&-l,n=t&-t,a>=n||a===32&&(n&4194048)!==0)?t:l}function ma(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function px(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Gh(){var e=Ia;return Ia<<=1,!(Ia&62914560)&&(Ia=4194304),e}function As(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ga(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function hx(e,t,n,i,l,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var r=e.entanglements,d=e.expirationTimes,f=e.hiddenUpdates;for(n=o&~n;0<n;){var p=31-xt(n),m=1<<p;r[p]=0,d[p]=-1;var h=f[p];if(h!==null)for(f[p]=null,p=0;p<h.length;p++){var g=h[p];g!==null&&(g.lane&=-536870913)}n&=~m}i!==0&&Hh(e,i,0),a!==0&&l===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function Hh(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-xt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|n&261930}function Ph(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-xt(n),l=1<<i;l&t|e[i]&t&&(e[i]|=t),n&=~l}}function qh(e,t){var n=t&-t;return n=n&42?1:Du(n),n&(e.suspendedLanes|t)?0:n}function Du(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Uu(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Vh(){var e=pe.p;return e!==0?e:(e=window.event,e===void 0?32:dg(e.type))}function Wc(e,t){var n=pe.p;try{return pe.p=e,t()}finally{pe.p=n}}var Yn=Math.random().toString(36).slice(2),Fe="__reactFiber$"+Yn,ut="__reactProps$"+Yn,ul="__reactContainer$"+Yn,xr="__reactEvents$"+Yn,mx="__reactListeners$"+Yn,gx="__reactHandles$"+Yn,ed="__reactResources$"+Yn,ya="__reactMarker$"+Yn;function zu(e){delete e[Fe],delete e[ut],delete e[xr],delete e[mx],delete e[gx]}function Ai(e){var t=e[Fe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ul]||n[Fe]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=rf(e);e!==null;){if(n=e[Fe])return n;e=rf(e)}return t}e=n,n=e.parentNode}return null}function cl(e){if(e=e[Fe]||e[ul]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function kl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(D(33))}function Pi(e){var t=e[ed];return t||(t=e[ed]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[ya]=!0}var Bh=new Set,Oh={};function pi(e,t){Xi(e,t),Xi(e+"Capture",t)}function Xi(e,t){for(Oh[e]=t,e=0;e<t.length;e++)Bh.add(t[e])}var yx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),td={},nd={};function xx(e){return yr.call(nd,e)?!0:yr.call(td,e)?!1:yx.test(e)?nd[e]=!0:(td[e]=!0,!1)}function Xa(e,t,n){if(xx(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Da(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function Zt(e,t,n,i){if(i===null)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+i)}}function wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Fh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function vx(e,t,n){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var l=i.get,a=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function vr(e){if(!e._valueTracker){var t=Fh(e)?"checked":"value";e._valueTracker=vx(e,t,""+e[t])}}function Yh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Fh(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function xo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var bx=/[\n"\\]/g;function Nt(e){return e.replace(bx,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function br(e,t,n,i,l,a,o,r){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+wt(t)):e.value!==""+wt(t)&&(e.value=""+wt(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?Sr(e,o,wt(t)):n!=null?Sr(e,o,wt(n)):i!=null&&e.removeAttribute("value"),l==null&&a!=null&&(e.defaultChecked=!!a),l!=null&&(e.checked=l&&typeof l!="function"&&typeof l!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+wt(r):e.removeAttribute("name")}function Jh(e,t,n,i,l,a,o,r){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(e.type=a),t!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||t!=null)){vr(e);return}n=n!=null?""+wt(n):"",t=t!=null?""+wt(t):n,r||t===e.value||(e.value=t),e.defaultValue=t}i=i??l,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=r?e.checked:!!i,e.defaultChecked=!!i,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),vr(e)}function Sr(e,t,n){t==="number"&&xo(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function qi(e,t,n,i){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&i&&(e[n].defaultSelected=!0)}else{for(n=""+wt(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,i&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function $h(e,t,n){if(t!=null&&(t=""+wt(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+wt(n):""}function Kh(e,t,n,i){if(t==null){if(i!=null){if(n!=null)throw Error(D(92));if(Ml(i)){if(1<i.length)throw Error(D(93));i=i[0]}n=i}n==null&&(n=""),t=n}n=wt(t),e.defaultValue=n,i=e.textContent,i===n&&i!==""&&i!==null&&(e.value=i),vr(e)}function Qi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Sx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function id(e,t,n){var i=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,n):typeof n!="number"||n===0||Sx.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Xh(e,t,n){if(t!=null&&typeof t!="object")throw Error(D(62));if(e=e.style,n!=null){for(var i in n)!n.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var l in t)i=t[l],t.hasOwnProperty(l)&&n[l]!==i&&id(e,l,i)}else for(var a in t)t.hasOwnProperty(a)&&id(e,a,t[a])}function Lu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_x=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Qa(e){return _x.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function sn(){}var Tr=null;function ju(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mi=null,Vi=null;function ld(e){var t=cl(e);if(t&&(e=t.stateNode)){var n=e[ut]||null;e:switch(e=t.stateNode,t.type){case"input":if(br(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+Nt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var l=i[ut]||null;if(!l)throw Error(D(90));br(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name)}}for(t=0;t<n.length;t++)i=n[t],i.form===e.form&&Yh(i)}break e;case"textarea":$h(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&qi(e,!!n.multiple,t,!1)}}}var Ms=!1;function Qh(e,t,n){if(Ms)return e(t,n);Ms=!0;try{var i=e(t);return i}finally{if(Ms=!1,(Mi!==null||Vi!==null)&&(cs(),Mi&&(t=Mi,e=Vi,Vi=Mi=null,ld(t),e)))for(t=0;t<e.length;t++)ld(e[t])}}function Kl(e,t){var n=e.stateNode;if(n===null)return null;var i=n[ut]||null;if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_r=!1;if(fn)try{var bl={};Object.defineProperty(bl,"passive",{get:function(){_r=!0}}),window.addEventListener("test",bl,bl),window.removeEventListener("test",bl,bl)}catch{_r=!1}var Mn=null,Gu=null,Za=null;function Zh(){if(Za)return Za;var e,t=Gu,n=t.length,i,l="value"in Mn?Mn.value:Mn.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var o=n-e;for(i=1;i<=o&&t[n-i]===l[a-i];i++);return Za=l.slice(e,1<i?1-i:void 0)}function Wa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ua(){return!0}function ad(){return!1}function ct(e){function t(n,i,l,a,o){this._reactName=n,this._targetInst=l,this.type=i,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(n=e[r],this[r]=n?n(a):a[r]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Ua:ad,this.isPropagationStopped=ad,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ua)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ua)},persist:function(){},isPersistent:Ua}),t}var hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wo=ct(hi),xa=we({},hi,{view:0,detail:0}),wx=ct(xa),ks,Rs,Sl,es=we({},xa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sl&&(Sl&&e.type==="mousemove"?(ks=e.screenX-Sl.screenX,Rs=e.screenY-Sl.screenY):Rs=ks=0,Sl=e),ks)},movementY:function(e){return"movementY"in e?e.movementY:Rs}}),od=ct(es),Ex=we({},es,{dataTransfer:0}),Cx=ct(Ex),Nx=we({},xa,{relatedTarget:0}),Is=ct(Nx),Ax=we({},hi,{animationName:0,elapsedTime:0,pseudoElement:0}),Mx=ct(Ax),kx=we({},hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Rx=ct(kx),Ix=we({},hi,{data:0}),sd=ct(Ix),Dx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ux={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lx(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zx[e])?!!t[e]:!1}function Hu(){return Lx}var jx=we({},xa,{key:function(e){if(e.key){var t=Dx[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Wa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ux[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hu,charCode:function(e){return e.type==="keypress"?Wa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Wa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Gx=ct(jx),Hx=we({},es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rd=ct(Hx),Px=we({},xa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hu}),qx=ct(Px),Vx=we({},hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bx=ct(Vx),Ox=we({},es,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fx=ct(Ox),Yx=we({},hi,{newState:0,oldState:0}),Jx=ct(Yx),$x=[9,13,27,32],Pu=fn&&"CompositionEvent"in window,zl=null;fn&&"documentMode"in document&&(zl=document.documentMode);var Kx=fn&&"TextEvent"in window&&!zl,Wh=fn&&(!Pu||zl&&8<zl&&11>=zl),ud=" ",cd=!1;function e0(e,t){switch(e){case"keyup":return $x.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function t0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ki=!1;function Xx(e,t){switch(e){case"compositionend":return t0(t);case"keypress":return t.which!==32?null:(cd=!0,ud);case"textInput":return e=t.data,e===ud&&cd?null:e;default:return null}}function Qx(e,t){if(ki)return e==="compositionend"||!Pu&&e0(e,t)?(e=Zh(),Za=Gu=Mn=null,ki=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Wh&&t.locale!=="ko"?null:t.data;default:return null}}var Zx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Zx[e.type]:t==="textarea"}function n0(e,t,n,i){Mi?Vi?Vi.push(i):Vi=[i]:Mi=i,t=Lo(t,"onChange"),0<t.length&&(n=new Wo("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ll=null,Xl=null;function Wx(e){Qm(e,0)}function ts(e){var t=kl(e);if(Yh(t))return e}function fd(e,t){if(e==="change")return t}var i0=!1;if(fn){var Ds;if(fn){var Us="oninput"in document;if(!Us){var pd=document.createElement("div");pd.setAttribute("oninput","return;"),Us=typeof pd.oninput=="function"}Ds=Us}else Ds=!1;i0=Ds&&(!document.documentMode||9<document.documentMode)}function hd(){Ll&&(Ll.detachEvent("onpropertychange",l0),Xl=Ll=null)}function l0(e){if(e.propertyName==="value"&&ts(Xl)){var t=[];n0(t,Xl,e,ju(e)),Qh(Wx,t)}}function ev(e,t,n){e==="focusin"?(hd(),Ll=t,Xl=n,Ll.attachEvent("onpropertychange",l0)):e==="focusout"&&hd()}function tv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ts(Xl)}function nv(e,t){if(e==="click")return ts(t)}function iv(e,t){if(e==="input"||e==="change")return ts(t)}function lv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var St=typeof Object.is=="function"?Object.is:lv;function Ql(e,t){if(St(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var l=n[i];if(!yr.call(t,l)||!St(e[l],t[l]))return!1}return!0}function md(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gd(e,t){var n=md(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=md(n)}}function a0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?a0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function o0(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=xo(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=xo(e.document)}return t}function qu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var av=fn&&"documentMode"in document&&11>=document.documentMode,Ri=null,wr=null,jl=null,Er=!1;function yd(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Er||Ri==null||Ri!==xo(i)||(i=Ri,"selectionStart"in i&&qu(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),jl&&Ql(jl,i)||(jl=i,i=Lo(wr,"onSelect"),0<i.length&&(t=new Wo("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Ri)))}function Kn(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ii={animationend:Kn("Animation","AnimationEnd"),animationiteration:Kn("Animation","AnimationIteration"),animationstart:Kn("Animation","AnimationStart"),transitionrun:Kn("Transition","TransitionRun"),transitionstart:Kn("Transition","TransitionStart"),transitioncancel:Kn("Transition","TransitionCancel"),transitionend:Kn("Transition","TransitionEnd")},zs={},s0={};fn&&(s0=document.createElement("div").style,"AnimationEvent"in window||(delete Ii.animationend.animation,delete Ii.animationiteration.animation,delete Ii.animationstart.animation),"TransitionEvent"in window||delete Ii.transitionend.transition);function mi(e){if(zs[e])return zs[e];if(!Ii[e])return e;var t=Ii[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in s0)return zs[e]=t[n];return e}var r0=mi("animationend"),u0=mi("animationiteration"),c0=mi("animationstart"),ov=mi("transitionrun"),sv=mi("transitionstart"),rv=mi("transitioncancel"),d0=mi("transitionend"),f0=new Map,Cr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cr.push("scrollEnd");function Bt(e,t){f0.set(e,t),pi(t,[e])}var vo=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},_t=[],Di=0,Vu=0;function ns(){for(var e=Di,t=Vu=Di=0;t<e;){var n=_t[t];_t[t++]=null;var i=_t[t];_t[t++]=null;var l=_t[t];_t[t++]=null;var a=_t[t];if(_t[t++]=null,i!==null&&l!==null){var o=i.pending;o===null?l.next=l:(l.next=o.next,o.next=l),i.pending=l}a!==0&&p0(n,l,a)}}function is(e,t,n,i){_t[Di++]=e,_t[Di++]=t,_t[Di++]=n,_t[Di++]=i,Vu|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function Bu(e,t,n,i){return is(e,t,n,i),bo(e)}function gi(e,t){return is(e,null,null,t),bo(e)}function p0(e,t,n){e.lanes|=n;var i=e.alternate;i!==null&&(i.lanes|=n);for(var l=!1,a=e.return;a!==null;)a.childLanes|=n,i=a.alternate,i!==null&&(i.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(l=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,l&&t!==null&&(l=31-xt(n),e=a.hiddenUpdates,i=e[l],i===null?e[l]=[t]:i.push(t),t.lane=n|536870912),a):null}function bo(e){if(50<Yl)throw Yl=0,Jr=null,Error(D(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ui={};function uv(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(e,t,n,i){return new uv(e,t,n,i)}function Ou(e){return e=e.prototype,!(!e||!e.isReactComponent)}function un(e,t){var n=e.alternate;return n===null?(n=ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function h0(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function eo(e,t,n,i,l,a){var o=0;if(i=e,typeof e=="function")Ou(e)&&(o=1);else if(typeof e=="string")o=h1(e,n,Kt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case pr:return e=ht(31,n,t,l),e.elementType=pr,e.lanes=a,e;case Ci:return ni(n.children,l,a,t);case Dh:o=8,l|=24;break;case cr:return e=ht(12,n,t,l|2),e.elementType=cr,e.lanes=a,e;case dr:return e=ht(13,n,t,l),e.elementType=dr,e.lanes=a,e;case fr:return e=ht(19,n,t,l),e.elementType=fr,e.lanes=a,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case on:o=10;break e;case Uh:o=9;break e;case ku:o=11;break e;case Ru:o=14;break e;case Tn:o=16,i=null;break e}o=29,n=Error(D(130,e===null?"null":typeof e,"")),i=null}return t=ht(o,n,t,l),t.elementType=e,t.type=i,t.lanes=a,t}function ni(e,t,n,i){return e=ht(7,e,i,t),e.lanes=n,e}function Ls(e,t,n){return e=ht(6,e,null,t),e.lanes=n,e}function m0(e){var t=ht(18,null,null,0);return t.stateNode=e,t}function js(e,t,n){return t=ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var xd=new WeakMap;function At(e,t){if(typeof e=="object"&&e!==null){var n=xd.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Zc(t)},xd.set(e,t),t)}return{value:e,source:t,stack:Zc(t)}}var zi=[],Li=0,So=null,Zl=0,Et=[],Ct=0,Vn=null,Yt=1,Jt="";function ln(e,t){zi[Li++]=Zl,zi[Li++]=So,So=e,Zl=t}function g0(e,t,n){Et[Ct++]=Yt,Et[Ct++]=Jt,Et[Ct++]=Vn,Vn=e;var i=Yt;e=Jt;var l=32-xt(i)-1;i&=~(1<<l),n+=1;var a=32-xt(t)+l;if(30<a){var o=l-l%5;a=(i&(1<<o)-1).toString(32),i>>=o,l-=o,Yt=1<<32-xt(t)+l|n<<l|i,Jt=a+e}else Yt=1<<a|n<<l|i,Jt=e}function Fu(e){e.return!==null&&(ln(e,1),g0(e,1,0))}function Yu(e){for(;e===So;)So=zi[--Li],zi[Li]=null,Zl=zi[--Li],zi[Li]=null;for(;e===Vn;)Vn=Et[--Ct],Et[Ct]=null,Jt=Et[--Ct],Et[Ct]=null,Yt=Et[--Ct],Et[Ct]=null}function y0(e,t){Et[Ct++]=Yt,Et[Ct++]=Jt,Et[Ct++]=Vn,Yt=t.id,Jt=t.overflow,Vn=e}var Ye=null,Te=null,ce=!1,Un=null,Mt=!1,Nr=Error(D(519));function Bn(e){var t=Error(D(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wl(At(t,e)),Nr}function vd(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Fe]=e,t[ut]=i,n){case"dialog":se("cancel",t),se("close",t);break;case"iframe":case"object":case"embed":se("load",t);break;case"video":case"audio":for(n=0;n<ia.length;n++)se(ia[n],t);break;case"source":se("error",t);break;case"img":case"image":case"link":se("error",t),se("load",t);break;case"details":se("toggle",t);break;case"input":se("invalid",t),Jh(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":se("invalid",t);break;case"textarea":se("invalid",t),Kh(t,i.value,i.defaultValue,i.children)}n=i.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||i.suppressHydrationWarning===!0||Wm(t.textContent,n)?(i.popover!=null&&(se("beforetoggle",t),se("toggle",t)),i.onScroll!=null&&se("scroll",t),i.onScrollEnd!=null&&se("scrollend",t),i.onClick!=null&&(t.onclick=sn),t=!0):t=!1,t||Bn(e,!0)}function bd(e){for(Ye=e.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:Mt=!1;return;case 27:case 3:Mt=!0;return;default:Ye=Ye.return}}function bi(e){if(e!==Ye)return!1;if(!ce)return bd(e),ce=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Zr(e.type,e.memoizedProps)),n=!n),n&&Te&&Bn(e),bd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));Te=sf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));Te=sf(e)}else t===27?(t=Te,Jn(e.type)?(e=nu,nu=null,Te=e):Te=t):Te=Ye?Rt(e.stateNode.nextSibling):null;return!0}function oi(){Te=Ye=null,ce=!1}function Gs(){var e=Un;return e!==null&&(st===null?st=e:st.push.apply(st,e),Un=null),e}function Wl(e){Un===null?Un=[e]:Un.push(e)}var Ar=Xt(null),yi=null,rn=null;function wn(e,t,n){be(Ar,t._currentValue),t._currentValue=n}function cn(e){e._currentValue=Ar.current,Pe(Ar)}function Mr(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function kr(e,t,n,i){var l=e.child;for(l!==null&&(l.return=e);l!==null;){var a=l.dependencies;if(a!==null){var o=l.child;a=a.firstContext;e:for(;a!==null;){var r=a;a=l;for(var d=0;d<t.length;d++)if(r.context===t[d]){a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),Mr(a.return,n,e),i||(o=null);break e}a=r.next}}else if(l.tag===18){if(o=l.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Mr(o,n,e),o=null}else o=l.child;if(o!==null)o.return=l;else for(o=l;o!==null;){if(o===e){o=null;break}if(l=o.sibling,l!==null){l.return=o.return,o=l;break}o=o.return}l=o}}function dl(e,t,n,i){e=null;for(var l=t,a=!1;l!==null;){if(!a){if(l.flags&524288)a=!0;else if(l.flags&262144)break}if(l.tag===10){var o=l.alternate;if(o===null)throw Error(D(387));if(o=o.memoizedProps,o!==null){var r=l.type;St(l.pendingProps.value,o.value)||(e!==null?e.push(r):e=[r])}}else if(l===ho.current){if(o=l.alternate,o===null)throw Error(D(387));o.memoizedState.memoizedState!==l.memoizedState.memoizedState&&(e!==null?e.push(aa):e=[aa])}l=l.return}e!==null&&kr(t,e,n,i),t.flags|=262144}function To(e){for(e=e.firstContext;e!==null;){if(!St(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function si(e){yi=e,rn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Je(e){return x0(yi,e)}function za(e,t){return yi===null&&si(e),x0(e,t)}function x0(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},rn===null){if(e===null)throw Error(D(308));rn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else rn=rn.next=t;return n}var cv=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},dv=je.unstable_scheduleCallback,fv=je.unstable_NormalPriority,De={$$typeof:on,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ju(){return{controller:new cv,data:new Map,refCount:0}}function va(e){e.refCount--,e.refCount===0&&dv(fv,function(){e.controller.abort()})}var Gl=null,Rr=0,Zi=0,Bi=null;function pv(e,t){if(Gl===null){var n=Gl=[];Rr=0,Zi=xc(),Bi={status:"pending",value:void 0,then:function(i){n.push(i)}}}return Rr++,t.then(Sd,Sd),t}function Sd(){if(--Rr===0&&Gl!==null){Bi!==null&&(Bi.status="fulfilled");var e=Gl;Gl=null,Zi=0,Bi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function hv(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(l){n.push(l)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var l=0;l<n.length;l++)(0,n[l])(t)},function(l){for(i.status="rejected",i.reason=l,l=0;l<n.length;l++)(0,n[l])(void 0)}),i}var Td=X.S;X.S=function(e,t){Im=gt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&pv(e,t),Td!==null&&Td(e,t)};var ii=Xt(null);function $u(){var e=ii.current;return e!==null?e:ve.pooledCache}function to(e,t){t===null?be(ii,ii.current):be(ii,t.pool)}function v0(){var e=$u();return e===null?null:{parent:De._currentValue,pool:e}}var fl=Error(D(460)),Ku=Error(D(474)),ls=Error(D(542)),_o={then:function(){}};function _d(e){return e=e.status,e==="fulfilled"||e==="rejected"}function b0(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(sn,sn),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ed(e),e;default:if(typeof t.status=="string")t.then(sn,sn);else{if(e=ve,e!==null&&100<e.shellSuspendCounter)throw Error(D(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var l=t;l.status="fulfilled",l.value=i}},function(i){if(t.status==="pending"){var l=t;l.status="rejected",l.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ed(e),e}throw li=t,fl}}function Zn(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(li=n,fl):n}}var li=null;function wd(){if(li===null)throw Error(D(459));var e=li;return li=null,e}function Ed(e){if(e===fl||e===ls)throw Error(D(483))}var Oi=null,ea=0;function La(e){var t=ea;return ea+=1,Oi===null&&(Oi=[]),b0(Oi,e,t)}function Tl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ja(e,t){throw t.$$typeof===ex?Error(D(525)):(e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function S0(e){function t(y,x){if(e){var v=y.deletions;v===null?(y.deletions=[x],y.flags|=16):v.push(x)}}function n(y,x){if(!e)return null;for(;x!==null;)t(y,x),x=x.sibling;return null}function i(y){for(var x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function l(y,x){return y=un(y,x),y.index=0,y.sibling=null,y}function a(y,x,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<x?(y.flags|=67108866,x):v):(y.flags|=67108866,x)):(y.flags|=1048576,x)}function o(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function r(y,x,v,T){return x===null||x.tag!==6?(x=Ls(v,y.mode,T),x.return=y,x):(x=l(x,v),x.return=y,x)}function d(y,x,v,T){var A=v.type;return A===Ci?p(y,x,v.props.children,T,v.key):x!==null&&(x.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Tn&&Zn(A)===x.type)?(x=l(x,v.props),Tl(x,v),x.return=y,x):(x=eo(v.type,v.key,v.props,null,y.mode,T),Tl(x,v),x.return=y,x)}function f(y,x,v,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==v.containerInfo||x.stateNode.implementation!==v.implementation?(x=js(v,y.mode,T),x.return=y,x):(x=l(x,v.children||[]),x.return=y,x)}function p(y,x,v,T,A){return x===null||x.tag!==7?(x=ni(v,y.mode,T,A),x.return=y,x):(x=l(x,v),x.return=y,x)}function m(y,x,v){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Ls(""+x,y.mode,v),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ma:return v=eo(x.type,x.key,x.props,null,y.mode,v),Tl(v,x),v.return=y,v;case Al:return x=js(x,y.mode,v),x.return=y,x;case Tn:return x=Zn(x),m(y,x,v)}if(Ml(x)||vl(x))return x=ni(x,y.mode,v,null),x.return=y,x;if(typeof x.then=="function")return m(y,La(x),v);if(x.$$typeof===on)return m(y,za(y,x),v);ja(y,x)}return null}function h(y,x,v,T){var A=x!==null?x.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return A!==null?null:r(y,x,""+v,T);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ma:return v.key===A?d(y,x,v,T):null;case Al:return v.key===A?f(y,x,v,T):null;case Tn:return v=Zn(v),h(y,x,v,T)}if(Ml(v)||vl(v))return A!==null?null:p(y,x,v,T,null);if(typeof v.then=="function")return h(y,x,La(v),T);if(v.$$typeof===on)return h(y,x,za(y,v),T);ja(y,v)}return null}function g(y,x,v,T,A){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return y=y.get(v)||null,r(x,y,""+T,A);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Ma:return y=y.get(T.key===null?v:T.key)||null,d(x,y,T,A);case Al:return y=y.get(T.key===null?v:T.key)||null,f(x,y,T,A);case Tn:return T=Zn(T),g(y,x,v,T,A)}if(Ml(T)||vl(T))return y=y.get(v)||null,p(x,y,T,A,null);if(typeof T.then=="function")return g(y,x,v,La(T),A);if(T.$$typeof===on)return g(y,x,v,za(x,T),A);ja(x,T)}return null}function b(y,x,v,T){for(var A=null,L=null,C=x,R=x=0,M=null;C!==null&&R<v.length;R++){C.index>R?(M=C,C=null):M=C.sibling;var w=h(y,C,v[R],T);if(w===null){C===null&&(C=M);break}e&&C&&w.alternate===null&&t(y,C),x=a(w,x,R),L===null?A=w:L.sibling=w,L=w,C=M}if(R===v.length)return n(y,C),ce&&ln(y,R),A;if(C===null){for(;R<v.length;R++)C=m(y,v[R],T),C!==null&&(x=a(C,x,R),L===null?A=C:L.sibling=C,L=C);return ce&&ln(y,R),A}for(C=i(C);R<v.length;R++)M=g(C,y,R,v[R],T),M!==null&&(e&&M.alternate!==null&&C.delete(M.key===null?R:M.key),x=a(M,x,R),L===null?A=M:L.sibling=M,L=M);return e&&C.forEach(function(I){return t(y,I)}),ce&&ln(y,R),A}function S(y,x,v,T){if(v==null)throw Error(D(151));for(var A=null,L=null,C=x,R=x=0,M=null,w=v.next();C!==null&&!w.done;R++,w=v.next()){C.index>R?(M=C,C=null):M=C.sibling;var I=h(y,C,w.value,T);if(I===null){C===null&&(C=M);break}e&&C&&I.alternate===null&&t(y,C),x=a(I,x,R),L===null?A=I:L.sibling=I,L=I,C=M}if(w.done)return n(y,C),ce&&ln(y,R),A;if(C===null){for(;!w.done;R++,w=v.next())w=m(y,w.value,T),w!==null&&(x=a(w,x,R),L===null?A=w:L.sibling=w,L=w);return ce&&ln(y,R),A}for(C=i(C);!w.done;R++,w=v.next())w=g(C,y,R,w.value,T),w!==null&&(e&&w.alternate!==null&&C.delete(w.key===null?R:w.key),x=a(w,x,R),L===null?A=w:L.sibling=w,L=w);return e&&C.forEach(function(G){return t(y,G)}),ce&&ln(y,R),A}function _(y,x,v,T){if(typeof v=="object"&&v!==null&&v.type===Ci&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ma:e:{for(var A=v.key;x!==null;){if(x.key===A){if(A=v.type,A===Ci){if(x.tag===7){n(y,x.sibling),T=l(x,v.props.children),T.return=y,y=T;break e}}else if(x.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Tn&&Zn(A)===x.type){n(y,x.sibling),T=l(x,v.props),Tl(T,v),T.return=y,y=T;break e}n(y,x);break}else t(y,x);x=x.sibling}v.type===Ci?(T=ni(v.props.children,y.mode,T,v.key),T.return=y,y=T):(T=eo(v.type,v.key,v.props,null,y.mode,T),Tl(T,v),T.return=y,y=T)}return o(y);case Al:e:{for(A=v.key;x!==null;){if(x.key===A)if(x.tag===4&&x.stateNode.containerInfo===v.containerInfo&&x.stateNode.implementation===v.implementation){n(y,x.sibling),T=l(x,v.children||[]),T.return=y,y=T;break e}else{n(y,x);break}else t(y,x);x=x.sibling}T=js(v,y.mode,T),T.return=y,y=T}return o(y);case Tn:return v=Zn(v),_(y,x,v,T)}if(Ml(v))return b(y,x,v,T);if(vl(v)){if(A=vl(v),typeof A!="function")throw Error(D(150));return v=A.call(v),S(y,x,v,T)}if(typeof v.then=="function")return _(y,x,La(v),T);if(v.$$typeof===on)return _(y,x,za(y,v),T);ja(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,x!==null&&x.tag===6?(n(y,x.sibling),T=l(x,v),T.return=y,y=T):(n(y,x),T=Ls(v,y.mode,T),T.return=y,y=T),o(y)):n(y,x)}return function(y,x,v,T){try{ea=0;var A=_(y,x,v,T);return Oi=null,A}catch(C){if(C===fl||C===ls)throw C;var L=ht(29,C,null,y.mode);return L.lanes=T,L.return=y,L}finally{}}}var ri=S0(!0),T0=S0(!1),_n=!1;function Xu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ir(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ln(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,fe&2){var l=i.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),i.pending=t,t=bo(e),p0(e,null,n),t}return is(e,i,t,n),bo(e)}function Hl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Ph(e,n)}}function Hs(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?l=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:i.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:i.shared,callbacks:i.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Dr=!1;function Pl(){if(Dr){var e=Bi;if(e!==null)throw e}}function ql(e,t,n,i){Dr=!1;var l=e.updateQueue;_n=!1;var a=l.firstBaseUpdate,o=l.lastBaseUpdate,r=l.shared.pending;if(r!==null){l.shared.pending=null;var d=r,f=d.next;d.next=null,o===null?a=f:o.next=f,o=d;var p=e.alternate;p!==null&&(p=p.updateQueue,r=p.lastBaseUpdate,r!==o&&(r===null?p.firstBaseUpdate=f:r.next=f,p.lastBaseUpdate=d))}if(a!==null){var m=l.baseState;o=0,p=f=d=null,r=a;do{var h=r.lane&-536870913,g=h!==r.lane;if(g?(ue&h)===h:(i&h)===h){h!==0&&h===Zi&&(Dr=!0),p!==null&&(p=p.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var b=e,S=r;h=t;var _=n;switch(S.tag){case 1:if(b=S.payload,typeof b=="function"){m=b.call(_,m,h);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=S.payload,h=typeof b=="function"?b.call(_,m,h):b,h==null)break e;m=we({},m,h);break e;case 2:_n=!0}}h=r.callback,h!==null&&(e.flags|=64,g&&(e.flags|=8192),g=l.callbacks,g===null?l.callbacks=[h]:g.push(h))}else g={lane:h,tag:r.tag,payload:r.payload,callback:r.callback,next:null},p===null?(f=p=g,d=m):p=p.next=g,o|=h;if(r=r.next,r===null){if(r=l.shared.pending,r===null)break;g=r,r=g.next,g.next=null,l.lastBaseUpdate=g,l.shared.pending=null}}while(!0);p===null&&(d=m),l.baseState=d,l.firstBaseUpdate=f,l.lastBaseUpdate=p,a===null&&(l.shared.lanes=0),Fn|=o,e.lanes=o,e.memoizedState=m}}function _0(e,t){if(typeof e!="function")throw Error(D(191,e));e.call(t)}function w0(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)_0(n[e],t)}var Wi=Xt(null),wo=Xt(0);function Cd(e,t){e=gn,be(wo,e),be(Wi,t),gn=e|t.baseLanes}function Ur(){be(wo,gn),be(Wi,Wi.current)}function Qu(){gn=wo.current,Pe(Wi),Pe(wo)}var Tt=Xt(null),kt=null;function En(e){var t=e.alternate;be(Ae,Ae.current&1),be(Tt,e),kt===null&&(t===null||Wi.current!==null||t.memoizedState!==null)&&(kt=e)}function zr(e){be(Ae,Ae.current),be(Tt,e),kt===null&&(kt=e)}function E0(e){e.tag===22?(be(Ae,Ae.current),be(Tt,e),kt===null&&(kt=e)):Cn()}function Cn(){be(Ae,Ae.current),be(Tt,Tt.current)}function pt(e){Pe(Tt),kt===e&&(kt=null),Pe(Ae)}var Ae=Xt(0);function Eo(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||eu(n)||tu(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var pn=0,te=null,ye=null,Re=null,Co=!1,Fi=!1,ui=!1,No=0,ta=0,Yi=null,mv=0;function Ce(){throw Error(D(321))}function Zu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!St(e[n],t[n]))return!1;return!0}function Wu(e,t,n,i,l,a){return pn=a,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,X.H=e===null||e.memoizedState===null?nm:cc,ui=!1,a=n(i,l),ui=!1,Fi&&(a=N0(t,n,i,l)),C0(e),a}function C0(e){X.H=na;var t=ye!==null&&ye.next!==null;if(pn=0,Re=ye=te=null,Co=!1,ta=0,Yi=null,t)throw Error(D(300));e===null||Ue||(e=e.dependencies,e!==null&&To(e)&&(Ue=!0))}function N0(e,t,n,i){te=e;var l=0;do{if(Fi&&(Yi=null),ta=0,Fi=!1,25<=l)throw Error(D(301));if(l+=1,Re=ye=null,e.updateQueue!=null){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}X.H=im,a=t(n,i)}while(Fi);return a}function gv(){var e=X.H,t=e.useState()[0];return t=typeof t.then=="function"?ba(t):t,e=e.useState()[0],(ye!==null?ye.memoizedState:null)!==e&&(te.flags|=1024),t}function ec(){var e=No!==0;return No=0,e}function tc(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function nc(e){if(Co){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Co=!1}pn=0,Re=ye=te=null,Fi=!1,ta=No=0,Yi=null}function Qe(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?te.memoizedState=Re=e:Re=Re.next=e,Re}function Me(){if(ye===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=Re===null?te.memoizedState:Re.next;if(t!==null)Re=t,ye=e;else{if(e===null)throw te.alternate===null?Error(D(467)):Error(D(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},Re===null?te.memoizedState=Re=e:Re=Re.next=e}return Re}function as(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ba(e){var t=ta;return ta+=1,Yi===null&&(Yi=[]),e=b0(Yi,e,t),t=te,(Re===null?t.memoizedState:Re.next)===null&&(t=t.alternate,X.H=t===null||t.memoizedState===null?nm:cc),e}function os(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ba(e);if(e.$$typeof===on)return Je(e)}throw Error(D(438,String(e)))}function ic(e){var t=null,n=te.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var i=te.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(l){return l.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=as(),te.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=tx;return t.index++,n}function hn(e,t){return typeof t=="function"?t(e):t}function no(e){var t=Me();return lc(t,ye,e)}function lc(e,t,n){var i=e.queue;if(i===null)throw Error(D(311));i.lastRenderedReducer=n;var l=e.baseQueue,a=i.pending;if(a!==null){if(l!==null){var o=l.next;l.next=a.next,a.next=o}t.baseQueue=l=a,i.pending=null}if(a=e.baseState,l===null)e.memoizedState=a;else{t=l.next;var r=o=null,d=null,f=t,p=!1;do{var m=f.lane&-536870913;if(m!==f.lane?(ue&m)===m:(pn&m)===m){var h=f.revertLane;if(h===0)d!==null&&(d=d.next={lane:0,revertLane:0,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),m===Zi&&(p=!0);else if((pn&h)===h){f=f.next,h===Zi&&(p=!0);continue}else m={lane:0,revertLane:f.revertLane,gesture:null,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},d===null?(r=d=m,o=a):d=d.next=m,te.lanes|=h,Fn|=h;m=f.action,ui&&n(a,m),a=f.hasEagerState?f.eagerState:n(a,m)}else h={lane:m,revertLane:f.revertLane,gesture:f.gesture,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null},d===null?(r=d=h,o=a):d=d.next=h,te.lanes|=m,Fn|=m;f=f.next}while(f!==null&&f!==t);if(d===null?o=a:d.next=r,!St(a,e.memoizedState)&&(Ue=!0,p&&(n=Bi,n!==null)))throw n;e.memoizedState=a,e.baseState=o,e.baseQueue=d,i.lastRenderedState=a}return l===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Ps(e){var t=Me(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var i=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var o=l=l.next;do a=e(a,o.action),o=o.next;while(o!==l);St(a,t.memoizedState)||(Ue=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function A0(e,t,n){var i=te,l=Me(),a=ce;if(a){if(n===void 0)throw Error(D(407));n=n()}else n=t();var o=!St((ye||l).memoizedState,n);if(o&&(l.memoizedState=n,Ue=!0),l=l.queue,ac(R0.bind(null,i,l,e),[e]),l.getSnapshot!==t||o||Re!==null&&Re.memoizedState.tag&1){if(i.flags|=2048,el(9,{destroy:void 0},k0.bind(null,i,l,n,t),null),ve===null)throw Error(D(349));a||pn&127||M0(i,t,n)}return n}function M0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=te.updateQueue,t===null?(t=as(),te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function k0(e,t,n,i){t.value=n,t.getSnapshot=i,I0(t)&&D0(e)}function R0(e,t,n){return n(function(){I0(t)&&D0(e)})}function I0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!St(e,n)}catch{return!0}}function D0(e){var t=gi(e,2);t!==null&&rt(t,e,2)}function Lr(e){var t=Qe();if(typeof e=="function"){var n=e;if(e=n(),ui){An(!0);try{n()}finally{An(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:e},t}function U0(e,t,n,i){return e.baseState=n,lc(e,ye,typeof i=="function"?i:hn)}function yv(e,t,n,i,l){if(rs(e))throw Error(D(485));if(e=t.action,e!==null){var a={payload:l,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){a.listeners.push(o)}};X.T!==null?n(!0):a.isTransition=!1,i(a),n=t.pending,n===null?(a.next=t.pending=a,z0(t,a)):(a.next=n.next,t.pending=n.next=a)}}function z0(e,t){var n=t.action,i=t.payload,l=e.state;if(t.isTransition){var a=X.T,o={};X.T=o;try{var r=n(l,i),d=X.S;d!==null&&d(o,r),Nd(e,t,r)}catch(f){jr(e,t,f)}finally{a!==null&&o.types!==null&&(a.types=o.types),X.T=a}}else try{a=n(l,i),Nd(e,t,a)}catch(f){jr(e,t,f)}}function Nd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(i){Ad(e,t,i)},function(i){return jr(e,t,i)}):Ad(e,t,n)}function Ad(e,t,n){t.status="fulfilled",t.value=n,L0(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,z0(e,n)))}function jr(e,t,n){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=n,L0(t),t=t.next;while(t!==i)}e.action=null}function L0(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function j0(e,t){return t}function Md(e,t){if(ce){var n=ve.formState;if(n!==null){e:{var i=te;if(ce){if(Te){t:{for(var l=Te,a=Mt;l.nodeType!==8;){if(!a){l=null;break t}if(l=Rt(l.nextSibling),l===null){l=null;break t}}a=l.data,l=a==="F!"||a==="F"?l:null}if(l){Te=Rt(l.nextSibling),i=l.data==="F!";break e}}Bn(i)}i=!1}i&&(t=n[0])}}return n=Qe(),n.memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:j0,lastRenderedState:t},n.queue=i,n=W0.bind(null,te,i),i.dispatch=n,i=Lr(!1),a=uc.bind(null,te,!1,i.queue),i=Qe(),l={state:t,dispatch:null,action:e,pending:null},i.queue=l,n=yv.bind(null,te,l,a,n),l.dispatch=n,i.memoizedState=e,[t,n,!1]}function kd(e){var t=Me();return G0(t,ye,e)}function G0(e,t,n){if(t=lc(e,t,j0)[0],e=no(hn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=ba(t)}catch(o){throw o===fl?ls:o}else i=t;t=Me();var l=t.queue,a=l.dispatch;return n!==t.memoizedState&&(te.flags|=2048,el(9,{destroy:void 0},xv.bind(null,l,n),null)),[i,a,e]}function xv(e,t){e.action=t}function Rd(e){var t=Me(),n=ye;if(n!==null)return G0(t,n,e);Me(),t=t.memoizedState,n=Me();var i=n.queue.dispatch;return n.memoizedState=e,[t,i,!1]}function el(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},t=te.updateQueue,t===null&&(t=as(),te.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function H0(){return Me().memoizedState}function io(e,t,n,i){var l=Qe();te.flags|=e,l.memoizedState=el(1|t,{destroy:void 0},n,i===void 0?null:i)}function ss(e,t,n,i){var l=Me();i=i===void 0?null:i;var a=l.memoizedState.inst;ye!==null&&i!==null&&Zu(i,ye.memoizedState.deps)?l.memoizedState=el(t,a,n,i):(te.flags|=e,l.memoizedState=el(1|t,a,n,i))}function Id(e,t){io(8390656,8,e,t)}function ac(e,t){ss(2048,8,e,t)}function vv(e){te.flags|=4;var t=te.updateQueue;if(t===null)t=as(),te.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function P0(e){var t=Me().memoizedState;return vv({ref:t,nextImpl:e}),function(){if(fe&2)throw Error(D(440));return t.impl.apply(void 0,arguments)}}function q0(e,t){return ss(4,2,e,t)}function V0(e,t){return ss(4,4,e,t)}function B0(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function O0(e,t,n){n=n!=null?n.concat([e]):null,ss(4,4,B0.bind(null,t,e),n)}function oc(){}function F0(e,t){var n=Me();t=t===void 0?null:t;var i=n.memoizedState;return t!==null&&Zu(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Y0(e,t){var n=Me();t=t===void 0?null:t;var i=n.memoizedState;if(t!==null&&Zu(t,i[1]))return i[0];if(i=e(),ui){An(!0);try{e()}finally{An(!1)}}return n.memoizedState=[i,t],i}function sc(e,t,n){return n===void 0||pn&1073741824&&!(ue&261930)?e.memoizedState=t:(e.memoizedState=n,e=Um(),te.lanes|=e,Fn|=e,n)}function J0(e,t,n,i){return St(n,t)?n:Wi.current!==null?(e=sc(e,n,i),St(e,t)||(Ue=!0),e):!(pn&42)||pn&1073741824&&!(ue&261930)?(Ue=!0,e.memoizedState=n):(e=Um(),te.lanes|=e,Fn|=e,t)}function $0(e,t,n,i,l){var a=pe.p;pe.p=a!==0&&8>a?a:8;var o=X.T,r={};X.T=r,uc(e,!1,t,n);try{var d=l(),f=X.S;if(f!==null&&f(r,d),d!==null&&typeof d=="object"&&typeof d.then=="function"){var p=hv(d,i);Vl(e,t,p,vt(e))}else Vl(e,t,i,vt(e))}catch(m){Vl(e,t,{then:function(){},status:"rejected",reason:m},vt())}finally{pe.p=a,o!==null&&r.types!==null&&(o.types=r.types),X.T=o}}function bv(){}function Gr(e,t,n,i){if(e.tag!==5)throw Error(D(476));var l=K0(e).queue;$0(e,l,t,ti,n===null?bv:function(){return X0(e),n(i)})}function K0(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ti,baseState:ti,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:ti},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:hn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function X0(e){var t=K0(e);t.next===null&&(t=e.alternate.memoizedState),Vl(e,t.next.queue,{},vt())}function rc(){return Je(aa)}function Q0(){return Me().memoizedState}function Z0(){return Me().memoizedState}function Sv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=vt();e=zn(n);var i=Ln(t,e,n);i!==null&&(rt(i,t,n),Hl(i,t,n)),t={cache:Ju()},e.payload=t;return}t=t.return}}function Tv(e,t,n){var i=vt();n={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e)?em(t,n):(n=Bu(e,t,n,i),n!==null&&(rt(n,e,i),tm(n,t,i)))}function W0(e,t,n){var i=vt();Vl(e,t,n,i)}function Vl(e,t,n,i){var l={lane:i,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))em(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,r=a(o,n);if(l.hasEagerState=!0,l.eagerState=r,St(r,o))return is(e,t,l,0),ve===null&&ns(),!1}catch{}finally{}if(n=Bu(e,t,l,i),n!==null)return rt(n,e,i),tm(n,t,i),!0}return!1}function uc(e,t,n,i){if(i={lane:2,revertLane:xc(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},rs(e)){if(t)throw Error(D(479))}else t=Bu(e,n,i,2),t!==null&&rt(t,e,2)}function rs(e){var t=e.alternate;return e===te||t!==null&&t===te}function em(e,t){Fi=Co=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function tm(e,t,n){if(n&4194048){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,Ph(e,n)}}var na={readContext:Je,use:os,useCallback:Ce,useContext:Ce,useEffect:Ce,useImperativeHandle:Ce,useLayoutEffect:Ce,useInsertionEffect:Ce,useMemo:Ce,useReducer:Ce,useRef:Ce,useState:Ce,useDebugValue:Ce,useDeferredValue:Ce,useTransition:Ce,useSyncExternalStore:Ce,useId:Ce,useHostTransitionStatus:Ce,useFormState:Ce,useActionState:Ce,useOptimistic:Ce,useMemoCache:Ce,useCacheRefresh:Ce};na.useEffectEvent=Ce;var nm={readContext:Je,use:os,useCallback:function(e,t){return Qe().memoizedState=[e,t===void 0?null:t],e},useContext:Je,useEffect:Id,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,io(4194308,4,B0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return io(4194308,4,e,t)},useInsertionEffect:function(e,t){io(4,2,e,t)},useMemo:function(e,t){var n=Qe();t=t===void 0?null:t;var i=e();if(ui){An(!0);try{e()}finally{An(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Qe();if(n!==void 0){var l=n(t);if(ui){An(!0);try{n(t)}finally{An(!1)}}}else l=t;return i.memoizedState=i.baseState=l,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:l},i.queue=e,e=e.dispatch=Tv.bind(null,te,e),[i.memoizedState,e]},useRef:function(e){var t=Qe();return e={current:e},t.memoizedState=e},useState:function(e){e=Lr(e);var t=e.queue,n=W0.bind(null,te,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:oc,useDeferredValue:function(e,t){var n=Qe();return sc(n,e,t)},useTransition:function(){var e=Lr(!1);return e=$0.bind(null,te,e.queue,!0,!1),Qe().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=te,l=Qe();if(ce){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),ve===null)throw Error(D(349));ue&127||M0(i,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,Id(R0.bind(null,i,a,e),[e]),i.flags|=2048,el(9,{destroy:void 0},k0.bind(null,i,a,n,t),null),n},useId:function(){var e=Qe(),t=ve.identifierPrefix;if(ce){var n=Jt,i=Yt;n=(i&~(1<<32-xt(i)-1)).toString(32)+n,t="_"+t+"R_"+n,n=No++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=mv++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:rc,useFormState:Md,useActionState:Md,useOptimistic:function(e){var t=Qe();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=uc.bind(null,te,!0,n),n.dispatch=t,[e,t]},useMemoCache:ic,useCacheRefresh:function(){return Qe().memoizedState=Sv.bind(null,te)},useEffectEvent:function(e){var t=Qe(),n={impl:e};return t.memoizedState=n,function(){if(fe&2)throw Error(D(440));return n.impl.apply(void 0,arguments)}}},cc={readContext:Je,use:os,useCallback:F0,useContext:Je,useEffect:ac,useImperativeHandle:O0,useInsertionEffect:q0,useLayoutEffect:V0,useMemo:Y0,useReducer:no,useRef:H0,useState:function(){return no(hn)},useDebugValue:oc,useDeferredValue:function(e,t){var n=Me();return J0(n,ye.memoizedState,e,t)},useTransition:function(){var e=no(hn)[0],t=Me().memoizedState;return[typeof e=="boolean"?e:ba(e),t]},useSyncExternalStore:A0,useId:Q0,useHostTransitionStatus:rc,useFormState:kd,useActionState:kd,useOptimistic:function(e,t){var n=Me();return U0(n,ye,e,t)},useMemoCache:ic,useCacheRefresh:Z0};cc.useEffectEvent=P0;var im={readContext:Je,use:os,useCallback:F0,useContext:Je,useEffect:ac,useImperativeHandle:O0,useInsertionEffect:q0,useLayoutEffect:V0,useMemo:Y0,useReducer:Ps,useRef:H0,useState:function(){return Ps(hn)},useDebugValue:oc,useDeferredValue:function(e,t){var n=Me();return ye===null?sc(n,e,t):J0(n,ye.memoizedState,e,t)},useTransition:function(){var e=Ps(hn)[0],t=Me().memoizedState;return[typeof e=="boolean"?e:ba(e),t]},useSyncExternalStore:A0,useId:Q0,useHostTransitionStatus:rc,useFormState:Rd,useActionState:Rd,useOptimistic:function(e,t){var n=Me();return ye!==null?U0(n,ye,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:ic,useCacheRefresh:Z0};im.useEffectEvent=P0;function qs(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:we({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Hr={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=vt(),l=zn(i);l.payload=t,n!=null&&(l.callback=n),t=Ln(e,l,i),t!==null&&(rt(t,e,i),Hl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=vt(),l=zn(i);l.tag=1,l.payload=t,n!=null&&(l.callback=n),t=Ln(e,l,i),t!==null&&(rt(t,e,i),Hl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=vt(),i=zn(n);i.tag=2,t!=null&&(i.callback=t),t=Ln(e,i,n),t!==null&&(rt(t,e,n),Hl(t,e,n))}};function Dd(e,t,n,i,l,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,o):t.prototype&&t.prototype.isPureReactComponent?!Ql(n,i)||!Ql(l,a):!0}function Ud(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&Hr.enqueueReplaceState(t,t.state,null)}function ci(e,t){var n=t;if("ref"in t){n={};for(var i in t)i!=="ref"&&(n[i]=t[i])}if(e=e.defaultProps){n===t&&(n=we({},n));for(var l in e)n[l]===void 0&&(n[l]=e[l])}return n}function lm(e){vo(e)}function am(e){console.error(e)}function om(e){vo(e)}function Ao(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function zd(e,t,n){try{var i=e.onCaughtError;i(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(l){setTimeout(function(){throw l})}}function Pr(e,t,n){return n=zn(n),n.tag=3,n.payload={element:null},n.callback=function(){Ao(e,t)},n}function sm(e){return e=zn(e),e.tag=3,e}function rm(e,t,n,i){var l=n.type.getDerivedStateFromError;if(typeof l=="function"){var a=i.value;e.payload=function(){return l(a)},e.callback=function(){zd(t,n,i)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){zd(t,n,i),typeof l!="function"&&(jn===null?jn=new Set([this]):jn.add(this));var r=i.stack;this.componentDidCatch(i.value,{componentStack:r!==null?r:""})})}function _v(e,t,n,i,l){if(n.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=n.alternate,t!==null&&dl(t,n,l,!0),n=Tt.current,n!==null){switch(n.tag){case 31:case 13:return kt===null?Do():n.alternate===null&&Ne===0&&(Ne=3),n.flags&=-257,n.flags|=65536,n.lanes=l,i===_o?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([i]):t.add(i),Zs(e,i,l)),!1;case 22:return n.flags|=65536,i===_o?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([i]):n.add(i)),Zs(e,i,l)),!1}throw Error(D(435,n.tag))}return Zs(e,i,l),Do(),!1}if(ce)return t=Tt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=l,i!==Nr&&(e=Error(D(422),{cause:i}),Wl(At(e,n)))):(i!==Nr&&(t=Error(D(423),{cause:i}),Wl(At(t,n))),e=e.current.alternate,e.flags|=65536,l&=-l,e.lanes|=l,i=At(i,n),l=Pr(e.stateNode,i,l),Hs(e,l),Ne!==4&&(Ne=2)),!1;var a=Error(D(520),{cause:i});if(a=At(a,n),Fl===null?Fl=[a]:Fl.push(a),Ne!==4&&(Ne=2),t===null)return!0;i=At(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=l&-l,n.lanes|=e,e=Pr(n.stateNode,i,e),Hs(n,e),!1;case 1:if(t=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(jn===null||!jn.has(a))))return n.flags|=65536,l&=-l,n.lanes|=l,l=sm(l),rm(l,e,n,i),Hs(n,l),!1}n=n.return}while(n!==null);return!1}var dc=Error(D(461)),Ue=!1;function Oe(e,t,n,i){t.child=e===null?T0(t,null,n,i):ri(t,e.child,n,i)}function Ld(e,t,n,i,l){n=n.render;var a=t.ref;if("ref"in i){var o={};for(var r in i)r!=="ref"&&(o[r]=i[r])}else o=i;return si(t),i=Wu(e,t,n,o,a,l),r=ec(),e!==null&&!Ue?(tc(e,t,l),mn(e,t,l)):(ce&&r&&Fu(t),t.flags|=1,Oe(e,t,i,l),t.child)}function jd(e,t,n,i,l){if(e===null){var a=n.type;return typeof a=="function"&&!Ou(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,um(e,t,a,i,l)):(e=eo(n.type,null,i,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!fc(e,l)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Ql,n(o,i)&&e.ref===t.ref)return mn(e,t,l)}return t.flags|=1,e=un(a,i),e.ref=t.ref,e.return=t,t.child=e}function um(e,t,n,i,l){if(e!==null){var a=e.memoizedProps;if(Ql(a,i)&&e.ref===t.ref)if(Ue=!1,t.pendingProps=i=a,fc(e,l))e.flags&131072&&(Ue=!0);else return t.lanes=e.lanes,mn(e,t,l)}return qr(e,t,n,i,l)}function cm(e,t,n,i){var l=i.children,a=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if(t.flags&128){if(a=a!==null?a.baseLanes|n:n,e!==null){for(i=t.child=e.child,l=0;i!==null;)l=l|i.lanes|i.childLanes,i=i.sibling;i=l&~a}else i=0,t.child=null;return Gd(e,t,a,n,i)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&to(t,a!==null?a.cachePool:null),a!==null?Cd(t,a):Ur(),E0(t);else return i=t.lanes=536870912,Gd(e,t,a!==null?a.baseLanes|n:n,n,i)}else a!==null?(to(t,a.cachePool),Cd(t,a),Cn(),t.memoizedState=null):(e!==null&&to(t,null),Ur(),Cn());return Oe(e,t,l,n),t.child}function Rl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Gd(e,t,n,i,l){var a=$u();return a=a===null?null:{parent:De._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&to(t,null),Ur(),E0(t),e!==null&&dl(e,t,i,!0),t.childLanes=l,null}function lo(e,t){return t=Mo({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Hd(e,t,n){return ri(t,e.child,null,n),e=lo(t,t.pendingProps),e.flags|=2,pt(t),t.memoizedState=null,e}function wv(e,t,n){var i=t.pendingProps,l=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(ce){if(i.mode==="hidden")return e=lo(t,i),t.lanes=536870912,Rl(null,e);if(zr(t),(e=Te)?(e=ng(e,Mt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Vn!==null?{id:Yt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},n=m0(e),n.return=t,t.child=n,Ye=t,Te=null)):e=null,e===null)throw Bn(t);return t.lanes=536870912,null}return lo(t,i)}var a=e.memoizedState;if(a!==null){var o=a.dehydrated;if(zr(t),l)if(t.flags&256)t.flags&=-257,t=Hd(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(D(558));else if(Ue||dl(e,t,n,!1),l=(n&e.childLanes)!==0,Ue||l){if(i=ve,i!==null&&(o=qh(i,n),o!==0&&o!==a.retryLane))throw a.retryLane=o,gi(e,o),rt(i,e,o),dc;Do(),t=Hd(e,t,n)}else e=a.treeContext,Te=Rt(o.nextSibling),Ye=t,ce=!0,Un=null,Mt=!1,e!==null&&y0(t,e),t=lo(t,i),t.flags|=4096;return t}return e=un(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ao(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(D(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function qr(e,t,n,i,l){return si(t),n=Wu(e,t,n,i,void 0,l),i=ec(),e!==null&&!Ue?(tc(e,t,l),mn(e,t,l)):(ce&&i&&Fu(t),t.flags|=1,Oe(e,t,n,l),t.child)}function Pd(e,t,n,i,l,a){return si(t),t.updateQueue=null,n=N0(t,i,n,l),C0(e),i=ec(),e!==null&&!Ue?(tc(e,t,a),mn(e,t,a)):(ce&&i&&Fu(t),t.flags|=1,Oe(e,t,n,a),t.child)}function qd(e,t,n,i,l){if(si(t),t.stateNode===null){var a=Ui,o=n.contextType;typeof o=="object"&&o!==null&&(a=Je(o)),a=new n(i,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Hr,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=i,a.state=t.memoizedState,a.refs={},Xu(t),o=n.contextType,a.context=typeof o=="object"&&o!==null?Je(o):Ui,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o=="function"&&(qs(t,n,o,i),a.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(o=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),o!==a.state&&Hr.enqueueReplaceState(a,a.state,null),ql(t,i,a,l),Pl(),a.state=t.memoizedState),typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){a=t.stateNode;var r=t.memoizedProps,d=ci(n,r);a.props=d;var f=a.context,p=n.contextType;o=Ui,typeof p=="object"&&p!==null&&(o=Je(p));var m=n.getDerivedStateFromProps;p=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(r||f!==o)&&Ud(t,a,i,o),_n=!1;var h=t.memoizedState;a.state=h,ql(t,i,a,l),Pl(),f=t.memoizedState,r||h!==f||_n?(typeof m=="function"&&(qs(t,n,m,i),f=t.memoizedState),(d=_n||Dd(t,n,d,i,h,f,o))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=f),a.props=i,a.state=f,a.context=o,i=d):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,Ir(e,t),o=t.memoizedProps,p=ci(n,o),a.props=p,m=t.pendingProps,h=a.context,f=n.contextType,d=Ui,typeof f=="object"&&f!==null&&(d=Je(f)),r=n.getDerivedStateFromProps,(f=typeof r=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==m||h!==d)&&Ud(t,a,i,d),_n=!1,h=t.memoizedState,a.state=h,ql(t,i,a,l),Pl();var g=t.memoizedState;o!==m||h!==g||_n||e!==null&&e.dependencies!==null&&To(e.dependencies)?(typeof r=="function"&&(qs(t,n,r,i),g=t.memoizedState),(p=_n||Dd(t,n,p,i,h,g,d)||e!==null&&e.dependencies!==null&&To(e.dependencies))?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,g,d),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,g,d)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=g),a.props=i,a.state=g,a.context=d,i=p):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return a=i,ao(e,t),i=(t.flags&128)!==0,a||i?(a=t.stateNode,n=i&&typeof n.getDerivedStateFromError!="function"?null:a.render(),t.flags|=1,e!==null&&i?(t.child=ri(t,e.child,null,l),t.child=ri(t,null,n,l)):Oe(e,t,n,l),t.memoizedState=a.state,e=t.child):e=mn(e,t,l),e}function Vd(e,t,n,i){return oi(),t.flags|=256,Oe(e,t,n,i),t.child}var Vs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bs(e){return{baseLanes:e,cachePool:v0()}}function Os(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=mt),e}function dm(e,t,n){var i=t.pendingProps,l=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),o&&(l=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(ce){if(l?En(t):Cn(),(e=Te)?(e=ng(e,Mt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Vn!==null?{id:Yt,overflow:Jt}:null,retryLane:536870912,hydrationErrors:null},n=m0(e),n.return=t,t.child=n,Ye=t,Te=null)):e=null,e===null)throw Bn(t);return tu(e)?t.lanes=32:t.lanes=536870912,null}var r=i.children;return i=i.fallback,l?(Cn(),l=t.mode,r=Mo({mode:"hidden",children:r},l),i=ni(i,l,n,null),r.return=t,i.return=t,r.sibling=i,t.child=r,i=t.child,i.memoizedState=Bs(n),i.childLanes=Os(e,o,n),t.memoizedState=Vs,Rl(null,i)):(En(t),Vr(t,r))}var d=e.memoizedState;if(d!==null&&(r=d.dehydrated,r!==null)){if(a)t.flags&256?(En(t),t.flags&=-257,t=Fs(e,t,n)):t.memoizedState!==null?(Cn(),t.child=e.child,t.flags|=128,t=null):(Cn(),r=i.fallback,l=t.mode,i=Mo({mode:"visible",children:i.children},l),r=ni(r,l,n,null),r.flags|=2,i.return=t,r.return=t,i.sibling=r,t.child=i,ri(t,e.child,null,n),i=t.child,i.memoizedState=Bs(n),i.childLanes=Os(e,o,n),t.memoizedState=Vs,t=Rl(null,i));else if(En(t),tu(r)){if(o=r.nextSibling&&r.nextSibling.dataset,o)var f=o.dgst;o=f,i=Error(D(419)),i.stack="",i.digest=o,Wl({value:i,source:null,stack:null}),t=Fs(e,t,n)}else if(Ue||dl(e,t,n,!1),o=(n&e.childLanes)!==0,Ue||o){if(o=ve,o!==null&&(i=qh(o,n),i!==0&&i!==d.retryLane))throw d.retryLane=i,gi(e,i),rt(o,e,i),dc;eu(r)||Do(),t=Fs(e,t,n)}else eu(r)?(t.flags|=192,t.child=e.child,t=null):(e=d.treeContext,Te=Rt(r.nextSibling),Ye=t,ce=!0,Un=null,Mt=!1,e!==null&&y0(t,e),t=Vr(t,i.children),t.flags|=4096);return t}return l?(Cn(),r=i.fallback,l=t.mode,d=e.child,f=d.sibling,i=un(d,{mode:"hidden",children:i.children}),i.subtreeFlags=d.subtreeFlags&65011712,f!==null?r=un(f,r):(r=ni(r,l,n,null),r.flags|=2),r.return=t,i.return=t,i.sibling=r,t.child=i,Rl(null,i),i=t.child,r=e.child.memoizedState,r===null?r=Bs(n):(l=r.cachePool,l!==null?(d=De._currentValue,l=l.parent!==d?{parent:d,pool:d}:l):l=v0(),r={baseLanes:r.baseLanes|n,cachePool:l}),i.memoizedState=r,i.childLanes=Os(e,o,n),t.memoizedState=Vs,Rl(e.child,i)):(En(t),n=e.child,e=n.sibling,n=un(n,{mode:"visible",children:i.children}),n.return=t,n.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=n,t.memoizedState=null,n)}function Vr(e,t){return t=Mo({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Mo(e,t){return e=ht(22,e,null,t),e.lanes=0,e}function Fs(e,t,n){return ri(t,e.child,null,n),e=Vr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Bd(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Mr(e.return,t,n)}function Ys(e,t,n,i,l,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:l,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=l,o.treeForkCount=a)}function fm(e,t,n){var i=t.pendingProps,l=i.revealOrder,a=i.tail;i=i.children;var o=Ae.current,r=(o&2)!==0;if(r?(o=o&1|2,t.flags|=128):o&=1,be(Ae,o),Oe(e,t,i,n),i=ce?Zl:0,!r&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bd(e,n,t);else if(e.tag===19)Bd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Eo(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),Ys(t,!1,l,n,a,i);break;case"backwards":case"unstable_legacy-backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Eo(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}Ys(t,!0,n,null,a,i);break;case"together":Ys(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function mn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fn|=t.lanes,!(n&t.childLanes))if(e!==null){if(dl(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=un(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=un(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function fc(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&To(e)))}function Ev(e,t,n){switch(t.tag){case 3:mo(t,t.stateNode.containerInfo),wn(t,De,e.memoizedState.cache),oi();break;case 27:case 5:gr(t);break;case 4:mo(t,t.stateNode.containerInfo);break;case 10:wn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,zr(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(En(t),t.flags|=128,null):n&t.child.childLanes?dm(e,t,n):(En(t),e=mn(e,t,n),e!==null?e.sibling:null);En(t);break;case 19:var l=(e.flags&128)!==0;if(i=(n&t.childLanes)!==0,i||(dl(e,t,n,!1),i=(n&t.childLanes)!==0),l){if(i)return fm(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),be(Ae,Ae.current),i)break;return null;case 22:return t.lanes=0,cm(e,t,n,t.pendingProps);case 24:wn(t,De,e.memoizedState.cache)}return mn(e,t,n)}function pm(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ue=!0;else{if(!fc(e,n)&&!(t.flags&128))return Ue=!1,Ev(e,t,n);Ue=!!(e.flags&131072)}else Ue=!1,ce&&t.flags&1048576&&g0(t,Zl,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=Zn(t.elementType),t.type=e,typeof e=="function")Ou(e)?(i=ci(e,i),t.tag=1,t=qd(null,t,e,i,n)):(t.tag=0,t=qr(null,t,e,i,n));else{if(e!=null){var l=e.$$typeof;if(l===ku){t.tag=11,t=Ld(null,t,e,i,n);break e}else if(l===Ru){t.tag=14,t=jd(null,t,e,i,n);break e}}throw t=hr(e)||e,Error(D(306,t,""))}}return t;case 0:return qr(e,t,t.type,t.pendingProps,n);case 1:return i=t.type,l=ci(i,t.pendingProps),qd(e,t,i,l,n);case 3:e:{if(mo(t,t.stateNode.containerInfo),e===null)throw Error(D(387));i=t.pendingProps;var a=t.memoizedState;l=a.element,Ir(e,t),ql(t,i,null,n);var o=t.memoizedState;if(i=o.cache,wn(t,De,i),i!==a.cache&&kr(t,[De],n,!0),Pl(),i=o.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){t=Vd(e,t,i,n);break e}else if(i!==l){l=At(Error(D(424)),t),Wl(l),t=Vd(e,t,i,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Te=Rt(e.firstChild),Ye=t,ce=!0,Un=null,Mt=!0,n=T0(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(oi(),i===l){t=mn(e,t,n);break e}Oe(e,t,i,n)}t=t.child}return t;case 26:return ao(e,t),e===null?(n=cf(t.type,null,t.pendingProps,null))?t.memoizedState=n:ce||(n=t.type,e=t.pendingProps,i=jo(Dn.current).createElement(n),i[Fe]=t,i[ut]=e,$e(i,n,e),He(i),t.stateNode=i):t.memoizedState=cf(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return gr(t),e===null&&ce&&(i=t.stateNode=ig(t.type,t.pendingProps,Dn.current),Ye=t,Mt=!0,l=Te,Jn(t.type)?(nu=l,Te=Rt(i.firstChild)):Te=l),Oe(e,t,t.pendingProps.children,n),ao(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ce&&((l=i=Te)&&(i=t1(i,t.type,t.pendingProps,Mt),i!==null?(t.stateNode=i,Ye=t,Te=Rt(i.firstChild),Mt=!1,l=!0):l=!1),l||Bn(t)),gr(t),l=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,i=a.children,Zr(l,a)?i=null:o!==null&&Zr(l,o)&&(t.flags|=32),t.memoizedState!==null&&(l=Wu(e,t,gv,null,null,n),aa._currentValue=l),ao(e,t),Oe(e,t,i,n),t.child;case 6:return e===null&&ce&&((e=n=Te)&&(n=n1(n,t.pendingProps,Mt),n!==null?(t.stateNode=n,Ye=t,Te=null,e=!0):e=!1),e||Bn(t)),null;case 13:return dm(e,t,n);case 4:return mo(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=ri(t,null,i,n):Oe(e,t,i,n),t.child;case 11:return Ld(e,t,t.type,t.pendingProps,n);case 7:return Oe(e,t,t.pendingProps,n),t.child;case 8:return Oe(e,t,t.pendingProps.children,n),t.child;case 12:return Oe(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,wn(t,t.type,i.value),Oe(e,t,i.children,n),t.child;case 9:return l=t.type._context,i=t.pendingProps.children,si(t),l=Je(l),i=i(l),t.flags|=1,Oe(e,t,i,n),t.child;case 14:return jd(e,t,t.type,t.pendingProps,n);case 15:return um(e,t,t.type,t.pendingProps,n);case 19:return fm(e,t,n);case 31:return wv(e,t,n);case 22:return cm(e,t,n,t.pendingProps);case 24:return si(t),i=Je(De),e===null?(l=$u(),l===null&&(l=ve,a=Ju(),l.pooledCache=a,a.refCount++,a!==null&&(l.pooledCacheLanes|=n),l=a),t.memoizedState={parent:i,cache:l},Xu(t),wn(t,De,l)):(e.lanes&n&&(Ir(e,t),ql(t,null,null,n),Pl()),l=e.memoizedState,a=t.memoizedState,l.parent!==i?(l={parent:i,cache:i},t.memoizedState=l,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=l),wn(t,De,i)):(i=a.cache,wn(t,De,i),i!==l.cache&&kr(t,[De],n,!0))),Oe(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(D(156,t.tag))}function Wt(e){e.flags|=4}function Js(e,t,n,i,l){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(l&335544128)===l)if(e.stateNode.complete)e.flags|=8192;else if(jm())e.flags|=8192;else throw li=_o,Ku}else e.flags&=-16777217}function Od(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!og(t))if(jm())e.flags|=8192;else throw li=_o,Ku}function Ga(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Gh():536870912,e.lanes|=t,tl|=t)}function _l(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Se(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags&65011712,i|=l.flags&65011712,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,i|=l.subtreeFlags,i|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Cv(e,t,n){var i=t.pendingProps;switch(Yu(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Se(t),null;case 1:return Se(t),null;case 3:return n=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),cn(De),Ki(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(bi(t)?Wt(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Gs())),Se(t),null;case 26:var l=t.type,a=t.memoizedState;return e===null?(Wt(t),a!==null?(Se(t),Od(t,a)):(Se(t),Js(t,l,null,i,n))):a?a!==e.memoizedState?(Wt(t),Se(t),Od(t,a)):(Se(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&Wt(t),Se(t),Js(t,l,e,i,n)),null;case 27:if(go(t),n=Dn.current,l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Wt(t);else{if(!i){if(t.stateNode===null)throw Error(D(166));return Se(t),null}e=Kt.current,bi(t)?vd(t):(e=ig(l,i,n),t.stateNode=e,Wt(t))}return Se(t),null;case 5:if(go(t),l=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&Wt(t);else{if(!i){if(t.stateNode===null)throw Error(D(166));return Se(t),null}if(a=Kt.current,bi(t))vd(t);else{var o=jo(Dn.current);switch(a){case 1:a=o.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:a=o.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":a=o.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":a=o.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":a=o.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof i.is=="string"?o.createElement("select",{is:i.is}):o.createElement("select"),i.multiple?a.multiple=!0:i.size&&(a.size=i.size);break;default:a=typeof i.is=="string"?o.createElement(l,{is:i.is}):o.createElement(l)}}a[Fe]=t,a[ut]=i;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)a.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=a;e:switch($e(a,l,i),l){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Wt(t)}}return Se(t),Js(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&Wt(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(D(166));if(e=Dn.current,bi(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,l=Ye,l!==null)switch(l.tag){case 27:case 5:i=l.memoizedProps}e[Fe]=t,e=!!(e.nodeValue===n||i!==null&&i.suppressHydrationWarning===!0||Wm(e.nodeValue,n)),e||Bn(t,!0)}else e=jo(e).createTextNode(i),e[Fe]=t,t.stateNode=e}return Se(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(i=bi(t),n!==null){if(e===null){if(!i)throw Error(D(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(557));e[Fe]=t}else oi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Se(t),e=!1}else n=Gs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(pt(t),t):(pt(t),null);if(t.flags&128)throw Error(D(558))}return Se(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(l=bi(t),i!==null&&i.dehydrated!==null){if(e===null){if(!l)throw Error(D(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(D(317));l[Fe]=t}else oi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Se(t),l=!1}else l=Gs(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),l=!0;if(!l)return t.flags&256?(pt(t),t):(pt(t),null)}return pt(t),t.flags&128?(t.lanes=n,t):(n=i!==null,e=e!==null&&e.memoizedState!==null,n&&(i=t.child,l=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(l=i.alternate.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==l&&(i.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Ga(t,t.updateQueue),Se(t),null);case 4:return Ki(),e===null&&vc(t.stateNode.containerInfo),Se(t),null;case 10:return cn(t.type),Se(t),null;case 19:if(Pe(Ae),i=t.memoizedState,i===null)return Se(t),null;if(l=(t.flags&128)!==0,a=i.rendering,a===null)if(l)_l(i,!1);else{if(Ne!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Eo(e),a!==null){for(t.flags|=128,_l(i,!1),e=a.updateQueue,t.updateQueue=e,Ga(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)h0(n,e),n=n.sibling;return be(Ae,Ae.current&1|2),ce&&ln(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&gt()>Ro&&(t.flags|=128,l=!0,_l(i,!1),t.lanes=4194304)}else{if(!l)if(e=Eo(a),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,Ga(t,e),_l(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!ce)return Se(t),null}else 2*gt()-i.renderingStartTime>Ro&&n!==536870912&&(t.flags|=128,l=!0,_l(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(e=i.last,e!==null?e.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=gt(),e.sibling=null,n=Ae.current,be(Ae,l?n&1|2:n&1),ce&&ln(t,i.treeForkCount),e):(Se(t),null);case 22:case 23:return pt(t),Qu(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?n&536870912&&!(t.flags&128)&&(Se(t),t.subtreeFlags&6&&(t.flags|=8192)):Se(t),n=t.updateQueue,n!==null&&Ga(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),e!==null&&Pe(ii),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),cn(De),Se(t),null;case 25:return null;case 30:return null}throw Error(D(156,t.tag))}function Nv(e,t){switch(Yu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return cn(De),Ki(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return go(t),null;case 31:if(t.memoizedState!==null){if(pt(t),t.alternate===null)throw Error(D(340));oi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(pt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));oi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Pe(Ae),null;case 4:return Ki(),null;case 10:return cn(t.type),null;case 22:case 23:return pt(t),Qu(),e!==null&&Pe(ii),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return cn(De),null;case 25:return null;default:return null}}function hm(e,t){switch(Yu(t),t.tag){case 3:cn(De),Ki();break;case 26:case 27:case 5:go(t);break;case 4:Ki();break;case 31:t.memoizedState!==null&&pt(t);break;case 13:pt(t);break;case 19:Pe(Ae);break;case 10:cn(t.type);break;case 22:case 23:pt(t),Qu(),e!==null&&Pe(ii);break;case 24:cn(De)}}function Sa(e,t){try{var n=t.updateQueue,i=n!==null?n.lastEffect:null;if(i!==null){var l=i.next;n=l;do{if((n.tag&e)===e){i=void 0;var a=n.create,o=n.inst;i=a(),o.destroy=i}n=n.next}while(n!==l)}}catch(r){me(t,t.return,r)}}function On(e,t,n){try{var i=t.updateQueue,l=i!==null?i.lastEffect:null;if(l!==null){var a=l.next;i=a;do{if((i.tag&e)===e){var o=i.inst,r=o.destroy;if(r!==void 0){o.destroy=void 0,l=t;var d=n,f=r;try{f()}catch(p){me(l,d,p)}}}i=i.next}while(i!==a)}}catch(p){me(t,t.return,p)}}function mm(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{w0(t,n)}catch(i){me(e,e.return,i)}}}function gm(e,t,n){n.props=ci(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){me(e,t,i)}}function Bl(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof n=="function"?e.refCleanup=n(i):n.current=i}}catch(l){me(e,t,l)}}function $t(e,t){var n=e.ref,i=e.refCleanup;if(n!==null)if(typeof i=="function")try{i()}catch(l){me(e,t,l)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(l){me(e,t,l)}else n.current=null}function ym(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(l){me(e,e.return,l)}}function $s(e,t,n){try{var i=e.stateNode;Kv(i,e.type,n,t),i[ut]=t}catch(l){me(e,e.return,l)}}function xm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Jn(e.type)||e.tag===4}function Ks(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Jn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Br(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=sn));else if(i!==4&&(i===27&&Jn(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Br(e,t,n),e=e.sibling;e!==null;)Br(e,t,n),e=e.sibling}function ko(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(i===27&&Jn(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(ko(e,t,n),e=e.sibling;e!==null;)ko(e,t,n),e=e.sibling}function vm(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,l=t.attributes;l.length;)t.removeAttributeNode(l[0]);$e(t,i,n),t[Fe]=e,t[ut]=n}catch(a){me(e,e.return,a)}}var an=!1,Ie=!1,Xs=!1,Fd=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function Av(e,t){if(e=e.containerInfo,Xr=qo,e=o0(e),qu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var l=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,r=-1,d=-1,f=0,p=0,m=e,h=null;t:for(;;){for(var g;m!==n||l!==0&&m.nodeType!==3||(r=o+l),m!==a||i!==0&&m.nodeType!==3||(d=o+i),m.nodeType===3&&(o+=m.nodeValue.length),(g=m.firstChild)!==null;)h=m,m=g;for(;;){if(m===e)break t;if(h===n&&++f===l&&(r=o),h===a&&++p===i&&(d=o),(g=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=g}n=r===-1||d===-1?null:{start:r,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qr={focusedElem:e,selectionRange:n},qo=!1,Ge=t;Ge!==null;)if(t=Ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ge=e;else for(;Ge!==null;){switch(t=Ge,a=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)l=e[n],l.ref.impl=l.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&a!==null){e=void 0,n=t,l=a.memoizedProps,a=a.memoizedState,i=n.stateNode;try{var b=ci(n.type,l);e=i.getSnapshotBeforeUpdate(b,a),i.__reactInternalSnapshotBeforeUpdate=e}catch(S){me(n,n.return,S)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Wr(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(D(163))}if(e=t.sibling,e!==null){e.return=t.return,Ge=e;break}Ge=t.return}}function bm(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:tn(e,n),i&4&&Sa(5,n);break;case 1:if(tn(e,n),i&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(o){me(n,n.return,o)}else{var l=ci(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(l,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){me(n,n.return,o)}}i&64&&mm(n),i&512&&Bl(n,n.return);break;case 3:if(tn(e,n),i&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{w0(e,t)}catch(o){me(n,n.return,o)}}break;case 27:t===null&&i&4&&vm(n);case 26:case 5:tn(e,n),t===null&&i&4&&ym(n),i&512&&Bl(n,n.return);break;case 12:tn(e,n);break;case 31:tn(e,n),i&4&&_m(e,n);break;case 13:tn(e,n),i&4&&wm(e,n),i&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=jv.bind(null,n),i1(e,n))));break;case 22:if(i=n.memoizedState!==null||an,!i){t=t!==null&&t.memoizedState!==null||Ie,l=an;var a=Ie;an=i,(Ie=t)&&!a?nn(e,n,(n.subtreeFlags&8772)!==0):tn(e,n),an=l,Ie=a}break;case 30:break;default:tn(e,n)}}function Sm(e){var t=e.alternate;t!==null&&(e.alternate=null,Sm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&zu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ee=null,ot=!1;function en(e,t,n){for(n=n.child;n!==null;)Tm(e,t,n),n=n.sibling}function Tm(e,t,n){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(ha,n)}catch{}switch(n.tag){case 26:Ie||$t(n,t),en(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ie||$t(n,t);var i=Ee,l=ot;Jn(n.type)&&(Ee=n.stateNode,ot=!1),en(e,t,n),Jl(n.stateNode),Ee=i,ot=l;break;case 5:Ie||$t(n,t);case 6:if(i=Ee,l=ot,Ee=null,en(e,t,n),Ee=i,ot=l,Ee!==null)if(ot)try{(Ee.nodeType===9?Ee.body:Ee.nodeName==="HTML"?Ee.ownerDocument.body:Ee).removeChild(n.stateNode)}catch(a){me(n,t,a)}else try{Ee.removeChild(n.stateNode)}catch(a){me(n,t,a)}break;case 18:Ee!==null&&(ot?(e=Ee,af(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),al(e)):af(Ee,n.stateNode));break;case 4:i=Ee,l=ot,Ee=n.stateNode.containerInfo,ot=!0,en(e,t,n),Ee=i,ot=l;break;case 0:case 11:case 14:case 15:On(2,n,t),Ie||On(4,n,t),en(e,t,n);break;case 1:Ie||($t(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"&&gm(n,t,i)),en(e,t,n);break;case 21:en(e,t,n);break;case 22:Ie=(i=Ie)||n.memoizedState!==null,en(e,t,n),Ie=i;break;default:en(e,t,n)}}function _m(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{al(e)}catch(n){me(t,t.return,n)}}}function wm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{al(e)}catch(n){me(t,t.return,n)}}function Mv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Fd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Fd),t;default:throw Error(D(435,e.tag))}}function Ha(e,t){var n=Mv(e);t.forEach(function(i){if(!n.has(i)){n.add(i);var l=Gv.bind(null,e,i);i.then(l,l)}})}function lt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var l=n[i],a=e,o=t,r=o;e:for(;r!==null;){switch(r.tag){case 27:if(Jn(r.type)){Ee=r.stateNode,ot=!1;break e}break;case 5:Ee=r.stateNode,ot=!1;break e;case 3:case 4:Ee=r.stateNode.containerInfo,ot=!0;break e}r=r.return}if(Ee===null)throw Error(D(160));Tm(a,o,l),Ee=null,ot=!1,a=l.alternate,a!==null&&(a.return=null),l.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Em(t,e),t=t.sibling}var Pt=null;function Em(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:lt(t,e),at(e),i&4&&(On(3,e,e.return),Sa(3,e),On(5,e,e.return));break;case 1:lt(t,e),at(e),i&512&&(Ie||n===null||$t(n,n.return)),i&64&&an&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?i:n.concat(i))));break;case 26:var l=Pt;if(lt(t,e),at(e),i&512&&(Ie||n===null||$t(n,n.return)),i&4){var a=n!==null?n.memoizedState:null;if(i=e.memoizedState,n===null)if(i===null)if(e.stateNode===null){e:{i=e.type,n=e.memoizedProps,l=l.ownerDocument||l;t:switch(i){case"title":a=l.getElementsByTagName("title")[0],(!a||a[ya]||a[Fe]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=l.createElement(i),l.head.insertBefore(a,l.querySelector("head > title"))),$e(a,i,n),a[Fe]=e,He(a),i=a;break e;case"link":var o=ff("link","href",l).get(i+(n.href||""));if(o){for(var r=0;r<o.length;r++)if(a=o[r],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){o.splice(r,1);break t}}a=l.createElement(i),$e(a,i,n),l.head.appendChild(a);break;case"meta":if(o=ff("meta","content",l).get(i+(n.content||""))){for(r=0;r<o.length;r++)if(a=o[r],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){o.splice(r,1);break t}}a=l.createElement(i),$e(a,i,n),l.head.appendChild(a);break;default:throw Error(D(468,i))}a[Fe]=e,He(a),i=a}e.stateNode=i}else pf(l,e.type,e.stateNode);else e.stateNode=df(l,i,e.memoizedProps);else a!==i?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,i===null?pf(l,e.type,e.stateNode):df(l,i,e.memoizedProps)):i===null&&e.stateNode!==null&&$s(e,e.memoizedProps,n.memoizedProps)}break;case 27:lt(t,e),at(e),i&512&&(Ie||n===null||$t(n,n.return)),n!==null&&i&4&&$s(e,e.memoizedProps,n.memoizedProps);break;case 5:if(lt(t,e),at(e),i&512&&(Ie||n===null||$t(n,n.return)),e.flags&32){l=e.stateNode;try{Qi(l,"")}catch(b){me(e,e.return,b)}}i&4&&e.stateNode!=null&&(l=e.memoizedProps,$s(e,l,n!==null?n.memoizedProps:l)),i&1024&&(Xs=!0);break;case 6:if(lt(t,e),at(e),i&4){if(e.stateNode===null)throw Error(D(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(b){me(e,e.return,b)}}break;case 3:if(ro=null,l=Pt,Pt=Go(t.containerInfo),lt(t,e),Pt=l,at(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{al(t.containerInfo)}catch(b){me(e,e.return,b)}Xs&&(Xs=!1,Cm(e));break;case 4:i=Pt,Pt=Go(e.stateNode.containerInfo),lt(t,e),at(e),Pt=i;break;case 12:lt(t,e),at(e);break;case 31:lt(t,e),at(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ha(e,i)));break;case 13:lt(t,e),at(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(us=gt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ha(e,i)));break;case 22:l=e.memoizedState!==null;var d=n!==null&&n.memoizedState!==null,f=an,p=Ie;if(an=f||l,Ie=p||d,lt(t,e),Ie=p,an=f,at(e),i&8192)e:for(t=e.stateNode,t._visibility=l?t._visibility&-2:t._visibility|1,l&&(n===null||d||an||Ie||Wn(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){d=n=t;try{if(a=d.stateNode,l)o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{r=d.stateNode;var m=d.memoizedProps.style,h=m!=null&&m.hasOwnProperty("display")?m.display:null;r.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(b){me(d,d.return,b)}}}else if(t.tag===6){if(n===null){d=t;try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(b){me(d,d.return,b)}}}else if(t.tag===18){if(n===null){d=t;try{var g=d.stateNode;l?of(g,!0):of(d.stateNode,!1)}catch(b){me(d,d.return,b)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(n=i.retryQueue,n!==null&&(i.retryQueue=null,Ha(e,n))));break;case 19:lt(t,e),at(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ha(e,i)));break;case 30:break;case 21:break;default:lt(t,e),at(e)}}function at(e){var t=e.flags;if(t&2){try{for(var n,i=e.return;i!==null;){if(xm(i)){n=i;break}i=i.return}if(n==null)throw Error(D(160));switch(n.tag){case 27:var l=n.stateNode,a=Ks(e);ko(e,a,l);break;case 5:var o=n.stateNode;n.flags&32&&(Qi(o,""),n.flags&=-33);var r=Ks(e);ko(e,r,o);break;case 3:case 4:var d=n.stateNode.containerInfo,f=Ks(e);Br(e,f,d);break;default:throw Error(D(161))}}catch(p){me(e,e.return,p)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Cm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Cm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function tn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)bm(e,t.alternate,t),t=t.sibling}function Wn(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:On(4,t,t.return),Wn(t);break;case 1:$t(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&gm(t,t.return,n),Wn(t);break;case 27:Jl(t.stateNode);case 26:case 5:$t(t,t.return),Wn(t);break;case 22:t.memoizedState===null&&Wn(t);break;case 30:Wn(t);break;default:Wn(t)}e=e.sibling}}function nn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,l=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:nn(l,a,n),Sa(4,a);break;case 1:if(nn(l,a,n),i=a,l=i.stateNode,typeof l.componentDidMount=="function")try{l.componentDidMount()}catch(f){me(i,i.return,f)}if(i=a,l=i.updateQueue,l!==null){var r=i.stateNode;try{var d=l.shared.hiddenCallbacks;if(d!==null)for(l.shared.hiddenCallbacks=null,l=0;l<d.length;l++)_0(d[l],r)}catch(f){me(i,i.return,f)}}n&&o&64&&mm(a),Bl(a,a.return);break;case 27:vm(a);case 26:case 5:nn(l,a,n),n&&i===null&&o&4&&ym(a),Bl(a,a.return);break;case 12:nn(l,a,n);break;case 31:nn(l,a,n),n&&o&4&&_m(l,a);break;case 13:nn(l,a,n),n&&o&4&&wm(l,a);break;case 22:a.memoizedState===null&&nn(l,a,n),Bl(a,a.return);break;case 30:break;default:nn(l,a,n)}t=t.sibling}}function pc(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&va(n))}function hc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&va(e))}function Ht(e,t,n,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Nm(e,t,n,i),t=t.sibling}function Nm(e,t,n,i){var l=t.flags;switch(t.tag){case 0:case 11:case 15:Ht(e,t,n,i),l&2048&&Sa(9,t);break;case 1:Ht(e,t,n,i);break;case 3:Ht(e,t,n,i),l&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&va(e)));break;case 12:if(l&2048){Ht(e,t,n,i),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,r=a.onPostCommit;typeof r=="function"&&r(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(d){me(t,t.return,d)}}else Ht(e,t,n,i);break;case 31:Ht(e,t,n,i);break;case 13:Ht(e,t,n,i);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState!==null?a._visibility&2?Ht(e,t,n,i):Ol(e,t):a._visibility&2?Ht(e,t,n,i):(a._visibility|=2,_i(e,t,n,i,(t.subtreeFlags&10256)!==0||!1)),l&2048&&pc(o,t);break;case 24:Ht(e,t,n,i),l&2048&&hc(t.alternate,t);break;default:Ht(e,t,n,i)}}function _i(e,t,n,i,l){for(l=l&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var a=e,o=t,r=n,d=i,f=o.flags;switch(o.tag){case 0:case 11:case 15:_i(a,o,r,d,l),Sa(8,o);break;case 23:break;case 22:var p=o.stateNode;o.memoizedState!==null?p._visibility&2?_i(a,o,r,d,l):Ol(a,o):(p._visibility|=2,_i(a,o,r,d,l)),l&&f&2048&&pc(o.alternate,o);break;case 24:_i(a,o,r,d,l),l&&f&2048&&hc(o.alternate,o);break;default:_i(a,o,r,d,l)}t=t.sibling}}function Ol(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,i=t,l=i.flags;switch(i.tag){case 22:Ol(n,i),l&2048&&pc(i.alternate,i);break;case 24:Ol(n,i),l&2048&&hc(i.alternate,i);break;default:Ol(n,i)}t=t.sibling}}var Il=8192;function Si(e,t,n){if(e.subtreeFlags&Il)for(e=e.child;e!==null;)Am(e,t,n),e=e.sibling}function Am(e,t,n){switch(e.tag){case 26:Si(e,t,n),e.flags&Il&&e.memoizedState!==null&&m1(n,Pt,e.memoizedState,e.memoizedProps);break;case 5:Si(e,t,n);break;case 3:case 4:var i=Pt;Pt=Go(e.stateNode.containerInfo),Si(e,t,n),Pt=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=Il,Il=16777216,Si(e,t,n),Il=i):Si(e,t,n));break;default:Si(e,t,n)}}function Mm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function wl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Ge=i,Rm(i,e)}Mm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)km(e),e=e.sibling}function km(e){switch(e.tag){case 0:case 11:case 15:wl(e),e.flags&2048&&On(9,e,e.return);break;case 3:wl(e);break;case 12:wl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,oo(e)):wl(e);break;default:wl(e)}}function oo(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var i=t[n];Ge=i,Rm(i,e)}Mm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:On(8,t,t.return),oo(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,oo(t));break;default:oo(t)}e=e.sibling}}function Rm(e,t){for(;Ge!==null;){var n=Ge;switch(n.tag){case 0:case 11:case 15:On(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var i=n.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:va(n.memoizedState.cache)}if(i=n.child,i!==null)i.return=n,Ge=i;else e:for(n=e;Ge!==null;){i=Ge;var l=i.sibling,a=i.return;if(Sm(i),i===n){Ge=null;break e}if(l!==null){l.return=a,Ge=l;break e}Ge=a}}}var kv={getCacheForType:function(e){var t=Je(De),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Je(De).controller.signal}},Rv=typeof WeakMap=="function"?WeakMap:Map,fe=0,ve=null,re=null,ue=0,he=0,ft=null,kn=!1,pl=!1,mc=!1,gn=0,Ne=0,Fn=0,ai=0,gc=0,mt=0,tl=0,Fl=null,st=null,Or=!1,us=0,Im=0,Ro=1/0,Io=null,jn=null,Le=0,Gn=null,nl=null,dn=0,Fr=0,Yr=null,Dm=null,Yl=0,Jr=null;function vt(){return fe&2&&ue!==0?ue&-ue:X.T!==null?xc():Vh()}function Um(){if(mt===0)if(!(ue&536870912)||ce){var e=Ra;Ra<<=1,!(Ra&3932160)&&(Ra=262144),mt=e}else mt=536870912;return e=Tt.current,e!==null&&(e.flags|=32),mt}function rt(e,t,n){(e===ve&&(he===2||he===9)||e.cancelPendingCommit!==null)&&(il(e,0),Rn(e,ue,mt,!1)),ga(e,n),(!(fe&2)||e!==ve)&&(e===ve&&(!(fe&2)&&(ai|=n),Ne===4&&Rn(e,ue,mt,!1)),Qt(e))}function zm(e,t,n){if(fe&6)throw Error(D(327));var i=!n&&(t&127)===0&&(t&e.expiredLanes)===0||ma(e,t),l=i?Uv(e,t):Qs(e,t,!0),a=i;do{if(l===0){pl&&!i&&Rn(e,t,0,!1);break}else{if(n=e.current.alternate,a&&!Iv(n)){l=Qs(e,t,!1),a=!1;continue}if(l===2){if(a=t,e.errorRecoveryDisabledLanes&a)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var r=e;l=Fl;var d=r.current.memoizedState.isDehydrated;if(d&&(il(r,o).flags|=256),o=Qs(r,o,!1),o!==2){if(mc&&!d){r.errorRecoveryDisabledLanes|=a,ai|=a,l=4;break e}a=st,st=l,a!==null&&(st===null?st=a:st.push.apply(st,a))}l=o}if(a=!1,l!==2)continue}}if(l===1){il(e,0),Rn(e,t,0,!0);break}e:{switch(i=e,a=l,a){case 0:case 1:throw Error(D(345));case 4:if((t&4194048)!==t)break;case 6:Rn(i,t,mt,!kn);break e;case 2:st=null;break;case 3:case 5:break;default:throw Error(D(329))}if((t&62914560)===t&&(l=us+300-gt(),10<l)){if(Rn(i,t,mt,!kn),Zo(i,0,!0)!==0)break e;dn=t,i.timeoutHandle=tg(Yd.bind(null,i,n,st,Io,Or,t,mt,ai,tl,kn,a,"Throttled",-0,0),l);break e}Yd(i,n,st,Io,Or,t,mt,ai,tl,kn,a,null,-0,0)}}break}while(!0);Qt(e)}function Yd(e,t,n,i,l,a,o,r,d,f,p,m,h,g){if(e.timeoutHandle=-1,m=t.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:sn},Am(t,a,m);var b=(a&62914560)===a?us-gt():(a&4194048)===a?Im-gt():0;if(b=g1(m,b),b!==null){dn=a,e.cancelPendingCommit=b($d.bind(null,e,t,a,n,i,l,o,r,d,p,m,null,h,g)),Rn(e,a,o,!f);return}}$d(e,t,a,n,i,l,o,r,d)}function Iv(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var i=0;i<n.length;i++){var l=n[i],a=l.getSnapshot;l=l.value;try{if(!St(a(),l))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Rn(e,t,n,i){t&=~gc,t&=~ai,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var l=t;0<l;){var a=31-xt(l),o=1<<a;i[a]=-1,l&=~o}n!==0&&Hh(e,n,t)}function cs(){return fe&6?!0:(Ta(0),!1)}function yc(){if(re!==null){if(he===0)var e=re.return;else e=re,rn=yi=null,nc(e),Oi=null,ea=0,e=re;for(;e!==null;)hm(e.alternate,e),e=e.return;re=null}}function il(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Zv(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),dn=0,yc(),ve=e,re=n=un(e.current,null),ue=t,he=0,ft=null,kn=!1,pl=ma(e,t),mc=!1,tl=mt=gc=ai=Fn=Ne=0,st=Fl=null,Or=!1,t&8&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var l=31-xt(i),a=1<<l;t|=e[l],i&=~a}return gn=t,ns(),n}function Lm(e,t){te=null,X.H=na,t===fl||t===ls?(t=wd(),he=3):t===Ku?(t=wd(),he=4):he=t===dc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,ft=t,re===null&&(Ne=1,Ao(e,At(t,e.current)))}function jm(){var e=Tt.current;return e===null?!0:(ue&4194048)===ue?kt===null:(ue&62914560)===ue||ue&536870912?e===kt:!1}function Gm(){var e=X.H;return X.H=na,e===null?na:e}function Hm(){var e=X.A;return X.A=kv,e}function Do(){Ne=4,kn||(ue&4194048)!==ue&&Tt.current!==null||(pl=!0),!(Fn&134217727)&&!(ai&134217727)||ve===null||Rn(ve,ue,mt,!1)}function Qs(e,t,n){var i=fe;fe|=2;var l=Gm(),a=Hm();(ve!==e||ue!==t)&&(Io=null,il(e,t)),t=!1;var o=Ne;e:do try{if(he!==0&&re!==null){var r=re,d=ft;switch(he){case 8:yc(),o=6;break e;case 3:case 2:case 9:case 6:Tt.current===null&&(t=!0);var f=he;if(he=0,ft=null,ji(e,r,d,f),n&&pl){o=0;break e}break;default:f=he,he=0,ft=null,ji(e,r,d,f)}}Dv(),o=Ne;break}catch(p){Lm(e,p)}while(!0);return t&&e.shellSuspendCounter++,rn=yi=null,fe=i,X.H=l,X.A=a,re===null&&(ve=null,ue=0,ns()),o}function Dv(){for(;re!==null;)Pm(re)}function Uv(e,t){var n=fe;fe|=2;var i=Gm(),l=Hm();ve!==e||ue!==t?(Io=null,Ro=gt()+500,il(e,t)):pl=ma(e,t);e:do try{if(he!==0&&re!==null){t=re;var a=ft;t:switch(he){case 1:he=0,ft=null,ji(e,t,a,1);break;case 2:case 9:if(_d(a)){he=0,ft=null,Jd(t);break}t=function(){he!==2&&he!==9||ve!==e||(he=7),Qt(e)},a.then(t,t);break e;case 3:he=7;break e;case 4:he=5;break e;case 7:_d(a)?(he=0,ft=null,Jd(t)):(he=0,ft=null,ji(e,t,a,7));break;case 5:var o=null;switch(re.tag){case 26:o=re.memoizedState;case 5:case 27:var r=re;if(o?og(o):r.stateNode.complete){he=0,ft=null;var d=r.sibling;if(d!==null)re=d;else{var f=r.return;f!==null?(re=f,ds(f)):re=null}break t}}he=0,ft=null,ji(e,t,a,5);break;case 6:he=0,ft=null,ji(e,t,a,6);break;case 8:yc(),Ne=6;break e;default:throw Error(D(462))}}zv();break}catch(p){Lm(e,p)}while(!0);return rn=yi=null,X.H=i,X.A=l,fe=n,re!==null?0:(ve=null,ue=0,ns(),Ne)}function zv(){for(;re!==null&&!lx();)Pm(re)}function Pm(e){var t=pm(e.alternate,e,gn);e.memoizedProps=e.pendingProps,t===null?ds(e):re=t}function Jd(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Pd(n,t,t.pendingProps,t.type,void 0,ue);break;case 11:t=Pd(n,t,t.pendingProps,t.type.render,t.ref,ue);break;case 5:nc(t);default:hm(n,t),t=re=h0(t,gn),t=pm(n,t,gn)}e.memoizedProps=e.pendingProps,t===null?ds(e):re=t}function ji(e,t,n,i){rn=yi=null,nc(t),Oi=null,ea=0;var l=t.return;try{if(_v(e,l,t,n,ue)){Ne=1,Ao(e,At(n,e.current)),re=null;return}}catch(a){if(l!==null)throw re=l,a;Ne=1,Ao(e,At(n,e.current)),re=null;return}t.flags&32768?(ce||i===1?e=!0:pl||ue&536870912?e=!1:(kn=e=!0,(i===2||i===9||i===3||i===6)&&(i=Tt.current,i!==null&&i.tag===13&&(i.flags|=16384))),qm(t,e)):ds(t)}function ds(e){var t=e;do{if(t.flags&32768){qm(t,kn);return}e=t.return;var n=Cv(t.alternate,t,gn);if(n!==null){re=n;return}if(t=t.sibling,t!==null){re=t;return}re=t=e}while(t!==null);Ne===0&&(Ne=5)}function qm(e,t){do{var n=Nv(e.alternate,e);if(n!==null){n.flags&=32767,re=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){re=e;return}re=e=n}while(e!==null);Ne=6,re=null}function $d(e,t,n,i,l,a,o,r,d){e.cancelPendingCommit=null;do fs();while(Le!==0);if(fe&6)throw Error(D(327));if(t!==null){if(t===e.current)throw Error(D(177));if(a=t.lanes|t.childLanes,a|=Vu,hx(e,n,a,o,r,d),e===ve&&(re=ve=null,ue=0),nl=t,Gn=e,dn=n,Fr=a,Yr=l,Dm=i,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Hv(yo,function(){return Ym(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,t.subtreeFlags&13878||i){i=X.T,X.T=null,l=pe.p,pe.p=2,o=fe,fe|=4;try{Av(e,t,n)}finally{fe=o,pe.p=l,X.T=i}}Le=1,Vm(),Bm(),Om()}}function Vm(){if(Le===1){Le=0;var e=Gn,t=nl,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=X.T,X.T=null;var i=pe.p;pe.p=2;var l=fe;fe|=4;try{Em(t,e);var a=Qr,o=o0(e.containerInfo),r=a.focusedElem,d=a.selectionRange;if(o!==r&&r&&r.ownerDocument&&a0(r.ownerDocument.documentElement,r)){if(d!==null&&qu(r)){var f=d.start,p=d.end;if(p===void 0&&(p=f),"selectionStart"in r)r.selectionStart=f,r.selectionEnd=Math.min(p,r.value.length);else{var m=r.ownerDocument||document,h=m&&m.defaultView||window;if(h.getSelection){var g=h.getSelection(),b=r.textContent.length,S=Math.min(d.start,b),_=d.end===void 0?S:Math.min(d.end,b);!g.extend&&S>_&&(o=_,_=S,S=o);var y=gd(r,S),x=gd(r,_);if(y&&x&&(g.rangeCount!==1||g.anchorNode!==y.node||g.anchorOffset!==y.offset||g.focusNode!==x.node||g.focusOffset!==x.offset)){var v=m.createRange();v.setStart(y.node,y.offset),g.removeAllRanges(),S>_?(g.addRange(v),g.extend(x.node,x.offset)):(v.setEnd(x.node,x.offset),g.addRange(v))}}}}for(m=[],g=r;g=g.parentNode;)g.nodeType===1&&m.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<m.length;r++){var T=m[r];T.element.scrollLeft=T.left,T.element.scrollTop=T.top}}qo=!!Xr,Qr=Xr=null}finally{fe=l,pe.p=i,X.T=n}}e.current=t,Le=2}}function Bm(){if(Le===2){Le=0;var e=Gn,t=nl,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=X.T,X.T=null;var i=pe.p;pe.p=2;var l=fe;fe|=4;try{bm(e,t.alternate,t)}finally{fe=l,pe.p=i,X.T=n}}Le=3}}function Om(){if(Le===4||Le===3){Le=0,ax();var e=Gn,t=nl,n=dn,i=Dm;t.subtreeFlags&10256||t.flags&10256?Le=5:(Le=0,nl=Gn=null,Fm(e,e.pendingLanes));var l=e.pendingLanes;if(l===0&&(jn=null),Uu(n),t=t.stateNode,yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(ha,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=X.T,l=pe.p,pe.p=2,X.T=null;try{for(var a=e.onRecoverableError,o=0;o<i.length;o++){var r=i[o];a(r.value,{componentStack:r.stack})}}finally{X.T=t,pe.p=l}}dn&3&&fs(),Qt(e),l=e.pendingLanes,n&261930&&l&42?e===Jr?Yl++:(Yl=0,Jr=e):Yl=0,Ta(0)}}function Fm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,va(t)))}function fs(){return Vm(),Bm(),Om(),Ym()}function Ym(){if(Le!==5)return!1;var e=Gn,t=Fr;Fr=0;var n=Uu(dn),i=X.T,l=pe.p;try{pe.p=32>n?32:n,X.T=null,n=Yr,Yr=null;var a=Gn,o=dn;if(Le=0,nl=Gn=null,dn=0,fe&6)throw Error(D(331));var r=fe;if(fe|=4,km(a.current),Nm(a,a.current,o,n),fe=r,Ta(0,!1),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(ha,a)}catch{}return!0}finally{pe.p=l,X.T=i,Fm(e,t)}}function Kd(e,t,n){t=At(n,t),t=Pr(e.stateNode,t,2),e=Ln(e,t,2),e!==null&&(ga(e,2),Qt(e))}function me(e,t,n){if(e.tag===3)Kd(e,e,n);else for(;t!==null;){if(t.tag===3){Kd(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(jn===null||!jn.has(i))){e=At(n,e),n=sm(2),i=Ln(t,n,2),i!==null&&(rm(n,i,t,e),ga(i,2),Qt(i));break}}t=t.return}}function Zs(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Rv;var l=new Set;i.set(t,l)}else l=i.get(t),l===void 0&&(l=new Set,i.set(t,l));l.has(n)||(mc=!0,l.add(n),e=Lv.bind(null,e,t,n),t.then(e,e))}function Lv(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ve===e&&(ue&n)===n&&(Ne===4||Ne===3&&(ue&62914560)===ue&&300>gt()-us?!(fe&2)&&il(e,0):gc|=n,tl===ue&&(tl=0)),Qt(e)}function Jm(e,t){t===0&&(t=Gh()),e=gi(e,t),e!==null&&(ga(e,t),Qt(e))}function jv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Jm(e,n)}function Gv(e,t){var n=0;switch(e.tag){case 31:case 13:var i=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(D(314))}i!==null&&i.delete(t),Jm(e,n)}function Hv(e,t){return Iu(e,t)}var Uo=null,wi=null,$r=!1,zo=!1,Ws=!1,In=0;function Qt(e){e!==wi&&e.next===null&&(wi===null?Uo=wi=e:wi=wi.next=e),zo=!0,$r||($r=!0,qv())}function Ta(e,t){if(!Ws&&zo){Ws=!0;do for(var n=!1,i=Uo;i!==null;){if(e!==0){var l=i.pendingLanes;if(l===0)var a=0;else{var o=i.suspendedLanes,r=i.pingedLanes;a=(1<<31-xt(42|e)+1)-1,a&=l&~(o&~r),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,Xd(i,a))}else a=ue,a=Zo(i,i===ve?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),!(a&3)||ma(i,a)||(n=!0,Xd(i,a));i=i.next}while(n);Ws=!1}}function Pv(){$m()}function $m(){zo=$r=!1;var e=0;In!==0&&Qv()&&(e=In);for(var t=gt(),n=null,i=Uo;i!==null;){var l=i.next,a=Km(i,t);a===0?(i.next=null,n===null?Uo=l:n.next=l,l===null&&(wi=n)):(n=i,(e!==0||a&3)&&(zo=!0)),i=l}Le!==0&&Le!==5||Ta(e),In!==0&&(In=0)}function Km(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-xt(a),r=1<<o,d=l[o];d===-1?(!(r&n)||r&i)&&(l[o]=px(r,t)):d<=t&&(e.expiredLanes|=r),a&=~r}if(t=ve,n=ue,n=Zo(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,n===0||e===t&&(he===2||he===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Ns(i),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||ma(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(i!==null&&Ns(i),Uu(n)){case 2:case 8:n=Lh;break;case 32:n=yo;break;case 268435456:n=jh;break;default:n=yo}return i=Xm.bind(null,e),n=Iu(n,i),e.callbackPriority=t,e.callbackNode=n,t}return i!==null&&i!==null&&Ns(i),e.callbackPriority=2,e.callbackNode=null,2}function Xm(e,t){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(fs()&&e.callbackNode!==n)return null;var i=ue;return i=Zo(e,e===ve?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(zm(e,i,t),Km(e,gt()),e.callbackNode!=null&&e.callbackNode===n?Xm.bind(null,e):null)}function Xd(e,t){if(fs())return null;zm(e,t,!0)}function qv(){Wv(function(){fe&6?Iu(zh,Pv):$m()})}function xc(){if(In===0){var e=Zi;e===0&&(e=ka,ka<<=1,!(ka&261888)&&(ka=256)),In=e}return In}function Qd(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Qa(""+e)}function Zd(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Vv(e,t,n,i,l){if(t==="submit"&&n&&n.stateNode===l){var a=Qd((l[ut]||null).action),o=i.submitter;o&&(t=(t=o[ut]||null)?Qd(t.formAction):o.getAttribute("formAction"),t!==null&&(a=t,o=null));var r=new Wo("action","action",null,i,l);e.push({event:r,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(In!==0){var d=o?Zd(l,o):new FormData(l);Gr(n,{pending:!0,data:d,method:l.method,action:a},null,d)}}else typeof a=="function"&&(r.preventDefault(),d=o?Zd(l,o):new FormData(l),Gr(n,{pending:!0,data:d,method:l.method,action:a},a,d))},currentTarget:l}]})}}for(var er=0;er<Cr.length;er++){var tr=Cr[er],Bv=tr.toLowerCase(),Ov=tr[0].toUpperCase()+tr.slice(1);Bt(Bv,"on"+Ov)}Bt(r0,"onAnimationEnd");Bt(u0,"onAnimationIteration");Bt(c0,"onAnimationStart");Bt("dblclick","onDoubleClick");Bt("focusin","onFocus");Bt("focusout","onBlur");Bt(ov,"onTransitionRun");Bt(sv,"onTransitionStart");Bt(rv,"onTransitionCancel");Bt(d0,"onTransitionEnd");Xi("onMouseEnter",["mouseout","mouseover"]);Xi("onMouseLeave",["mouseout","mouseover"]);Xi("onPointerEnter",["pointerout","pointerover"]);Xi("onPointerLeave",["pointerout","pointerover"]);pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pi("onBeforeInput",["compositionend","keypress","textInput","paste"]);pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ia));function Qm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],l=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var o=i.length-1;0<=o;o--){var r=i[o],d=r.instance,f=r.currentTarget;if(r=r.listener,d!==a&&l.isPropagationStopped())break e;a=r,l.currentTarget=f;try{a(l)}catch(p){vo(p)}l.currentTarget=null,a=d}else for(o=0;o<i.length;o++){if(r=i[o],d=r.instance,f=r.currentTarget,r=r.listener,d!==a&&l.isPropagationStopped())break e;a=r,l.currentTarget=f;try{a(l)}catch(p){vo(p)}l.currentTarget=null,a=d}}}}function se(e,t){var n=t[xr];n===void 0&&(n=t[xr]=new Set);var i=e+"__bubble";n.has(i)||(Zm(t,e,2,!1),n.add(i))}function nr(e,t,n){var i=0;t&&(i|=4),Zm(n,e,i,t)}var Pa="_reactListening"+Math.random().toString(36).slice(2);function vc(e){if(!e[Pa]){e[Pa]=!0,Bh.forEach(function(n){n!=="selectionchange"&&(Fv.has(n)||nr(n,!1,e),nr(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pa]||(t[Pa]=!0,nr("selectionchange",!1,t))}}function Zm(e,t,n,i){switch(dg(t)){case 2:var l=v1;break;case 8:l=b1;break;default:l=_c}n=l.bind(null,t,n,e),l=void 0,!_r||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),i?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function ir(e,t,n,i,l){var a=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var r=i.stateNode.containerInfo;if(r===l)break;if(o===4)for(o=i.return;o!==null;){var d=o.tag;if((d===3||d===4)&&o.stateNode.containerInfo===l)return;o=o.return}for(;r!==null;){if(o=Ai(r),o===null)return;if(d=o.tag,d===5||d===6||d===26||d===27){i=a=o;continue e}r=r.parentNode}}i=i.return}Qh(function(){var f=a,p=ju(n),m=[];e:{var h=f0.get(e);if(h!==void 0){var g=Wo,b=e;switch(e){case"keypress":if(Wa(n)===0)break e;case"keydown":case"keyup":g=Gx;break;case"focusin":b="focus",g=Is;break;case"focusout":b="blur",g=Is;break;case"beforeblur":case"afterblur":g=Is;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Cx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=qx;break;case r0:case u0:case c0:g=Mx;break;case d0:g=Bx;break;case"scroll":case"scrollend":g=wx;break;case"wheel":g=Fx;break;case"copy":case"cut":case"paste":g=Rx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=rd;break;case"toggle":case"beforetoggle":g=Jx}var S=(t&4)!==0,_=!S&&(e==="scroll"||e==="scrollend"),y=S?h!==null?h+"Capture":null:h;S=[];for(var x=f,v;x!==null;){var T=x;if(v=T.stateNode,T=T.tag,T!==5&&T!==26&&T!==27||v===null||y===null||(T=Kl(x,y),T!=null&&S.push(la(x,T,v))),_)break;x=x.return}0<S.length&&(h=new g(h,b,null,n,p),m.push({event:h,listeners:S}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==Tr&&(b=n.relatedTarget||n.fromElement)&&(Ai(b)||b[ul]))break e;if((g||h)&&(h=p.window===p?p:(h=p.ownerDocument)?h.defaultView||h.parentWindow:window,g?(b=n.relatedTarget||n.toElement,g=f,b=b?Ai(b):null,b!==null&&(_=pa(b),S=b.tag,b!==_||S!==5&&S!==27&&S!==6)&&(b=null)):(g=null,b=f),g!==b)){if(S=od,T="onMouseLeave",y="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(S=rd,T="onPointerLeave",y="onPointerEnter",x="pointer"),_=g==null?h:kl(g),v=b==null?h:kl(b),h=new S(T,x+"leave",g,n,p),h.target=_,h.relatedTarget=v,T=null,Ai(p)===f&&(S=new S(y,x+"enter",b,n,p),S.target=v,S.relatedTarget=_,T=S),_=T,g&&b)t:{for(S=Yv,y=g,x=b,v=0,T=y;T;T=S(T))v++;T=0;for(var A=x;A;A=S(A))T++;for(;0<v-T;)y=S(y),v--;for(;0<T-v;)x=S(x),T--;for(;v--;){if(y===x||x!==null&&y===x.alternate){S=y;break t}y=S(y),x=S(x)}S=null}else S=null;g!==null&&Wd(m,h,g,S,!1),b!==null&&_!==null&&Wd(m,_,b,S,!0)}}e:{if(h=f?kl(f):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var L=fd;else if(dd(h))if(i0)L=iv;else{L=tv;var C=ev}else g=h.nodeName,!g||g.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?f&&Lu(f.elementType)&&(L=fd):L=nv;if(L&&(L=L(e,f))){n0(m,L,n,p);break e}C&&C(e,h,f),e==="focusout"&&f&&h.type==="number"&&f.memoizedProps.value!=null&&Sr(h,"number",h.value)}switch(C=f?kl(f):window,e){case"focusin":(dd(C)||C.contentEditable==="true")&&(Ri=C,wr=f,jl=null);break;case"focusout":jl=wr=Ri=null;break;case"mousedown":Er=!0;break;case"contextmenu":case"mouseup":case"dragend":Er=!1,yd(m,n,p);break;case"selectionchange":if(av)break;case"keydown":case"keyup":yd(m,n,p)}var R;if(Pu)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else ki?e0(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(Wh&&n.locale!=="ko"&&(ki||M!=="onCompositionStart"?M==="onCompositionEnd"&&ki&&(R=Zh()):(Mn=p,Gu="value"in Mn?Mn.value:Mn.textContent,ki=!0)),C=Lo(f,M),0<C.length&&(M=new sd(M,e,null,n,p),m.push({event:M,listeners:C}),R?M.data=R:(R=t0(n),R!==null&&(M.data=R)))),(R=Kx?Xx(e,n):Qx(e,n))&&(M=Lo(f,"onBeforeInput"),0<M.length&&(C=new sd("onBeforeInput","beforeinput",null,n,p),m.push({event:C,listeners:M}),C.data=R)),Vv(m,e,f,n,p)}Qm(m,t)})}function la(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lo(e,t){for(var n=t+"Capture",i=[];e!==null;){var l=e,a=l.stateNode;if(l=l.tag,l!==5&&l!==26&&l!==27||a===null||(l=Kl(e,n),l!=null&&i.unshift(la(e,l,a)),l=Kl(e,t),l!=null&&i.push(la(e,l,a))),e.tag===3)return i;e=e.return}return[]}function Yv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Wd(e,t,n,i,l){for(var a=t._reactName,o=[];n!==null&&n!==i;){var r=n,d=r.alternate,f=r.stateNode;if(r=r.tag,d!==null&&d===i)break;r!==5&&r!==26&&r!==27||f===null||(d=f,l?(f=Kl(n,a),f!=null&&o.unshift(la(n,f,d))):l||(f=Kl(n,a),f!=null&&o.push(la(n,f,d)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Jv=/\r\n?/g,$v=/\u0000|\uFFFD/g;function ef(e){return(typeof e=="string"?e:""+e).replace(Jv,`
`).replace($v,"")}function Wm(e,t){return t=ef(t),ef(e)===t}function ge(e,t,n,i,l,a){switch(n){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Qi(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Qi(e,""+i);break;case"className":Da(e,"class",i);break;case"tabIndex":Da(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":Da(e,n,i);break;case"style":Xh(e,i,a);break;case"data":if(t!=="object"){Da(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Qa(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(t!=="input"&&ge(e,t,"name",l.name,l,null),ge(e,t,"formEncType",l.formEncType,l,null),ge(e,t,"formMethod",l.formMethod,l,null),ge(e,t,"formTarget",l.formTarget,l,null)):(ge(e,t,"encType",l.encType,l,null),ge(e,t,"method",l.method,l,null),ge(e,t,"target",l.target,l,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(n);break}i=Qa(""+i),e.setAttribute(n,i);break;case"onClick":i!=null&&(e.onclick=sn);break;case"onScroll":i!=null&&se("scroll",e);break;case"onScrollEnd":i!=null&&se("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(D(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(D(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}n=Qa(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":i===!0?e.setAttribute(n,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":se("beforetoggle",e),se("toggle",e),Xa(e,"popover",i);break;case"xlinkActuate":Zt(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":Zt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":Zt(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":Zt(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":Zt(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":Zt(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":Zt(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Xa(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=Tx.get(n)||n,Xa(e,n,i))}}function Kr(e,t,n,i,l,a){switch(n){case"style":Xh(e,i,a);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(D(61));if(n=i.__html,n!=null){if(l.children!=null)throw Error(D(60));e.innerHTML=n}}break;case"children":typeof i=="string"?Qi(e,i):(typeof i=="number"||typeof i=="bigint")&&Qi(e,""+i);break;case"onScroll":i!=null&&se("scroll",e);break;case"onScrollEnd":i!=null&&se("scrollend",e);break;case"onClick":i!=null&&(e.onclick=sn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Oh.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(l=n.endsWith("Capture"),t=n.slice(2,l?n.length-7:void 0),a=e[ut]||null,a=a!=null?a[n]:null,typeof a=="function"&&e.removeEventListener(t,a,l),typeof i=="function")){typeof a!="function"&&a!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,l);break e}n in e?e[n]=i:i===!0?e.setAttribute(n,""):Xa(e,n,i)}}}function $e(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":se("error",e),se("load",e);var i=!1,l=!1,a;for(a in n)if(n.hasOwnProperty(a)){var o=n[a];if(o!=null)switch(a){case"src":i=!0;break;case"srcSet":l=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(D(137,t));default:ge(e,t,a,o,n,null)}}l&&ge(e,t,"srcSet",n.srcSet,n,null),i&&ge(e,t,"src",n.src,n,null);return;case"input":se("invalid",e);var r=a=o=l=null,d=null,f=null;for(i in n)if(n.hasOwnProperty(i)){var p=n[i];if(p!=null)switch(i){case"name":l=p;break;case"type":o=p;break;case"checked":d=p;break;case"defaultChecked":f=p;break;case"value":a=p;break;case"defaultValue":r=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(D(137,t));break;default:ge(e,t,i,p,n,null)}}Jh(e,a,r,d,f,o,l,!1);return;case"select":se("invalid",e),i=o=a=null;for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case"value":a=r;break;case"defaultValue":o=r;break;case"multiple":i=r;default:ge(e,t,l,r,n,null)}t=a,n=o,e.multiple=!!i,t!=null?qi(e,!!i,t,!1):n!=null&&qi(e,!!i,n,!0);return;case"textarea":se("invalid",e),a=l=i=null;for(o in n)if(n.hasOwnProperty(o)&&(r=n[o],r!=null))switch(o){case"value":i=r;break;case"defaultValue":l=r;break;case"children":a=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(D(91));break;default:ge(e,t,o,r,n,null)}Kh(e,i,l,a);return;case"option":for(d in n)if(n.hasOwnProperty(d)&&(i=n[d],i!=null))switch(d){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:ge(e,t,d,i,n,null)}return;case"dialog":se("beforetoggle",e),se("toggle",e),se("cancel",e),se("close",e);break;case"iframe":case"object":se("load",e);break;case"video":case"audio":for(i=0;i<ia.length;i++)se(ia[i],e);break;case"image":se("error",e),se("load",e);break;case"details":se("toggle",e);break;case"embed":case"source":case"link":se("error",e),se("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(f in n)if(n.hasOwnProperty(f)&&(i=n[f],i!=null))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error(D(137,t));default:ge(e,t,f,i,n,null)}return;default:if(Lu(t)){for(p in n)n.hasOwnProperty(p)&&(i=n[p],i!==void 0&&Kr(e,t,p,i,n,void 0));return}}for(r in n)n.hasOwnProperty(r)&&(i=n[r],i!=null&&ge(e,t,r,i,n,null))}function Kv(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var l=null,a=null,o=null,r=null,d=null,f=null,p=null;for(g in n){var m=n[g];if(n.hasOwnProperty(g)&&m!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":d=m;default:i.hasOwnProperty(g)||ge(e,t,g,null,i,m)}}for(var h in i){var g=i[h];if(m=n[h],i.hasOwnProperty(h)&&(g!=null||m!=null))switch(h){case"type":a=g;break;case"name":l=g;break;case"checked":f=g;break;case"defaultChecked":p=g;break;case"value":o=g;break;case"defaultValue":r=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(D(137,t));break;default:g!==m&&ge(e,t,h,g,i,m)}}br(e,o,r,d,f,p,a,l);return;case"select":g=o=r=h=null;for(a in n)if(d=n[a],n.hasOwnProperty(a)&&d!=null)switch(a){case"value":break;case"multiple":g=d;default:i.hasOwnProperty(a)||ge(e,t,a,null,i,d)}for(l in i)if(a=i[l],d=n[l],i.hasOwnProperty(l)&&(a!=null||d!=null))switch(l){case"value":h=a;break;case"defaultValue":r=a;break;case"multiple":o=a;default:a!==d&&ge(e,t,l,a,i,d)}t=r,n=o,i=g,h!=null?qi(e,!!n,h,!1):!!i!=!!n&&(t!=null?qi(e,!!n,t,!0):qi(e,!!n,n?[]:"",!1));return;case"textarea":g=h=null;for(r in n)if(l=n[r],n.hasOwnProperty(r)&&l!=null&&!i.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:ge(e,t,r,null,i,l)}for(o in i)if(l=i[o],a=n[o],i.hasOwnProperty(o)&&(l!=null||a!=null))switch(o){case"value":h=l;break;case"defaultValue":g=l;break;case"children":break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(D(91));break;default:l!==a&&ge(e,t,o,l,i,a)}$h(e,h,g);return;case"option":for(var b in n)if(h=n[b],n.hasOwnProperty(b)&&h!=null&&!i.hasOwnProperty(b))switch(b){case"selected":e.selected=!1;break;default:ge(e,t,b,null,i,h)}for(d in i)if(h=i[d],g=n[d],i.hasOwnProperty(d)&&h!==g&&(h!=null||g!=null))switch(d){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ge(e,t,d,h,i,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var S in n)h=n[S],n.hasOwnProperty(S)&&h!=null&&!i.hasOwnProperty(S)&&ge(e,t,S,null,i,h);for(f in i)if(h=i[f],g=n[f],i.hasOwnProperty(f)&&h!==g&&(h!=null||g!=null))switch(f){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(D(137,t));break;default:ge(e,t,f,h,i,g)}return;default:if(Lu(t)){for(var _ in n)h=n[_],n.hasOwnProperty(_)&&h!==void 0&&!i.hasOwnProperty(_)&&Kr(e,t,_,void 0,i,h);for(p in i)h=i[p],g=n[p],!i.hasOwnProperty(p)||h===g||h===void 0&&g===void 0||Kr(e,t,p,h,i,g);return}}for(var y in n)h=n[y],n.hasOwnProperty(y)&&h!=null&&!i.hasOwnProperty(y)&&ge(e,t,y,null,i,h);for(m in i)h=i[m],g=n[m],!i.hasOwnProperty(m)||h===g||h==null&&g==null||ge(e,t,m,h,i,g)}function tf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Xv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),i=0;i<n.length;i++){var l=n[i],a=l.transferSize,o=l.initiatorType,r=l.duration;if(a&&r&&tf(o)){for(o=0,r=l.responseEnd,i+=1;i<n.length;i++){var d=n[i],f=d.startTime;if(f>r)break;var p=d.transferSize,m=d.initiatorType;p&&tf(m)&&(d=d.responseEnd,o+=p*(d<r?1:(r-f)/(d-f)))}if(--i,t+=8*(a+o)/(l.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Xr=null,Qr=null;function jo(e){return e.nodeType===9?e:e.ownerDocument}function nf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Zr(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var lr=null;function Qv(){var e=window.event;return e&&e.type==="popstate"?e===lr?!1:(lr=e,!0):(lr=null,!1)}var tg=typeof setTimeout=="function"?setTimeout:void 0,Zv=typeof clearTimeout=="function"?clearTimeout:void 0,lf=typeof Promise=="function"?Promise:void 0,Wv=typeof queueMicrotask=="function"?queueMicrotask:typeof lf<"u"?function(e){return lf.resolve(null).then(e).catch(e1)}:tg;function e1(e){setTimeout(function(){throw e})}function Jn(e){return e==="head"}function af(e,t){var n=t,i=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"||n==="/&"){if(i===0){e.removeChild(l),al(t);return}i--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")i++;else if(n==="html")Jl(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Jl(n);for(var a=n.firstChild;a;){var o=a.nextSibling,r=a.nodeName;a[ya]||r==="SCRIPT"||r==="STYLE"||r==="LINK"&&a.rel.toLowerCase()==="stylesheet"||n.removeChild(a),a=o}}else n==="body"&&Jl(e.ownerDocument.body);n=l}while(n);al(t)}function of(e,t){var n=e;e=0;do{var i=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=i}while(n)}function Wr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Wr(n),zu(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function t1(e,t,n,i){for(;e.nodeType===1;){var l=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[ya])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(a=e.getAttribute("rel"),a==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(a!==l.rel||e.getAttribute("href")!==(l.href==null||l.href===""?null:l.href)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin)||e.getAttribute("title")!==(l.title==null?null:l.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(a=e.getAttribute("src"),(a!==(l.src==null?null:l.src)||e.getAttribute("type")!==(l.type==null?null:l.type)||e.getAttribute("crossorigin")!==(l.crossOrigin==null?null:l.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var a=l.name==null?null:""+l.name;if(l.type==="hidden"&&e.getAttribute("name")===a)return e}else return e;if(e=Rt(e.nextSibling),e===null)break}return null}function n1(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Rt(e.nextSibling),e===null))return null;return e}function ng(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Rt(e.nextSibling),e===null))return null;return e}function eu(e){return e.data==="$?"||e.data==="$~"}function tu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function i1(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function Rt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var nu=null;function sf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return Rt(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function rf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function ig(e,t,n){switch(t=jo(n),e){case"html":if(e=t.documentElement,!e)throw Error(D(452));return e;case"head":if(e=t.head,!e)throw Error(D(453));return e;case"body":if(e=t.body,!e)throw Error(D(454));return e;default:throw Error(D(451))}}function Jl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);zu(e)}var Ut=new Map,uf=new Set;function Go(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var xn=pe.d;pe.d={f:l1,r:a1,D:o1,C:s1,L:r1,m:u1,X:d1,S:c1,M:f1};function l1(){var e=xn.f(),t=cs();return e||t}function a1(e){var t=cl(e);t!==null&&t.tag===5&&t.type==="form"?X0(t):xn.r(e)}var hl=typeof document>"u"?null:document;function lg(e,t,n){var i=hl;if(i&&typeof t=="string"&&t){var l=Nt(t);l='link[rel="'+e+'"][href="'+l+'"]',typeof n=="string"&&(l+='[crossorigin="'+n+'"]'),uf.has(l)||(uf.add(l),e={rel:e,crossOrigin:n,href:t},i.querySelector(l)===null&&(t=i.createElement("link"),$e(t,"link",e),He(t),i.head.appendChild(t)))}}function o1(e){xn.D(e),lg("dns-prefetch",e,null)}function s1(e,t){xn.C(e,t),lg("preconnect",e,t)}function r1(e,t,n){xn.L(e,t,n);var i=hl;if(i&&e&&t){var l='link[rel="preload"][as="'+Nt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(l+='[imagesrcset="'+Nt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(l+='[imagesizes="'+Nt(n.imageSizes)+'"]')):l+='[href="'+Nt(e)+'"]';var a=l;switch(t){case"style":a=ll(e);break;case"script":a=ml(e)}Ut.has(a)||(e=we({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Ut.set(a,e),i.querySelector(l)!==null||t==="style"&&i.querySelector(_a(a))||t==="script"&&i.querySelector(wa(a))||(t=i.createElement("link"),$e(t,"link",e),He(t),i.head.appendChild(t)))}}function u1(e,t){xn.m(e,t);var n=hl;if(n&&e){var i=t&&typeof t.as=="string"?t.as:"script",l='link[rel="modulepreload"][as="'+Nt(i)+'"][href="'+Nt(e)+'"]',a=l;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=ml(e)}if(!Ut.has(a)&&(e=we({rel:"modulepreload",href:e},t),Ut.set(a,e),n.querySelector(l)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(wa(a)))return}i=n.createElement("link"),$e(i,"link",e),He(i),n.head.appendChild(i)}}}function c1(e,t,n){xn.S(e,t,n);var i=hl;if(i&&e){var l=Pi(i).hoistableStyles,a=ll(e);t=t||"default";var o=l.get(a);if(!o){var r={loading:0,preload:null};if(o=i.querySelector(_a(a)))r.loading=5;else{e=we({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Ut.get(a))&&bc(e,n);var d=o=i.createElement("link");He(d),$e(d,"link",e),d._p=new Promise(function(f,p){d.onload=f,d.onerror=p}),d.addEventListener("load",function(){r.loading|=1}),d.addEventListener("error",function(){r.loading|=2}),r.loading|=4,so(o,t,i)}o={type:"stylesheet",instance:o,count:1,state:r},l.set(a,o)}}}function d1(e,t){xn.X(e,t);var n=hl;if(n&&e){var i=Pi(n).hoistableScripts,l=ml(e),a=i.get(l);a||(a=n.querySelector(wa(l)),a||(e=we({src:e,async:!0},t),(t=Ut.get(l))&&Sc(e,t),a=n.createElement("script"),He(a),$e(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(l,a))}}function f1(e,t){xn.M(e,t);var n=hl;if(n&&e){var i=Pi(n).hoistableScripts,l=ml(e),a=i.get(l);a||(a=n.querySelector(wa(l)),a||(e=we({src:e,async:!0,type:"module"},t),(t=Ut.get(l))&&Sc(e,t),a=n.createElement("script"),He(a),$e(a,"link",e),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},i.set(l,a))}}function cf(e,t,n,i){var l=(l=Dn.current)?Go(l):null;if(!l)throw Error(D(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=ll(n.href),n=Pi(l).hoistableStyles,i=n.get(t),i||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=ll(n.href);var a=Pi(l).hoistableStyles,o=a.get(e);if(o||(l=l.ownerDocument||l,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(e,o),(a=l.querySelector(_a(e)))&&!a._p&&(o.instance=a,o.state.loading=5),Ut.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Ut.set(e,n),a||p1(l,e,n,o.state))),t&&i===null)throw Error(D(528,""));return o}if(t&&i!==null)throw Error(D(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ml(n),n=Pi(l).hoistableScripts,i=n.get(t),i||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(D(444,e))}}function ll(e){return'href="'+Nt(e)+'"'}function _a(e){return'link[rel="stylesheet"]['+e+"]"}function ag(e){return we({},e,{"data-precedence":e.precedence,precedence:null})}function p1(e,t,n,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),$e(t,"link",n),He(t),e.head.appendChild(t))}function ml(e){return'[src="'+Nt(e)+'"]'}function wa(e){return"script[async]"+e}function df(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+Nt(n.href)+'"]');if(i)return t.instance=i,He(i),i;var l=we({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),He(i),$e(i,"style",l),so(i,n.precedence,e),t.instance=i;case"stylesheet":l=ll(n.href);var a=e.querySelector(_a(l));if(a)return t.state.loading|=4,t.instance=a,He(a),a;i=ag(n),(l=Ut.get(l))&&bc(i,l),a=(e.ownerDocument||e).createElement("link"),He(a);var o=a;return o._p=new Promise(function(r,d){o.onload=r,o.onerror=d}),$e(a,"link",i),t.state.loading|=4,so(a,n.precedence,e),t.instance=a;case"script":return a=ml(n.src),(l=e.querySelector(wa(a)))?(t.instance=l,He(l),l):(i=n,(l=Ut.get(a))&&(i=we({},n),Sc(i,l)),e=e.ownerDocument||e,l=e.createElement("script"),He(l),$e(l,"link",i),e.head.appendChild(l),t.instance=l);case"void":return null;default:throw Error(D(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(i=t.instance,t.state.loading|=4,so(i,n.precedence,e));return t.instance}function so(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),l=i.length?i[i.length-1]:null,a=l,o=0;o<i.length;o++){var r=i[o];if(r.dataset.precedence===t)a=r;else if(a!==l)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function bc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Sc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ro=null;function ff(e,t,n){if(ro===null){var i=new Map,l=ro=new Map;l.set(n,i)}else l=ro,i=l.get(n),i||(i=new Map,l.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),l=0;l<n.length;l++){var a=n[l];if(!(a[ya]||a[Fe]||e==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var o=a.getAttribute(t)||"";o=e+o;var r=i.get(o);r?r.push(a):i.set(o,[a])}}return i}function pf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function h1(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function og(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function m1(e,t,n,i){if(n.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var l=ll(i.href),a=t.querySelector(_a(l));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Ho.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,He(a);return}a=t.ownerDocument||t,i=ag(i),(l=Ut.get(l))&&bc(i,l),a=a.createElement("link"),He(a);var o=a;o._p=new Promise(function(r,d){o.onload=r,o.onerror=d}),$e(a,"link",i),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Ho.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var ar=0;function g1(e,t){return e.stylesheets&&e.count===0&&uo(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var i=setTimeout(function(){if(e.stylesheets&&uo(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4+t);0<e.imgBytes&&ar===0&&(ar=62500*Xv());var l=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&uo(e,e.stylesheets),e.unsuspend)){var a=e.unsuspend;e.unsuspend=null,a()}},(e.imgBytes>ar?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(l)}}:null}function Ho(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uo(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Po=null;function uo(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Po=new Map,t.forEach(y1,e),Po=null,Ho.call(e))}function y1(e,t){if(!(t.state.loading&4)){var n=Po.get(e);if(n)var i=n.get(null);else{n=new Map,Po.set(e,n);for(var l=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<l.length;a++){var o=l[a];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(n.set(o.dataset.precedence,o),i=o)}i&&n.set(null,i)}l=t.instance,o=l.getAttribute("data-precedence"),a=n.get(o)||i,a===i&&n.set(null,l),n.set(o,l),this.count++,i=Ho.bind(this),l.addEventListener("load",i),l.addEventListener("error",i),a?a.parentNode.insertBefore(l,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(l,e.firstChild)),t.state.loading|=4}}var aa={$$typeof:on,Provider:null,Consumer:null,_currentValue:ti,_currentValue2:ti,_threadCount:0};function x1(e,t,n,i,l,a,o,r,d){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=As(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=As(0),this.hiddenUpdates=As(null),this.identifierPrefix=i,this.onUncaughtError=l,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=d,this.incompleteTransitions=new Map}function sg(e,t,n,i,l,a,o,r,d,f,p,m){return e=new x1(e,t,n,o,d,f,p,m,r),t=1,a===!0&&(t|=24),a=ht(3,null,null,t),e.current=a,a.stateNode=e,t=Ju(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:i,isDehydrated:n,cache:t},Xu(a),e}function rg(e){return e?(e=Ui,e):Ui}function ug(e,t,n,i,l,a){l=rg(l),i.context===null?i.context=l:i.pendingContext=l,i=zn(t),i.payload={element:n},a=a===void 0?null:a,a!==null&&(i.callback=a),n=Ln(e,i,t),n!==null&&(rt(n,e,t),Hl(n,e,t))}function hf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Tc(e,t){hf(e,t),(e=e.alternate)&&hf(e,t)}function cg(e){if(e.tag===13||e.tag===31){var t=gi(e,67108864);t!==null&&rt(t,e,67108864),Tc(e,67108864)}}function mf(e){if(e.tag===13||e.tag===31){var t=vt();t=Du(t);var n=gi(e,t);n!==null&&rt(n,e,t),Tc(e,t)}}var qo=!0;function v1(e,t,n,i){var l=X.T;X.T=null;var a=pe.p;try{pe.p=2,_c(e,t,n,i)}finally{pe.p=a,X.T=l}}function b1(e,t,n,i){var l=X.T;X.T=null;var a=pe.p;try{pe.p=8,_c(e,t,n,i)}finally{pe.p=a,X.T=l}}function _c(e,t,n,i){if(qo){var l=iu(i);if(l===null)ir(e,t,i,Vo,n),gf(e,i);else if(T1(l,e,t,n,i))i.stopPropagation();else if(gf(e,i),t&4&&-1<S1.indexOf(e)){for(;l!==null;){var a=cl(l);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=Qn(a.pendingLanes);if(o!==0){var r=a;for(r.pendingLanes|=2,r.entangledLanes|=2;o;){var d=1<<31-xt(o);r.entanglements[1]|=d,o&=~d}Qt(a),!(fe&6)&&(Ro=gt()+500,Ta(0))}}break;case 31:case 13:r=gi(a,2),r!==null&&rt(r,a,2),cs(),Tc(a,2)}if(a=iu(i),a===null&&ir(e,t,i,Vo,n),a===l)break;l=a}l!==null&&i.stopPropagation()}else ir(e,t,i,null,n)}}function iu(e){return e=ju(e),wc(e)}var Vo=null;function wc(e){if(Vo=null,e=Ai(e),e!==null){var t=pa(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=kh(t),e!==null)return e;e=null}else if(n===31){if(e=Rh(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Vo=e,null}function dg(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ox()){case zh:return 2;case Lh:return 8;case yo:case sx:return 32;case jh:return 268435456;default:return 32}default:return 32}}var lu=!1,Hn=null,Pn=null,qn=null,oa=new Map,sa=new Map,Nn=[],S1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gf(e,t){switch(e){case"focusin":case"focusout":Hn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":qn=null;break;case"pointerover":case"pointerout":oa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":sa.delete(t.pointerId)}}function El(e,t,n,i,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[l]},t!==null&&(t=cl(t),t!==null&&cg(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function T1(e,t,n,i,l){switch(t){case"focusin":return Hn=El(Hn,e,t,n,i,l),!0;case"dragenter":return Pn=El(Pn,e,t,n,i,l),!0;case"mouseover":return qn=El(qn,e,t,n,i,l),!0;case"pointerover":var a=l.pointerId;return oa.set(a,El(oa.get(a)||null,e,t,n,i,l)),!0;case"gotpointercapture":return a=l.pointerId,sa.set(a,El(sa.get(a)||null,e,t,n,i,l)),!0}return!1}function fg(e){var t=Ai(e.target);if(t!==null){var n=pa(t);if(n!==null){if(t=n.tag,t===13){if(t=kh(n),t!==null){e.blockedOn=t,Wc(e.priority,function(){mf(n)});return}}else if(t===31){if(t=Rh(n),t!==null){e.blockedOn=t,Wc(e.priority,function(){mf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function co(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=iu(e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Tr=i,n.target.dispatchEvent(i),Tr=null}else return t=cl(n),t!==null&&cg(t),e.blockedOn=n,!1;t.shift()}return!0}function yf(e,t,n){co(e)&&n.delete(t)}function _1(){lu=!1,Hn!==null&&co(Hn)&&(Hn=null),Pn!==null&&co(Pn)&&(Pn=null),qn!==null&&co(qn)&&(qn=null),oa.forEach(yf),sa.forEach(yf)}function qa(e,t){e.blockedOn===t&&(e.blockedOn=null,lu||(lu=!0,je.unstable_scheduleCallback(je.unstable_NormalPriority,_1)))}var Va=null;function xf(e){Va!==e&&(Va=e,je.unstable_scheduleCallback(je.unstable_NormalPriority,function(){Va===e&&(Va=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],l=e[t+2];if(typeof i!="function"){if(wc(i||n)===null)continue;break}var a=cl(n);a!==null&&(e.splice(t,3),t-=3,Gr(a,{pending:!0,data:l,method:n.method,action:i},i,l))}}))}function al(e){function t(d){return qa(d,e)}Hn!==null&&qa(Hn,e),Pn!==null&&qa(Pn,e),qn!==null&&qa(qn,e),oa.forEach(t),sa.forEach(t);for(var n=0;n<Nn.length;n++){var i=Nn[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<Nn.length&&(n=Nn[0],n.blockedOn===null);)fg(n),n.blockedOn===null&&Nn.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(i=0;i<n.length;i+=3){var l=n[i],a=n[i+1],o=l[ut]||null;if(typeof a=="function")o||xf(n);else if(o){var r=null;if(a&&a.hasAttribute("formAction")){if(l=a,o=a[ut]||null)r=o.formAction;else if(wc(l)!==null)continue}else r=o.action;typeof r=="function"?n[i+1]=r:(n.splice(i,3),i-=3),xf(n)}}}function pg(){function e(a){a.canIntercept&&a.info==="react-transition"&&a.intercept({handler:function(){return new Promise(function(o){return l=o})},focusReset:"manual",scroll:"manual"})}function t(){l!==null&&(l(),l=null),i||setTimeout(n,20)}function n(){if(!i&&!navigation.transition){var a=navigation.currentEntry;a&&a.url!=null&&navigation.navigate(a.url,{state:a.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,l=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),l!==null&&(l(),l=null)}}}function Ec(e){this._internalRoot=e}ps.prototype.render=Ec.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));var n=t.current,i=vt();ug(n,i,e,t,null,null)};ps.prototype.unmount=Ec.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ug(e.current,2,null,e,null,null),cs(),t[ul]=null}};function ps(e){this._internalRoot=e}ps.prototype.unstable_scheduleHydration=function(e){if(e){var t=Vh();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nn.length&&t!==0&&t<Nn[n].priority;n++);Nn.splice(n,0,e),n===0&&fg(e)}};var vf=Ah.version;if(vf!=="19.2.3")throw Error(D(527,vf,"19.2.3"));pe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=Wy(t),e=e!==null?Ih(e):null,e=e===null?null:e.stateNode,e};var w1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ba=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ba.isDisabled&&Ba.supportsFiber)try{ha=Ba.inject(w1),yt=Ba}catch{}}Xo.createRoot=function(e,t){if(!Mh(e))throw Error(D(299));var n=!1,i="",l=lm,a=am,o=om;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(l=t.onUncaughtError),t.onCaughtError!==void 0&&(a=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=sg(e,1,!1,null,null,n,i,null,l,a,o,pg),e[ul]=t.current,vc(e),new Ec(t)};Xo.hydrateRoot=function(e,t,n){if(!Mh(e))throw Error(D(299));var i=!1,l="",a=lm,o=am,r=om,d=null;return n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(o=n.onCaughtError),n.onRecoverableError!==void 0&&(r=n.onRecoverableError),n.formState!==void 0&&(d=n.formState)),t=sg(e,1,!0,t,n??null,i,l,d,a,o,r,pg),t.context=rg(null),n=t.current,i=vt(),i=Du(i),l=zn(i),l.callback=null,Ln(n,l,i),n=i,t.current.lanes=n,ga(t,n),Qt(t),e[ul]=t.current,vc(e),new ps(t)};Xo.version="19.2.3";function hg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hg)}catch(e){console.error(e)}}hg(),Th.exports=Xo;var E1=Th.exports;const C1=fh(E1),N1="00000000-0000-0000-0000-000000000001",Ve={USER:"smart_student_user",SUBJECTS:"smart_student_subjects",TASKS:"smart_student_tasks",NOTES:"smart_student_notes",STATS:"smart_student_stats"},Be={get:e=>{if(typeof localStorage>"u")return null;try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch{return null}},set:(e,t)=>{typeof localStorage<"u"&&localStorage.setItem(e,JSON.stringify(t))}};let A1=null;console.warn(" GitHub Pages mode - localStorage only (demo mode)");const M1=()=>A1!==null,k1=()=>[],R1=()=>[],I1=()=>[],D1=()=>null,Z={saveUser:async e=>(Be.set(Ve.USER,e),e),getUser:async()=>{const e=Be.get(Ve.USER);return e||e||D1()},getSubjects:async()=>{let e=Be.get(Ve.SUBJECTS)||[];return e.length?e:k1()},saveSubject:async e=>{const t=await Z.getSubjects(),n={id:Date.now(),user_id:N1,name:e.name,color:e.color||"#3B82F6",progress:0,lectures:[]};return Be.set(Ve.SUBJECTS,[...t,n]),[...t,n]},deleteSubject:async e=>{let t=await Z.getSubjects();return t=t.filter(n=>n.id!==e),Be.set(Ve.SUBJECTS,t),t},addLecture:async(e,t)=>{let n=await Z.getSubjects();const i=n.findIndex(r=>r.id===e);if(i===-1)throw new Error("Subject not found");const l={...t,id:Date.now(),date:new Date().toLocaleDateString("ar-EG"),isCompleted:!1},a=[...n[i].lectures||[],l],o=Math.round(a.filter(r=>r.isCompleted).length/a.length*100);return n[i]={...n[i],lectures:a,progress:o},Be.set(Ve.SUBJECTS,n),n},toggleLectureStatus:async(e,t)=>{var a;let n=await Z.getSubjects();const i=n.findIndex(o=>o.id===e);if(i===-1)return n;n[i].lectures=((a=n[i].lectures)==null?void 0:a.map(o=>o.id===t?{...o,isCompleted:!o.isCompleted}:o))||[];const l=Math.round(n[i].lectures.filter(o=>o.isCompleted).length/n[i].lectures.length*100);return n[i].progress=l,Be.set(Ve.SUBJECTS,n),n},getTasks:async()=>{let e=Be.get(Ve.TASKS)||[];return e.length?e:R1()},saveTask:async e=>{const t=await Z.getTasks(),n={...e,id:Date.now(),status:"upcoming",created_at:new Date().toISOString()};return Be.set(Ve.TASKS,[n,...t]),[n,...t]},toggleTask:async e=>{let t=await Z.getTasks();return t=t.map(n=>n.id===e?{...n,status:n.status==="completed"?"upcoming":"completed"}:n),Be.set(Ve.TASKS,t),t},deleteTask:async e=>{let t=await Z.getTasks();return t=t.filter(n=>n.id!==e),Be.set(Ve.TASKS,t),t},getNotes:async()=>{let e=Be.get(Ve.NOTES)||[];return e.length?e:I1()},saveNote:async e=>{const t=await Z.getNotes(),n={...e,id:Date.now(),date:new Date().toLocaleDateString("ar-EG")};return Be.set(Ve.NOTES,[n,...t]),[n,...t]},deleteNote:async e=>{let t=await Z.getNotes();return t=t.filter(n=>n.id!==e),Be.set(Ve.NOTES,t),t},getStudyStats:async()=>Be.get(Ve.STATS)||{sessionsCompleted:0,totalMinutes:0,topSubject:" ",focusRate:0},saveStudySession:async(e,t)=>{const n=await Z.getStudyStats(),i={...n,sessionsCompleted:n.sessionsCompleted+1,totalMinutes:n.totalMinutes+e,topSubject:t,focusRate:85};return Be.set(Ve.STATS,i),i},calculateTotalXP:(e,t,n,i)=>{let l=120;return e.forEach(a=>{a.lectures&&(l+=a.lectures.filter(o=>o.isCompleted).length*20)}),l+=t.filter(a=>a.status==="completed").length*10,l+=n.length*15,l},clearCache:async()=>{Object.values(Ve).forEach(e=>Be.set(e,null)),console.log(" Local cache cleared")},isOnline:()=>M1()},Ea={ar:{loading:"   ...",brand_title:"  ",brand_subtitle:"  ",nav_dashboard:" ",nav_subjects:" ",nav_planner:" ",nav_timer:" ",nav_ai:" ",nav_mindmap:" ",nav_creator:" ",nav_voice:" ",nav_blackboard:"",nav_editor:" ",nav_mynotes:" ",nav_pricing:" ",nav_contact:" ",nav_privacy:" ",nav_logout:" ",nav_ai_assistant:"  AI",home_welcome:" ",home_stats_subjects:" ",home_stats_tasks:" ",home_stats_xp:" ",home_quick_note:" ",help_center_title:"  ",help_input_placeholder:"  ",bot_welcome:" !      ",coming_soon:"    !",search_placeholder:"     ...",profile_xp:" ",auth_title:"  ",auth_subtitle:"   ",auth_login_tab:" ",auth_register_tab:" ",auth_email_placeholder:" ",auth_password_placeholder:" ",auth_name_placeholder:" ",auth_submit_login:" ",auth_submit_register:" ",auth_google_login:"  ",auth_or:" ",contact_whatsapp:"  ",contact_facebook:"  ",contact_phone:" ",ai_tutor_tools:" ",ai_tutor_chat:" ",ai_tutor_quiz:" ",ai_tutor_templates:" ",ai_tutor_active_ref:" ",ai_tutor_upload:" ",ai_tutor_library:"",ai_tutor_no_ref:"   ",ai_tutor_quiz_gen:"    ",ai_tutor_quiz_score:" ",ai_tutor_quiz_restart:"  "},en:{loading:"Preparing Environment...",brand_title:"Smart Student",brand_subtitle:"Engineering Future Success",nav_dashboard:"Dashboard",nav_subjects:"Subjects",nav_planner:"Planner",nav_timer:"Timer",nav_ai:"AI Tutor",nav_mindmap:"Mind Map",nav_creator:"Slide Creator",nav_voice:"Voice AI",nav_blackboard:"Board",nav_editor:"Image Editor",nav_mynotes:"Smart Notes",nav_pricing:"Pricing",nav_contact:"Support",nav_privacy:"Privacy",nav_logout:"Logout",nav_ai_assistant:"AI Tutor AI",home_welcome:"Welcome Back",home_stats_subjects:"Subjects",home_stats_tasks:"Tasks",home_stats_xp:"XP Points",home_quick_note:"Quick Note",help_center_title:"Help Center",help_input_placeholder:"How can I help?",bot_welcome:"Hi! How can I help your success today? ",coming_soon:"Feature coming soon!",search_placeholder:"Search subjects, tasks...",profile_xp:"XP Points",auth_title:"Smart Student Platform",auth_subtitle:"Your gateway to a smarter future",auth_login_tab:"Login",auth_register_tab:"Register",auth_email_placeholder:"Email",auth_password_placeholder:"Password",auth_name_placeholder:"Full Name",auth_submit_login:"Enter Platform",auth_submit_register:"Create Account",auth_google_login:"Sign in with Google",auth_or:"Or use",contact_whatsapp:"WhatsApp Us",contact_facebook:"Facebook Page",contact_phone:"Call Us",ai_tutor_tools:"Assistant Tools",ai_tutor_chat:"Smart Chat",ai_tutor_quiz:"Generate Quiz",ai_tutor_templates:"Research Templates",ai_tutor_active_ref:"Active Reference",ai_tutor_upload:"Upload File",ai_tutor_library:"Library",ai_tutor_no_ref:"No active reference",ai_tutor_quiz_gen:"Generate Quiz from Context",ai_tutor_quiz_score:"Your score is",ai_tutor_quiz_restart:"Start New Quiz"}};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U1=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),mg=(...e)=>e.filter((t,n,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var z1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=E.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:l="",children:a,iconNode:o,...r},d)=>E.createElement("svg",{ref:d,...z1,width:t,height:t,stroke:e,strokeWidth:i?Number(n)*24/Number(t):n,className:mg("lucide",l),...r},[...o.map(([f,p])=>E.createElement(f,p)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=(e,t)=>{const n=E.forwardRef(({className:i,...l},a)=>E.createElement(L1,{ref:a,iconNode:t,className:mg(`lucide-${U1(e)}`,i),...l}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=H("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=H("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=H("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=H("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=H("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=H("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=H("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=H("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=H("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=H("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=H("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=H("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=H("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=H("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const su=H("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=H("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=H("CirclePlay",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bf=H("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=H("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=H("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=H("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=H("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=H("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sf=H("Eraser",[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21",key:"182aya"}],["path",{d:"M22 21H7",key:"t4ddhn"}],["path",{d:"m5 11 9 9",key:"1mo9qw"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=H("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=H("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=H("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=H("FileAudio",[["path",{d:"M17.5 22h.5a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v3",key:"rslqgf"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M2 19a2 2 0 1 1 4 0v1a2 2 0 1 1-4 0v-4a6 6 0 0 1 12 0v4a2 2 0 1 1-4 0v-1a2 2 0 1 1 4 0",key:"9f7x3i"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=H("FileBox",[["path",{d:"M14.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"16lz6z"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M3 13.1a2 2 0 0 0-1 1.76v3.24a2 2 0 0 0 .97 1.78L6 21.7a2 2 0 0 0 2.03.01L11 19.9a2 2 0 0 0 1-1.76V14.9a2 2 0 0 0-.97-1.78L8 11.3a2 2 0 0 0-2.03-.01Z",key:"99pj1s"}],["path",{d:"M7 17v5",key:"1yj1jh"}],["path",{d:"M11.7 14.2 7 17l-4.7-2.8",key:"1yk8tc"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=H("FileDown",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=H("FilePlus",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M9 15h6",key:"cctwl0"}],["path",{d:"M12 18v-6",key:"17g6i2"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=H("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=H("FileUp",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=H("Film",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=H("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=H("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=H("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W1=H("Highlighter",[["path",{d:"m9 11-6 6v3h9l3-3",key:"1a3l36"}],["path",{d:"m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4",key:"14a9rk"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eb=H("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=H("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tf=H("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=H("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tb=H("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nb=H("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ib=H("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lb=H("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=H("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=H("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=H("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ob=H("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sb=H("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rb=H("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=H("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=H("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ub=H("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=H("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cb=H("Move",[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=H("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=H("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=H("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=H("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wf=H("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=H("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=H("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=H("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=H("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=H("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=H("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=H("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=H("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=H("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vb=H("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bb=H("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=H("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=H("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=H("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=H("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=H("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=H("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=H("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tb=H("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=H("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cf=H("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=H("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=H("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=H("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=H("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=H("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=H("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fa=H("WandSparkles",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=H("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=H("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=H("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=H("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=H("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Ab=({onLogin:e,lang:t,setLang:n,isDark:i,setIsDark:l})=>{const[a,o]=E.useState("login"),[r,d]=E.useState(""),[f,p]=E.useState(""),[m,h]=E.useState(""),[g,b]=E.useState(!1),[S,_]=E.useState(!1),y=Ea[t],x=async T=>{T.preventDefault(),b(!0);const A={id:"00000000-0000-0000-0000-000000000001",email:r,full_name:a==="register"?m:r.split("@")[0]||(t==="ar"?" ":"Smart Student"),xp:120,subjects_count:4};await Z.saveUser(A),e(A),b(!1)},v=async()=>{_(!0);const T={id:"00000000-0000-0000-0000-000000000001",email:"user@gmail.com",full_name:t==="ar"?" ":"Google User",xp:100,subjects_count:0};await Z.saveUser(T),e(T),_(!1)};return u.jsxs("div",{className:`min-h-screen flex flex-col relative overflow-hidden font-cairo transition-colors duration-500 ${i?"bg-slate-950 text-white":"bg-slate-50 text-slate-900"}`,children:[u.jsxs("div",{className:"absolute inset-0 z-0",children:[u.jsx("div",{className:"absolute inset-0 bg-center bg-cover scale-105 transition-transform duration-[10s] ease-linear",style:{backgroundImage:"url('https://images.unsplash.com/photo-1523240795612-9a054b0db644?q=80&w=2070&auto=format&fit=crop')",animation:"pan-bg 20s infinite alternate"}}),u.jsx("div",{className:`absolute inset-0 transition-all duration-700 ${i?"bg-gradient-to-tr from-slate-950/95 via-slate-900/80 to-indigo-900/40":"bg-gradient-to-tr from-white/90 via-white/50 to-indigo-100/30"}`}),u.jsx("div",{className:"absolute -top-40 -left-40 w-[50rem] h-[50rem] bg-indigo-600/10 rounded-full blur-[120px] animate-pulse"}),u.jsx("div",{className:"absolute -bottom-40 -right-40 w-[50rem] h-[50rem] bg-purple-600/10 rounded-full blur-[120px] animate-pulse delay-1000"})]}),u.jsxs("header",{className:"relative z-20 w-full px-8 py-6 md:px-16 flex justify-between items-center",children:[u.jsxs("div",{className:"flex items-center gap-4 group",children:[u.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-xl shadow-indigo-500/30",children:u.jsx(sl,{size:28})}),u.jsxs("div",{className:"flex flex-col",children:[u.jsx("span",{className:`text-2xl font-black tracking-tighter drop-shadow-sm transition-colors ${i?"text-white":"text-slate-900"}`,children:y.auth_title}),u.jsx("span",{className:`text-[9px] font-black uppercase tracking-[0.3em] leading-none opacity-80 ${i?"text-indigo-400":"text-indigo-600"}`,children:"Smart Student AI Platform"})]})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("button",{onClick:()=>n(t==="ar"?"en":"ar"),className:`flex items-center gap-2 px-5 py-2.5 backdrop-blur-md border rounded-2xl font-black text-xs transition-all ${i?"bg-white/10 border-white/10 text-white hover:bg-white/20":"bg-white/80 border-slate-200 text-slate-900 hover:bg-slate-100"}`,children:[u.jsx(bg,{size:18}),u.jsx("span",{children:t==="ar"?"English":""})]}),u.jsx("button",{onClick:()=>l(!i),className:`p-3 backdrop-blur-md border rounded-2xl transition-all ${i?"bg-white/10 border-white/10 text-amber-400 hover:bg-white/20":"bg-white/80 border-slate-200 text-amber-600 hover:bg-slate-100"}`,children:i?u.jsx(Ng,{size:20}):u.jsx(_g,{size:20})})]})]}),u.jsx("main",{className:"flex-1 flex items-center justify-center p-6 relative z-10",children:u.jsxs("div",{className:`backdrop-blur-3xl rounded-[3.5rem] p-10 md:p-14 w-full max-w-lg shadow-[0_50px_100px_rgba(0,0,0,0.15)] border transition-all animate-in fade-in zoom-in duration-700 ${i?"bg-slate-900/70 border-white/10":"bg-white/80 border-white/40"}`,children:[u.jsxs("div",{className:"text-center mb-10",children:[u.jsx("div",{className:`inline-flex p-4 rounded-3xl mb-6 transition-all ${i?"bg-indigo-400/10 text-indigo-400":"bg-indigo-50 text-indigo-600"}`,children:u.jsx(zt,{size:44,className:"animate-pulse"})}),u.jsx("h2",{className:`text-4xl font-black mb-3 tracking-tighter ${i?"text-white":"text-slate-900"}`,children:a==="login"?t==="ar"?" ":"Welcome Back":t==="ar"?"  ":"Join Us Today"}),u.jsx("p",{className:`text-sm font-bold uppercase tracking-[0.2em] opacity-70 ${i?"text-slate-400":"text-slate-500"}`,children:y.auth_subtitle})]}),u.jsxs("div",{className:`flex p-1.5 rounded-3xl mb-10 border transition-all ${i?"bg-slate-800/50 border-white/5":"bg-slate-100/50 border-slate-200"}`,children:[u.jsx("button",{type:"button",onClick:()=>o("login"),className:`flex-1 py-4 rounded-2xl font-black text-sm transition-all ${a==="login"?i?"bg-indigo-600 text-white shadow-xl shadow-indigo-500/20":"bg-white text-indigo-600 shadow-md":"text-slate-500 hover:opacity-80"}`,children:y.auth_login_tab}),u.jsx("button",{type:"button",onClick:()=>o("register"),className:`flex-1 py-4 rounded-2xl font-black text-sm transition-all ${a==="register"?i?"bg-indigo-600 text-white shadow-xl shadow-indigo-500/20":"bg-white text-indigo-600 shadow-md":"text-slate-500 hover:opacity-80"}`,children:y.auth_register_tab})]}),u.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a==="register"&&u.jsxs("div",{className:"relative group",children:[u.jsx("input",{type:"text",required:!0,value:m,onChange:T=>h(T.target.value),placeholder:y.auth_name_placeholder,className:`w-full px-7 py-5 pr-14 border rounded-[2rem] transition-all outline-none font-bold text-lg placeholder:text-slate-400 ${i?"bg-slate-800/50 border-slate-700 text-white focus:border-indigo-500":"bg-white border-slate-200 text-slate-900 focus:border-indigo-600"}`}),u.jsx("div",{className:`absolute ${t==="ar"?"right-6":"left-6"} top-1/2 -translate-y-1/2 transition-colors ${i?"text-slate-500 group-focus-within:text-indigo-400":"text-slate-400 group-focus-within:text-indigo-600"}`,children:u.jsx(Rc,{size:22})})]}),u.jsxs("div",{className:"relative group",children:[u.jsx("input",{type:"email",required:!0,value:r,onChange:T=>d(T.target.value),placeholder:y.auth_email_placeholder,className:`w-full px-7 py-5 pr-14 border rounded-[2rem] transition-all outline-none font-bold text-lg placeholder:text-slate-400 ${i?"bg-slate-800/50 border-slate-700 text-white focus:border-indigo-500":"bg-white border-slate-200 text-slate-900 focus:border-indigo-600"}`}),u.jsx("div",{className:`absolute ${t==="ar"?"right-6":"left-6"} top-1/2 -translate-y-1/2 transition-colors ${i?"text-slate-500 group-focus-within:text-indigo-400":"text-slate-400 group-focus-within:text-indigo-600"}`,children:u.jsx(sb,{size:22})})]}),u.jsxs("div",{className:"relative group",children:[u.jsx("input",{type:"password",required:!0,value:f,onChange:T=>p(T.target.value),placeholder:y.auth_password_placeholder,className:`w-full px-7 py-5 pr-14 border rounded-[2rem] transition-all outline-none font-bold text-lg placeholder:text-slate-400 ${i?"bg-slate-800/50 border-slate-700 text-white focus:border-indigo-500":"bg-white border-slate-200 text-slate-900 focus:border-indigo-600"}`}),u.jsx("div",{className:`absolute ${t==="ar"?"right-6":"left-6"} top-1/2 -translate-y-1/2 transition-colors ${i?"text-slate-500 group-focus-within:text-indigo-400":"text-slate-400 group-focus-within:text-indigo-600"}`,children:u.jsx(Sg,{size:22})})]}),u.jsx("button",{type:"submit",disabled:g||S,className:"w-full py-5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-[2rem] font-black text-xl shadow-2xl shadow-indigo-500/30 hover:scale-[1.01] active:scale-95 transition-all disabled:opacity-50 mt-8 flex items-center justify-center gap-4",children:g?u.jsx("div",{className:"w-8 h-8 border-4 border-white border-t-transparent rounded-full animate-spin"}):u.jsxs(u.Fragment,{children:[u.jsx("span",{children:a==="login"?y.auth_submit_login:y.auth_submit_register}),u.jsx(au,{size:26,className:t==="ar"?"rotate-180":""})]})})]}),u.jsxs("div",{className:"mt-10",children:[u.jsxs("div",{className:"flex items-center gap-6 mb-8",children:[u.jsx("div",{className:`flex-1 h-px ${i?"bg-slate-700":"bg-slate-200"}`}),u.jsx("span",{className:"text-slate-400 text-[10px] font-black uppercase tracking-[0.3em]",children:y.auth_or}),u.jsx("div",{className:`flex-1 h-px ${i?"bg-slate-700":"bg-slate-200"}`})]}),u.jsxs("button",{onClick:v,disabled:g||S,className:`w-full py-5 border rounded-[2rem] font-black flex items-center justify-center gap-4 transition-all active:scale-95 group disabled:opacity-50 ${i?"bg-slate-800/50 border-slate-700 text-slate-200 hover:bg-slate-800":"bg-white border-slate-100 text-slate-700 hover:bg-slate-50"}`,children:[S?u.jsx(tt,{className:"animate-spin text-indigo-600",size:24}):u.jsxs("svg",{viewBox:"0 0 24 24",className:"w-7 h-7 group-hover:scale-110 transition-transform",children:[u.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),u.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),u.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),u.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),u.jsx("span",{children:y.auth_google_login})]})]}),u.jsxs("div",{className:`mt-10 flex items-center justify-center gap-3 font-black text-[10px] uppercase tracking-[0.2em] opacity-80 ${i?"text-indigo-400":"text-indigo-600"}`,children:[u.jsx(bb,{size:16}),u.jsx("span",{children:"    "})]})]})}),u.jsx("footer",{className:"relative z-10 p-10 text-center",children:u.jsxs("p",{className:`font-black text-[10px] uppercase tracking-[0.5em] transition-colors ${i?"text-white opacity-40":"text-slate-900 opacity-20"}`,children:[" 2025 ",y.auth_title,"  Leading Educational Innovation"]})}),u.jsx("style",{children:`
        @keyframes pan-bg {
          from { transform: scale(1.05) translate(0, 0); }
          to { transform: scale(1.1) translate(-1%, -1%); }
        }
      `})]})},Mb=({currentPage:e,setPage:t,lang:n,onLogout:i})=>{const l=Ea[n],a=[{title:n==="ar"?"":"Home",items:[{id:"dashboard",label:l.nav_dashboard,icon:eb},{id:"subjects",label:l.nav_subjects,icon:ra},{id:"planner",label:l.nav_planner,icon:ou}]},{title:n==="ar"?"  ":"AI Tools",items:[{id:"ai-assistant",label:l.nav_ai_assistant,icon:sl},{id:"creator",label:l.nav_creator,icon:nb},{id:"mindmap",label:l.nav_mindmap,icon:Bo},{id:"voice",label:l.nav_voice,icon:kc}]},{title:n==="ar"?" ":"Study Tools",items:[{id:"timer",label:l.nav_timer,icon:hs},{id:"mynotes",label:l.nav_mynotes,icon:Nc},{id:"blackboard",label:l.nav_blackboard,icon:fb},{id:"editor",label:l.nav_editor,icon:Ca}]}];return u.jsxs("aside",{className:`w-72 bg-white dark:bg-slate-900 h-screen border-${n==="ar"?"l":"r"} border-slate-200 dark:border-slate-800 flex flex-col shadow-2xl z-30 transition-all duration-300 shrink-0`,children:[u.jsxs("div",{className:"p-8 flex items-center gap-4 border-b border-slate-100 dark:border-slate-800",children:[u.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-xl",children:u.jsx(sl,{size:28})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-black text-slate-900 dark:text-white leading-none",children:l.brand_title}),u.jsx("p",{className:"text-[10px] text-indigo-500 font-black uppercase tracking-widest mt-1",children:"Smart Learning"})]})]}),u.jsxs("nav",{className:"flex-1 p-6 space-y-8 overflow-y-auto custom-scrollbar",children:[a.map((o,r)=>u.jsxs("div",{className:"space-y-2",children:[u.jsx("h3",{className:`px-4 text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] mb-4 ${n==="ar"?"text-right":"text-left"}`,children:o.title}),o.items.map(d=>u.jsxs("button",{onClick:()=>t(d.id),className:`w-full flex items-center gap-3.5 p-3.5 rounded-2xl transition-all group ${e===d.id?"bg-indigo-600 text-white shadow-xl shadow-indigo-100 dark:shadow-none":"text-slate-500 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 hover:text-indigo-600"} ${n==="ar"?"flex-row":"flex-row-reverse"}`,children:[u.jsx(d.icon,{size:18,className:e===d.id?"text-white":"group-hover:scale-110 transition-transform"}),u.jsx("span",{className:"font-bold text-sm",children:d.label})]},d.id))]},r)),u.jsx("div",{className:"pt-4 border-t border-slate-100 dark:border-slate-800 space-y-2",children:u.jsxs("button",{onClick:()=>t("pricing"),className:`w-full flex items-center gap-4 p-3.5 rounded-2xl transition-all ${e==="pricing"?"bg-amber-500 text-white shadow-lg":"text-amber-600 hover:bg-amber-50 dark:hover:bg-amber-900/20"} ${n==="ar"?"flex-row":"flex-row-reverse"}`,children:[u.jsx(F1,{size:18}),u.jsx("span",{className:"font-bold text-sm",children:n==="ar"?" ":"Pro Plans"})]})})]}),u.jsx("div",{className:"p-6 border-t border-slate-100 dark:border-slate-800",children:u.jsxs("button",{onClick:i,className:`w-full flex items-center gap-4 p-4 text-rose-500 hover:bg-rose-50 dark:hover:bg-rose-900/20 rounded-2xl transition-all font-bold text-sm ${n==="ar"?"flex-row":"flex-row-reverse"}`,children:[u.jsx(ob,{size:18}),u.jsx("span",{children:l.nav_logout})]})})]})},Nf=({user:e,lang:t,setPage:n})=>{const i=Ea[t],[l,a]=E.useState([]),[o,r]=E.useState([]),[d,f]=E.useState(0);return E.useEffect(()=>{(async()=>{const m=await Z.getTasks();a(m);const h=await Z.getSubjects();if(r(h),h.length>0){const g=h.reduce((b,S)=>b+S.progress,0)/h.length;f(Math.round(g))}})()},[]),u.jsxs("div",{className:"space-y-10 animate-in fade-in duration-700 pb-20",children:[u.jsx("section",{className:"relative overflow-hidden bg-slate-900 rounded-[3.5rem] p-8 md:p-12 text-white shadow-2xl",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center relative z-10",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("h2",{className:"text-4xl md:text-5xl font-black leading-tight",children:[i.home_welcome," ",u.jsx("br",{})," ",u.jsx("span",{className:"text-indigo-400",children:e.full_name})]}),u.jsx("p",{className:"text-slate-400 text-lg font-medium",children:t==="ar"?"      -     .":"Welcome to Smart Student Platform - Your educational future starts here intelligently."}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("button",{onClick:()=>n("planner"),className:"px-8 py-4 bg-indigo-600 text-white rounded-2xl font-black flex items-center gap-2 hover:bg-indigo-700 transition-all",children:[t==="ar"?" ":"Resume Plan"," ",u.jsx(G1,{size:20})]}),u.jsx("button",{onClick:()=>n("voice"),className:"px-8 py-4 bg-white/10 text-white rounded-2xl font-black border border-white/10 hover:bg-white/20 transition-all",children:t==="ar"?"   ":"Talk to AI Doctor"})]})]}),u.jsxs("div",{className:"relative group",children:[u.jsxs("div",{className:"aspect-video bg-slate-800 rounded-3xl overflow-hidden shadow-2xl border border-white/10",children:[u.jsx("img",{src:"https://images.unsplash.com/photo-1516321318423-f06f85e504b3?q=80&w=2070&auto=format&fit=crop",className:"w-full h-full object-cover opacity-60 group-hover:scale-105 transition-transform duration-700",alt:"Intro"}),u.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:u.jsx("button",{className:"w-20 h-20 bg-indigo-600 rounded-full flex items-center justify-center shadow-2xl group-hover:scale-110 transition-all",children:u.jsx(xg,{size:40,fill:"white"})})})]}),u.jsx("div",{className:"absolute -bottom-4 -right-4 bg-amber-400 text-slate-900 p-4 rounded-2xl font-black shadow-xl animate-bounce",children:t==="ar"?"   ":"Watch Intro Video "})]})]})}),u.jsx("section",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[{label:i.home_stats_tasks,val:l.length,color:"text-indigo-600",icon:cu},{label:t==="ar"?" ":"Completed Lectures",val:o.reduce((p,m)=>p+m.lectures.filter(h=>h.isCompleted).length,0),color:"text-emerald-600",icon:lb},{label:t==="ar"?" ":"Average Progress",val:`${d}%`,color:"text-amber-600",icon:V1},{label:t==="ar"?" ":"Study Hours",val:"14.2h",color:"text-rose-600",icon:hs}].map((p,m)=>u.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-[2.5rem] shadow-lg border border-slate-100 dark:border-slate-800 flex items-center gap-5",children:[u.jsx("div",{className:`w-14 h-14 rounded-2xl bg-slate-50 dark:bg-slate-800 flex items-center justify-center ${p.color}`,children:u.jsx(p.icon,{size:28})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-3xl font-black dark:text-white",children:p.val}),u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:p.label})]})]},m))}),u.jsxs("footer",{className:"bg-white dark:bg-slate-900 p-10 rounded-[3.5rem] border border-slate-100 dark:border-slate-800 flex flex-col md:flex-row justify-between items-center gap-8",children:[u.jsxs("div",{className:`${t==="ar"?"text-right":"text-left"}`,children:[u.jsx("h3",{className:"text-xl font-black dark:text-white mb-2",children:t==="ar"?"  ":"Contact Us Directly"}),u.jsxs("p",{className:"text-slate-500 font-medium flex items-center gap-2",children:[t==="ar"?"    :":"Support Team via WhatsApp:"," ",u.jsx("span",{className:"text-emerald-600 font-black",dir:"ltr",children:"01025612869"})]})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsx("a",{href:"https://www.facebook.com/share/1AtY6UZJQF/",target:"_blank",rel:"noopener noreferrer",className:"w-14 h-14 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 rounded-2xl flex items-center justify-center hover:scale-110 transition-all shadow-md",title:i.contact_facebook,children:u.jsx($1,{size:24})}),u.jsx("a",{href:"https://wa.me/201025612869",target:"_blank",rel:"noopener noreferrer",className:"w-14 h-14 bg-emerald-100 dark:bg-emerald-900/30 text-emerald-600 rounded-2xl flex items-center justify-center hover:scale-110 transition-all shadow-md",title:i.contact_whatsapp,children:u.jsx(rb,{size:24})}),u.jsx("a",{href:"tel:01025612869",className:"w-14 h-14 bg-slate-100 dark:bg-slate-800 text-slate-600 rounded-2xl flex items-center justify-center hover:scale-110 transition-all shadow-md",title:i.contact_phone,children:u.jsx(pb,{size:24})})]})]})]})};var kb={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let Rb,Ib;function Db(){return{geminiUrl:Rb,vertexUrl:Ib}}function Ub(e,t,n,i){var l,a;if(!(e!=null&&e.baseUrl)){const o=Db();return t?(l=o.vertexUrl)!==null&&l!==void 0?l:n:(a=o.geminiUrl)!==null&&a!==void 0?a:i}return e.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vn{}function O(e,t){const n=/\{([^}]+)\}/g;return e.replace(n,(i,l)=>{if(Object.prototype.hasOwnProperty.call(t,l)){const a=t[l];return a!=null?String(a):""}else throw new Error(`Key '${l}' not found in valueMap.`)})}function c(e,t,n){for(let a=0;a<t.length-1;a++){const o=t[a];if(o.endsWith("[]")){const r=o.slice(0,-2);if(!(r in e))if(Array.isArray(n))e[r]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${o}`);if(Array.isArray(e[r])){const d=e[r];if(Array.isArray(n))for(let f=0;f<d.length;f++){const p=d[f];c(p,t.slice(a+1),n[f])}else for(const f of d)c(f,t.slice(a+1),n)}return}else if(o.endsWith("[0]")){const r=o.slice(0,-3);r in e||(e[r]=[{}]);const d=e[r];c(d[0],t.slice(a+1),n);return}(!e[o]||typeof e[o]!="object")&&(e[o]={}),e=e[o]}const i=t[t.length-1],l=e[i];if(l!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===l)return;if(typeof l=="object"&&typeof n=="object"&&l!==null&&n!==null)Object.assign(l,n);else throw new Error(`Cannot set value for an existing key. Key: ${i}`)}else i==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(e,n):e[i]=n}function s(e,t,n=void 0){try{if(t.length===1&&t[0]==="_self")return e;for(let i=0;i<t.length;i++){if(typeof e!="object"||e===null)return n;const l=t[i];if(l.endsWith("[]")){const a=l.slice(0,-2);if(a in e){const o=e[a];return Array.isArray(o)?o.map(r=>s(r,t.slice(i+1),n)):n}else return n}else e=e[l]}return e}catch(i){if(i instanceof TypeError)return n;throw i}}function zb(e,t){for(const[n,i]of Object.entries(t)){const l=n.split("."),a=i.split("."),o=new Set;let r=-1;for(let d=0;d<l.length;d++)if(l[d]==="*"){r=d;break}if(r!==-1&&a.length>r)for(let d=r;d<a.length;d++){const f=a[d];f!=="*"&&!f.endsWith("[]")&&!f.endsWith("[0]")&&o.add(f)}du(e,l,a,0,o)}}function du(e,t,n,i,l){if(i>=t.length||typeof e!="object"||e===null)return;const a=t[i];if(a.endsWith("[]")){const o=a.slice(0,-2),r=e;if(o in r&&Array.isArray(r[o]))for(const d of r[o])du(d,t,n,i+1,l)}else if(a==="*"){if(typeof e=="object"&&e!==null&&!Array.isArray(e)){const o=e,r=Object.keys(o).filter(f=>!f.startsWith("_")&&!l.has(f)),d={};for(const f of r)d[f]=o[f];for(const[f,p]of Object.entries(d)){const m=[];for(const h of n.slice(i))h==="*"?m.push(f):m.push(h);c(o,m,p)}for(const f of r)delete o[f]}}else{const o=e;a in o&&du(o[a],t,n,i+1,l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ic(e){if(typeof e!="string")throw new Error("fromImageBytes must be a string");return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lb(e){const t={},n=s(e,["operationName"]);n!=null&&c(t,["operationName"],n);const i=s(e,["resourceName"]);return i!=null&&c(t,["_url","resourceName"],i),t}function jb(e){const t={},n=s(e,["name"]);n!=null&&c(t,["name"],n);const i=s(e,["metadata"]);i!=null&&c(t,["metadata"],i);const l=s(e,["done"]);l!=null&&c(t,["done"],l);const a=s(e,["error"]);a!=null&&c(t,["error"],a);const o=s(e,["response","generateVideoResponse"]);return o!=null&&c(t,["response"],Hb(o)),t}function Gb(e){const t={},n=s(e,["name"]);n!=null&&c(t,["name"],n);const i=s(e,["metadata"]);i!=null&&c(t,["metadata"],i);const l=s(e,["done"]);l!=null&&c(t,["done"],l);const a=s(e,["error"]);a!=null&&c(t,["error"],a);const o=s(e,["response"]);return o!=null&&c(t,["response"],Pb(o)),t}function Hb(e){const t={},n=s(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>qb(o))),c(t,["generatedVideos"],a)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&c(t,["raiMediaFilteredCount"],i);const l=s(e,["raiMediaFilteredReasons"]);return l!=null&&c(t,["raiMediaFilteredReasons"],l),t}function Pb(e){const t={},n=s(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>Vb(o))),c(t,["generatedVideos"],a)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&c(t,["raiMediaFilteredCount"],i);const l=s(e,["raiMediaFilteredReasons"]);return l!=null&&c(t,["raiMediaFilteredReasons"],l),t}function qb(e){const t={},n=s(e,["video"]);return n!=null&&c(t,["video"],$b(n)),t}function Vb(e){const t={},n=s(e,["_self"]);return n!=null&&c(t,["video"],Kb(n)),t}function Bb(e){const t={},n=s(e,["operationName"]);return n!=null&&c(t,["_url","operationName"],n),t}function Ob(e){const t={},n=s(e,["operationName"]);return n!=null&&c(t,["_url","operationName"],n),t}function Fb(e){const t={},n=s(e,["name"]);n!=null&&c(t,["name"],n);const i=s(e,["metadata"]);i!=null&&c(t,["metadata"],i);const l=s(e,["done"]);l!=null&&c(t,["done"],l);const a=s(e,["error"]);a!=null&&c(t,["error"],a);const o=s(e,["response"]);return o!=null&&c(t,["response"],Yb(o)),t}function Yb(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=s(e,["parent"]);i!=null&&c(t,["parent"],i);const l=s(e,["documentName"]);return l!=null&&c(t,["documentName"],l),t}function Rg(e){const t={},n=s(e,["name"]);n!=null&&c(t,["name"],n);const i=s(e,["metadata"]);i!=null&&c(t,["metadata"],i);const l=s(e,["done"]);l!=null&&c(t,["done"],l);const a=s(e,["error"]);a!=null&&c(t,["error"],a);const o=s(e,["response"]);return o!=null&&c(t,["response"],Jb(o)),t}function Jb(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=s(e,["parent"]);i!=null&&c(t,["parent"],i);const l=s(e,["documentName"]);return l!=null&&c(t,["documentName"],l),t}function $b(e){const t={},n=s(e,["uri"]);n!=null&&c(t,["uri"],n);const i=s(e,["encodedVideo"]);i!=null&&c(t,["videoBytes"],Ic(i));const l=s(e,["encoding"]);return l!=null&&c(t,["mimeType"],l),t}function Kb(e){const t={},n=s(e,["gcsUri"]);n!=null&&c(t,["uri"],n);const i=s(e,["bytesBase64Encoded"]);i!=null&&c(t,["videoBytes"],Ic(i));const l=s(e,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Af;(function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Af||(Af={}));var Mf;(function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"})(Mf||(Mf={}));var kf;(function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"})(kf||(kf={}));var We;(function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"})(We||(We={}));var Rf;(function(e){e.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",e.SIMPLE_SEARCH="SIMPLE_SEARCH",e.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Rf||(Rf={}));var If;(function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"})(If||(If={}));var Df;(function(e){e.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",e.HTTP_IN_QUERY="HTTP_IN_QUERY",e.HTTP_IN_HEADER="HTTP_IN_HEADER",e.HTTP_IN_PATH="HTTP_IN_PATH",e.HTTP_IN_BODY="HTTP_IN_BODY",e.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Df||(Df={}));var Uf;(function(e){e.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",e.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",e.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",e.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Uf||(Uf={}));var zf;(function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"})(zf||(zf={}));var Lf;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"})(Lf||(Lf={}));var jf;(function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE",e.VALIDATED="VALIDATED"})(jf||(jf={}));var Gf;(function(e){e.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH",e.MINIMAL="MINIMAL"})(Gf||(Gf={}));var Hf;(function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",e.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",e.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",e.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",e.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Hf||(Hf={}));var Pf;(function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"})(Pf||(Pf={}));var qf;(function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"})(qf||(qf={}));var Vf;(function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",e.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",e.NO_IMAGE="NO_IMAGE",e.IMAGE_RECITATION="IMAGE_RECITATION",e.IMAGE_OTHER="IMAGE_OTHER"})(Vf||(Vf={}));var Bf;(function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"})(Bf||(Bf={}));var Of;(function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Of||(Of={}));var Ff;(function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",e.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",e.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Ff||(Ff={}));var Yf;(function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.IMAGE_SAFETY="IMAGE_SAFETY",e.MODEL_ARMOR="MODEL_ARMOR",e.JAILBREAK="JAILBREAK"})(Yf||(Yf={}));var Jf;(function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Jf||(Jf={}));var fi;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"})(fi||(fi={}));var $f;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})($f||($f={}));var Kf;(function(e){e.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",e.TUNING_MODE_FULL="TUNING_MODE_FULL",e.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Kf||(Kf={}));var Xf;(function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Xf||(Xf={}));var fu;(function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(fu||(fu={}));var Qf;(function(e){e.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",e.TUNING_TASK_I2V="TUNING_TASK_I2V",e.TUNING_TASK_T2V="TUNING_TASK_T2V",e.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Qf||(Qf={}));var Zf;(function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",e.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Zf||(Zf={}));var Wf;(function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"})(Wf||(Wf={}));var ep;(function(e){e.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",e.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(ep||(ep={}));var tp;(function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"})(tp||(tp={}));var np;(function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"})(np||(np={}));var ip;(function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi",e.zh="zh",e.pt="pt",e.es="es"})(ip||(ip={}));var lp;(function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(lp||(lp={}));var ap;(function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(ap||(ap={}));var op;(function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(op||(op={}));var sp;(function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(sp||(sp={}));var rp;(function(e){e.FOREGROUND="FOREGROUND",e.BACKGROUND="BACKGROUND",e.PROMPT="PROMPT",e.SEMANTIC="SEMANTIC",e.INTERACTIVE="INTERACTIVE"})(rp||(rp={}));var up;(function(e){e.ASSET="ASSET",e.STYLE="STYLE"})(up||(up={}));var cp;(function(e){e.INSERT="INSERT",e.REMOVE="REMOVE",e.REMOVE_STATIC="REMOVE_STATIC",e.OUTPAINT="OUTPAINT"})(cp||(cp={}));var dp;(function(e){e.OPTIMIZED="OPTIMIZED",e.LOSSLESS="LOSSLESS"})(dp||(dp={}));var fp;(function(e){e.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",e.PREFERENCE_TUNING="PREFERENCE_TUNING"})(fp||(fp={}));var pp;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.STATE_PENDING="STATE_PENDING",e.STATE_ACTIVE="STATE_ACTIVE",e.STATE_FAILED="STATE_FAILED"})(pp||(pp={}));var hp;(function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"})(hp||(hp={}));var mp;(function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED",e.REGISTERED="REGISTERED"})(mp||(mp={}));var gp;(function(e){e.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.RESPONSE_REJECTED="RESPONSE_REJECTED",e.NEED_MORE_INPUT="NEED_MORE_INPUT"})(gp||(gp={}));var yp;(function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"})(yp||(yp={}));var xp;(function(e){e.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",e.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",e.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(xp||(xp={}));var vp;(function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(vp||(vp={}));var bp;(function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(bp||(bp={}));var Sp;(function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"})(Sp||(Sp={}));var Tp;(function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Tp||(Tp={}));var _p;(function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(_p||(_p={}));var wp;(function(e){e.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",e.QUALITY="QUALITY",e.DIVERSITY="DIVERSITY",e.VOCALIZATION="VOCALIZATION"})(wp||(wp={}));var Gi;(function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"})(Gi||(Gi={}));class pu{constructor(t){const n={};for(const i of t.headers.entries())n[i[0]]=i[1];this.headers=n,this.responseInternal=t}json(){return this.responseInternal.json()}}class Cl{get text(){var t,n,i,l,a,o,r,d;if(((l=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let f="",p=!1;const m=[];for(const h of(d=(r=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)!==null&&d!==void 0?d:[]){for(const[g,b]of Object.entries(h))g!=="text"&&g!=="thought"&&g!=="thoughtSignature"&&(b!==null||b!==void 0)&&m.push(g);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;p=!0,f+=h.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),p?f:void 0}get data(){var t,n,i,l,a,o,r,d;if(((l=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let f="";const p=[];for(const m of(d=(r=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)!==null&&d!==void 0?d:[]){for(const[h,g]of Object.entries(m))h!=="inlineData"&&(g!==null||g!==void 0)&&p.push(h);m.inlineData&&typeof m.inlineData.data=="string"&&(f+=atob(m.inlineData.data))}return p.length>0&&console.warn(`there are non-data parts ${p} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),f.length>0?btoa(f):void 0}get functionCalls(){var t,n,i,l,a,o,r,d;if(((l=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const f=(d=(r=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||d===void 0?void 0:d.filter(p=>p.functionCall).map(p=>p.functionCall).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return f}get executableCode(){var t,n,i,l,a,o,r,d,f;if(((l=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const p=(d=(r=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||d===void 0?void 0:d.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.code}get codeExecutionResult(){var t,n,i,l,a,o,r,d,f;if(((l=(i=(n=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||n===void 0?void 0:n.content)===null||i===void 0?void 0:i.parts)===null||l===void 0?void 0:l.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const p=(d=(r=(o=(a=this.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content)===null||r===void 0?void 0:r.parts)===null||d===void 0?void 0:d.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((p==null?void 0:p.length)!==0)return(f=p==null?void 0:p[0])===null||f===void 0?void 0:f.output}}class Ep{}class Cp{}class Xb{}class Qb{}class Zb{}class Wb{}class Np{}class Ap{}class Mp{}class eS{}class Oo{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new Oo;let l;const a=t;return n?l=Gb(a):l=jb(a),Object.assign(i,l),i}}class kp{}class Rp{}class Ip{}class Dp{}class tS{}class nS{}class iS{}class Dc{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new Dc,a=Fb(t);return Object.assign(i,a),i}}class lS{}class aS{}class oS{}class Up{}class sS{get text(){var t,n,i;let l="",a=!1;const o=[];for(const r of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[d,f]of Object.entries(r))d!=="text"&&d!=="thought"&&f!==null&&o.push(d);if(typeof r.text=="string"){if(typeof r.thought=="boolean"&&r.thought)continue;a=!0,l+=r.text}}return o.length>0&&console.warn(`there are non-text parts ${o} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),a?l:void 0}get data(){var t,n,i;let l="";const a=[];for(const o of(i=(n=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&i!==void 0?i:[]){for(const[r,d]of Object.entries(o))r!=="inlineData"&&d!==null&&a.push(r);o.inlineData&&typeof o.inlineData.data=="string"&&(l+=atob(o.inlineData.data))}return a.length>0&&console.warn(`there are non-data parts ${a} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}}class rS{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class Uc{_fromAPIResponse({apiResponse:t,_isVertexAI:n}){const i=new Uc,a=Rg(t);return Object.assign(i,a),i}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function de(e,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const n=t.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Ig(e,t){const n=de(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function Dg(e){return Array.isArray(e)?e.map(t=>Fo(t)):[Fo(e)]}function Fo(e){if(typeof e=="object"&&e!==null)return e;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof e}`)}function Ug(e){const t=Fo(e);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function zg(e){const t=Fo(e);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function zp(e){if(e==null)throw new Error("PartUnion is required");if(typeof e=="object")return e;if(typeof e=="string")return{text:e};throw new Error(`Unsupported part type: ${typeof e}`)}function Lg(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("PartListUnion is required");return Array.isArray(e)?e.map(t=>zp(t)):[zp(e)]}function hu(e){return e!=null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)}function Lp(e){return e!=null&&typeof e=="object"&&"functionCall"in e}function jp(e){return e!=null&&typeof e=="object"&&"functionResponse"in e}function Xe(e){if(e==null)throw new Error("ContentUnion is required");return hu(e)?e:{role:"user",parts:Lg(e)}}function zc(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap(n=>{const i=Xe(n);return i.parts&&i.parts.length>0&&i.parts[0].text!==void 0?[i.parts[0].text]:[]});if(e.isVertexAI()){const n=Xe(t);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(t)?t.map(n=>Xe(n)):[Xe(t)]}function Dt(e){if(e==null||Array.isArray(e)&&e.length===0)throw new Error("contents are required");if(!Array.isArray(e)){if(Lp(e)||jp(e))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Xe(e)]}const t=[],n=[],i=hu(e[0]);for(const l of e){const a=hu(l);if(a!=i)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(a)t.push(l);else{if(Lp(l)||jp(l))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(l)}}return i||t.push({role:"user",parts:Lg(n)}),t}function uS(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter(i=>i!=="null");if(n.length===1)t.type=Object.values(We).includes(n[0].toUpperCase())?n[0].toUpperCase():We.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const i of n)t.anyOf.push({type:Object.values(We).includes(i.toUpperCase())?i.toUpperCase():We.TYPE_UNSPECIFIED})}}function Ji(e){const t={},n=["items"],i=["anyOf"],l=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const a=e.anyOf;a!=null&&a.length==2&&(a[0].type==="null"?(t.nullable=!0,e=a[1]):a[1].type==="null"&&(t.nullable=!0,e=a[0])),e.type instanceof Array&&uS(e.type,t);for(const[o,r]of Object.entries(e))if(r!=null)if(o=="type"){if(r==="null")throw new Error("type: null can not be the only possible type for the field.");if(r instanceof Array)continue;t.type=Object.values(We).includes(r.toUpperCase())?r.toUpperCase():We.TYPE_UNSPECIFIED}else if(n.includes(o))t[o]=Ji(r);else if(i.includes(o)){const d=[];for(const f of r){if(f.type=="null"){t.nullable=!0;continue}d.push(Ji(f))}t[o]=d}else if(l.includes(o)){const d={};for(const[f,p]of Object.entries(r))d[f]=Ji(p);t[o]=d}else{if(o==="additionalProperties")continue;t[o]=r}return t}function Lc(e){return Ji(e)}function jc(e){if(typeof e=="object")return e;if(typeof e=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:e}}};throw new Error(`Unsupported speechConfig type: ${typeof e}`)}function Gc(e){if("multiSpeakerVoiceConfig"in e)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return e}function gl(e){if(e.functionDeclarations)for(const t of e.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=Ji(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=Ji(t.response));return e}function yl(e){if(e==null)throw new Error("tools is required");if(!Array.isArray(e))throw new Error("tools is required and must be an array of Tools");const t=[];for(const n of e)t.push(n);return t}function cS(e,t,n,i=1){const l=!t.startsWith(`${n}/`)&&t.split("/").length===i;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:l?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:l?`${n}/${t}`:t}function bn(e,t){if(typeof t!="string")throw new Error("name must be a string");return cS(e,t,"cachedContents")}function jg(e){switch(e){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return e}}function $n(e){return Ic(e)}function dS(e){return e!=null&&typeof e=="object"&&"name"in e}function fS(e){return e!=null&&typeof e=="object"&&"video"in e}function pS(e){return e!=null&&typeof e=="object"&&"uri"in e}function Gg(e){var t;let n;if(dS(e)&&(n=e.name),!(pS(e)&&(n=e.uri,n===void 0))&&!(fS(e)&&(n=(t=e.video)===null||t===void 0?void 0:t.uri,n===void 0))){if(typeof e=="string"&&(n=e),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const l=n.split("files/")[1].match(/[a-z0-9]+/);if(l===null)throw new Error(`Could not extract file name from URI ${n}`);n=l[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function Hg(e,t){let n;return e.isVertexAI()?n=t?"publishers/google/models":"models":n=t?"models":"tunedModels",n}function Pg(e){for(const t of["models","tunedModels","publisherModels"])if(hS(e,t))return e[t];return[]}function hS(e,t){return e!==null&&typeof e=="object"&&t in e}function mS(e,t={}){const n=e,i={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(i.responseJsonSchema=n.outputSchema),t.behavior&&(i.behavior=t.behavior),{functionDeclarations:[i]}}function gS(e,t={}){const n=[],i=new Set;for(const l of e){const a=l.name;if(i.has(a))throw new Error(`Duplicate function name ${a} found in MCP tools. Please ensure function names are unique.`);i.add(a);const o=mS(l,t);o.functionDeclarations&&n.push(...o.functionDeclarations)}return{functionDeclarations:n}}function qg(e,t){let n;if(typeof t=="string")if(e.isVertexAI())if(t.startsWith("gs://"))n={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))n={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))n={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(e.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:t}}else n=t;const i=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,l=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(e.isVertexAI()){if(l>0||i!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(i>0||l!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function yS(e){if(typeof e!="string")return e;const t=e;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Vg(e){if(typeof e!="object"||e===null)return{};const t=e,n=t.inlinedResponses;if(typeof n!="object"||n===null)return e;const l=n.inlinedResponses;if(!Array.isArray(l)||l.length===0)return e;let a=!1;for(const o of l){if(typeof o!="object"||o===null)continue;const d=o.response;if(typeof d!="object"||d===null)continue;if(d.embedding!==void 0){a=!0;break}}return a&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),e}function xl(e,t){const n=t;if(!e.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function Bg(e){const t=e;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xS(e){const t={},n=s(e,["responsesFile"]);n!=null&&c(t,["fileName"],n);const i=s(e,["inlinedResponses","inlinedResponses"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>ZS(o))),c(t,["inlinedResponses"],a)}const l=s(e,["inlinedEmbedContentResponses","inlinedResponses"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(o=>o)),c(t,["inlinedEmbedContentResponses"],a)}return t}function vS(e){const t={},n=s(e,["predictionsFormat"]);n!=null&&c(t,["format"],n);const i=s(e,["gcsDestination","outputUriPrefix"]);i!=null&&c(t,["gcsUri"],i);const l=s(e,["bigqueryDestination","outputUri"]);return l!=null&&c(t,["bigqueryUri"],l),t}function bS(e){const t={},n=s(e,["format"]);n!=null&&c(t,["predictionsFormat"],n);const i=s(e,["gcsUri"]);i!=null&&c(t,["gcsDestination","outputUriPrefix"],i);const l=s(e,["bigqueryUri"]);if(l!=null&&c(t,["bigqueryDestination","outputUri"],l),s(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(e,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(e,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function fo(e){const t={},n=s(e,["name"]);n!=null&&c(t,["name"],n);const i=s(e,["metadata","displayName"]);i!=null&&c(t,["displayName"],i);const l=s(e,["metadata","state"]);l!=null&&c(t,["state"],Bg(l));const a=s(e,["metadata","createTime"]);a!=null&&c(t,["createTime"],a);const o=s(e,["metadata","endTime"]);o!=null&&c(t,["endTime"],o);const r=s(e,["metadata","updateTime"]);r!=null&&c(t,["updateTime"],r);const d=s(e,["metadata","model"]);d!=null&&c(t,["model"],d);const f=s(e,["metadata","output"]);return f!=null&&c(t,["dest"],xS(Vg(f))),t}function mu(e){const t={},n=s(e,["name"]);n!=null&&c(t,["name"],n);const i=s(e,["displayName"]);i!=null&&c(t,["displayName"],i);const l=s(e,["state"]);l!=null&&c(t,["state"],Bg(l));const a=s(e,["error"]);a!=null&&c(t,["error"],a);const o=s(e,["createTime"]);o!=null&&c(t,["createTime"],o);const r=s(e,["startTime"]);r!=null&&c(t,["startTime"],r);const d=s(e,["endTime"]);d!=null&&c(t,["endTime"],d);const f=s(e,["updateTime"]);f!=null&&c(t,["updateTime"],f);const p=s(e,["model"]);p!=null&&c(t,["model"],p);const m=s(e,["inputConfig"]);m!=null&&c(t,["src"],SS(m));const h=s(e,["outputConfig"]);h!=null&&c(t,["dest"],vS(Vg(h)));const g=s(e,["completionStats"]);return g!=null&&c(t,["completionStats"],g),t}function SS(e){const t={},n=s(e,["instancesFormat"]);n!=null&&c(t,["format"],n);const i=s(e,["gcsSource","uris"]);i!=null&&c(t,["gcsUri"],i);const l=s(e,["bigquerySource","inputUri"]);return l!=null&&c(t,["bigqueryUri"],l),t}function TS(e,t){const n={};if(s(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const i=s(t,["fileName"]);i!=null&&c(n,["fileName"],i);const l=s(t,["inlinedRequests"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(o=>QS(e,o))),c(n,["requests","requests"],a)}return n}function _S(e){const t={},n=s(e,["format"]);n!=null&&c(t,["instancesFormat"],n);const i=s(e,["gcsUri"]);i!=null&&c(t,["gcsSource","uris"],i);const l=s(e,["bigqueryUri"]);if(l!=null&&c(t,["bigquerySource","inputUri"],l),s(e,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(e,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function wS(e){const t={},n=s(e,["data"]);if(n!=null&&c(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function ES(e,t){const n={},i=s(t,["name"]);return i!=null&&c(n,["_url","name"],xl(e,i)),n}function CS(e,t){const n={},i=s(t,["name"]);return i!=null&&c(n,["_url","name"],xl(e,i)),n}function NS(e){const t={},n=s(e,["content"]);n!=null&&c(t,["content"],n);const i=s(e,["citationMetadata"]);i!=null&&c(t,["citationMetadata"],AS(i));const l=s(e,["tokenCount"]);l!=null&&c(t,["tokenCount"],l);const a=s(e,["finishReason"]);a!=null&&c(t,["finishReason"],a);const o=s(e,["avgLogprobs"]);o!=null&&c(t,["avgLogprobs"],o);const r=s(e,["groundingMetadata"]);r!=null&&c(t,["groundingMetadata"],r);const d=s(e,["index"]);d!=null&&c(t,["index"],d);const f=s(e,["logprobsResult"]);f!=null&&c(t,["logprobsResult"],f);const p=s(e,["safetyRatings"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>g)),c(t,["safetyRatings"],h)}const m=s(e,["urlContextMetadata"]);return m!=null&&c(t,["urlContextMetadata"],m),t}function AS(e){const t={},n=s(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>l)),c(t,["citations"],i)}return t}function Og(e){const t={},n=s(e,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(a=>aT(a))),c(t,["parts"],l)}const i=s(e,["role"]);return i!=null&&c(t,["role"],i),t}function MS(e,t){const n={},i=s(e,["displayName"]);if(t!==void 0&&i!=null&&c(t,["batch","displayName"],i),s(e,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function kS(e,t){const n={},i=s(e,["displayName"]);t!==void 0&&i!=null&&c(t,["displayName"],i);const l=s(e,["dest"]);return t!==void 0&&l!=null&&c(t,["outputConfig"],bS(yS(l))),n}function Gp(e,t){const n={},i=s(t,["model"]);i!=null&&c(n,["_url","model"],de(e,i));const l=s(t,["src"]);l!=null&&c(n,["batch","inputConfig"],TS(e,qg(e,l)));const a=s(t,["config"]);return a!=null&&MS(a,n),n}function RS(e,t){const n={},i=s(t,["model"]);i!=null&&c(n,["model"],de(e,i));const l=s(t,["src"]);l!=null&&c(n,["inputConfig"],_S(qg(e,l)));const a=s(t,["config"]);return a!=null&&kS(a,n),n}function IS(e,t){const n={},i=s(e,["displayName"]);return t!==void 0&&i!=null&&c(t,["batch","displayName"],i),n}function DS(e,t){const n={},i=s(t,["model"]);i!=null&&c(n,["_url","model"],de(e,i));const l=s(t,["src"]);l!=null&&c(n,["batch","inputConfig"],PS(e,l));const a=s(t,["config"]);return a!=null&&IS(a,n),n}function US(e,t){const n={},i=s(t,["name"]);return i!=null&&c(n,["_url","name"],xl(e,i)),n}function zS(e,t){const n={},i=s(t,["name"]);return i!=null&&c(n,["_url","name"],xl(e,i)),n}function LS(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=s(e,["name"]);i!=null&&c(t,["name"],i);const l=s(e,["done"]);l!=null&&c(t,["done"],l);const a=s(e,["error"]);return a!=null&&c(t,["error"],a),t}function jS(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=s(e,["name"]);i!=null&&c(t,["name"],i);const l=s(e,["done"]);l!=null&&c(t,["done"],l);const a=s(e,["error"]);return a!=null&&c(t,["error"],a),t}function GS(e,t){const n={},i=s(t,["contents"]);if(i!=null){let a=zc(e,i);Array.isArray(a)&&(a=a.map(o=>o)),c(n,["requests[]","request","content"],a)}const l=s(t,["config"]);return l!=null&&(c(n,["_self"],HS(l,n)),zb(n,{"requests[].*":"requests[].request.*"})),n}function HS(e,t){const n={},i=s(e,["taskType"]);t!==void 0&&i!=null&&c(t,["requests[]","taskType"],i);const l=s(e,["title"]);t!==void 0&&l!=null&&c(t,["requests[]","title"],l);const a=s(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&c(t,["requests[]","outputDimensionality"],a),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function PS(e,t){const n={},i=s(t,["fileName"]);i!=null&&c(n,["file_name"],i);const l=s(t,["inlinedRequests"]);return l!=null&&c(n,["requests"],GS(e,l)),n}function qS(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);const i=s(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function VS(e){const t={},n=s(e,["id"]);n!=null&&c(t,["id"],n);const i=s(e,["args"]);i!=null&&c(t,["args"],i);const l=s(e,["name"]);if(l!=null&&c(t,["name"],l),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function BS(e){const t={},n=s(e,["allowedFunctionNames"]);n!=null&&c(t,["allowedFunctionNames"],n);const i=s(e,["mode"]);if(i!=null&&c(t,["mode"],i),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function OS(e,t,n){const i={},l=s(t,["systemInstruction"]);n!==void 0&&l!=null&&c(n,["systemInstruction"],Og(Xe(l)));const a=s(t,["temperature"]);a!=null&&c(i,["temperature"],a);const o=s(t,["topP"]);o!=null&&c(i,["topP"],o);const r=s(t,["topK"]);r!=null&&c(i,["topK"],r);const d=s(t,["candidateCount"]);d!=null&&c(i,["candidateCount"],d);const f=s(t,["maxOutputTokens"]);f!=null&&c(i,["maxOutputTokens"],f);const p=s(t,["stopSequences"]);p!=null&&c(i,["stopSequences"],p);const m=s(t,["responseLogprobs"]);m!=null&&c(i,["responseLogprobs"],m);const h=s(t,["logprobs"]);h!=null&&c(i,["logprobs"],h);const g=s(t,["presencePenalty"]);g!=null&&c(i,["presencePenalty"],g);const b=s(t,["frequencyPenalty"]);b!=null&&c(i,["frequencyPenalty"],b);const S=s(t,["seed"]);S!=null&&c(i,["seed"],S);const _=s(t,["responseMimeType"]);_!=null&&c(i,["responseMimeType"],_);const y=s(t,["responseSchema"]);y!=null&&c(i,["responseSchema"],Lc(y));const x=s(t,["responseJsonSchema"]);if(x!=null&&c(i,["responseJsonSchema"],x),s(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=s(t,["safetySettings"]);if(n!==void 0&&v!=null){let j=v;Array.isArray(j)&&(j=j.map(J=>oT(J))),c(n,["safetySettings"],j)}const T=s(t,["tools"]);if(n!==void 0&&T!=null){let j=yl(T);Array.isArray(j)&&(j=j.map(J=>rT(gl(J)))),c(n,["tools"],j)}const A=s(t,["toolConfig"]);if(n!==void 0&&A!=null&&c(n,["toolConfig"],sT(A)),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const L=s(t,["cachedContent"]);n!==void 0&&L!=null&&c(n,["cachedContent"],bn(e,L));const C=s(t,["responseModalities"]);C!=null&&c(i,["responseModalities"],C);const R=s(t,["mediaResolution"]);R!=null&&c(i,["mediaResolution"],R);const M=s(t,["speechConfig"]);if(M!=null&&c(i,["speechConfig"],jc(M)),s(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const w=s(t,["thinkingConfig"]);w!=null&&c(i,["thinkingConfig"],w);const I=s(t,["imageConfig"]);I!=null&&c(i,["imageConfig"],XS(I));const G=s(t,["enableEnhancedCivicAnswers"]);return G!=null&&c(i,["enableEnhancedCivicAnswers"],G),i}function FS(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=s(e,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>NS(f))),c(t,["candidates"],d)}const l=s(e,["modelVersion"]);l!=null&&c(t,["modelVersion"],l);const a=s(e,["promptFeedback"]);a!=null&&c(t,["promptFeedback"],a);const o=s(e,["responseId"]);o!=null&&c(t,["responseId"],o);const r=s(e,["usageMetadata"]);return r!=null&&c(t,["usageMetadata"],r),t}function YS(e,t){const n={},i=s(t,["name"]);return i!=null&&c(n,["_url","name"],xl(e,i)),n}function JS(e,t){const n={},i=s(t,["name"]);return i!=null&&c(n,["_url","name"],xl(e,i)),n}function $S(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&c(t,["enableWidget"],n),t}function KS(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&c(t,["timeRangeFilter"],n),t}function XS(e){const t={},n=s(e,["aspectRatio"]);n!=null&&c(t,["aspectRatio"],n);const i=s(e,["imageSize"]);if(i!=null&&c(t,["imageSize"],i),s(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(s(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function QS(e,t){const n={},i=s(t,["model"]);i!=null&&c(n,["request","model"],de(e,i));const l=s(t,["contents"]);if(l!=null){let r=Dt(l);Array.isArray(r)&&(r=r.map(d=>Og(d))),c(n,["request","contents"],r)}const a=s(t,["metadata"]);a!=null&&c(n,["metadata"],a);const o=s(t,["config"]);return o!=null&&c(n,["request","generationConfig"],OS(e,o,s(n,["request"],{}))),n}function ZS(e){const t={},n=s(e,["response"]);n!=null&&c(t,["response"],FS(n));const i=s(e,["error"]);return i!=null&&c(t,["error"],i),t}function WS(e,t){const n={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&c(t,["_query","pageSize"],i);const l=s(e,["pageToken"]);if(t!==void 0&&l!=null&&c(t,["_query","pageToken"],l),s(e,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function eT(e,t){const n={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&c(t,["_query","pageSize"],i);const l=s(e,["pageToken"]);t!==void 0&&l!=null&&c(t,["_query","pageToken"],l);const a=s(e,["filter"]);return t!==void 0&&a!=null&&c(t,["_query","filter"],a),n}function tT(e){const t={},n=s(e,["config"]);return n!=null&&WS(n,t),t}function nT(e){const t={},n=s(e,["config"]);return n!=null&&eT(n,t),t}function iT(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&c(t,["nextPageToken"],i);const l=s(e,["operations"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(o=>fo(o))),c(t,["batchJobs"],a)}return t}function lT(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&c(t,["nextPageToken"],i);const l=s(e,["batchPredictionJobs"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(o=>mu(o))),c(t,["batchJobs"],a)}return t}function aT(e){const t={},n=s(e,["mediaResolution"]);n!=null&&c(t,["mediaResolution"],n);const i=s(e,["codeExecutionResult"]);i!=null&&c(t,["codeExecutionResult"],i);const l=s(e,["executableCode"]);l!=null&&c(t,["executableCode"],l);const a=s(e,["fileData"]);a!=null&&c(t,["fileData"],qS(a));const o=s(e,["functionCall"]);o!=null&&c(t,["functionCall"],VS(o));const r=s(e,["functionResponse"]);r!=null&&c(t,["functionResponse"],r);const d=s(e,["inlineData"]);d!=null&&c(t,["inlineData"],wS(d));const f=s(e,["text"]);f!=null&&c(t,["text"],f);const p=s(e,["thought"]);p!=null&&c(t,["thought"],p);const m=s(e,["thoughtSignature"]);m!=null&&c(t,["thoughtSignature"],m);const h=s(e,["videoMetadata"]);return h!=null&&c(t,["videoMetadata"],h),t}function oT(e){const t={},n=s(e,["category"]);if(n!=null&&c(t,["category"],n),s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=s(e,["threshold"]);return i!=null&&c(t,["threshold"],i),t}function sT(e){const t={},n=s(e,["retrievalConfig"]);n!=null&&c(t,["retrievalConfig"],n);const i=s(e,["functionCallingConfig"]);return i!=null&&c(t,["functionCallingConfig"],BS(i)),t}function rT(e){const t={};if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=s(e,["computerUse"]);n!=null&&c(t,["computerUse"],n);const i=s(e,["fileSearch"]);i!=null&&c(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&c(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=s(e,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(m=>m)),c(t,["functionDeclarations"],p)}const o=s(e,["googleMaps"]);o!=null&&c(t,["googleMaps"],$S(o));const r=s(e,["googleSearch"]);r!=null&&c(t,["googleSearch"],KS(r));const d=s(e,["googleSearchRetrieval"]);d!=null&&c(t,["googleSearchRetrieval"],d);const f=s(e,["urlContext"]);return f!=null&&c(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var yn;(function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents",e.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",e.PAGED_ITEM_DOCUMENTS="documents"})(yn||(yn={}));class vi{constructor(t,n,i,l){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(t,i,l)}init(t,n,i){var l,a;this.nameInternal=t,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let o={config:{}};!i||Object.keys(i).length===0?o={config:{}}:typeof i=="object"?o=Object.assign({},i):o=i,o.config&&(o.config.pageToken=n.nextPageToken),this.paramsInternal=o,this.pageInternalSize=(a=(l=o.config)===null||l===void 0?void 0:l.pageSize)!==null&&a!==void 0?a:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uT extends vn{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new vi(yn.PAGED_ITEM_BATCH_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)}}createInlinedGenerateContentRequest(t){const n=Gp(this.apiClient,t),i=n._url,l=O("{model}:batchGenerateContent",i),r=n.batch.inputConfig.requests,d=r.requests,f=[];for(const p of d){const m=Object.assign({},p);if(m.systemInstruction){const h=m.systemInstruction;delete m.systemInstruction;const g=m.request;g.systemInstruction=h,m.request=g}f.push(m)}return r.requests=f,delete n.config,delete n._url,delete n._query,{path:l,body:n}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,n){const i=n?Object.assign({},n):{},l=Date.now().toString();if(i.displayName||(i.displayName=`genaiBatchJob_${l}`),i.dest===void 0){const a=this.getGcsUri(t),o=this.getBigqueryUri(t);if(a)a.endsWith(".jsonl")?i.dest=`${a.slice(0,-6)}/dest`:i.dest=`${a}_dest_${l}`;else if(o)i.dest=`${o}_dest_${l}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return i}async createInternal(t){var n,i,l,a;let o,r="",d={};if(this.apiClient.isVertexAI()){const f=RS(this.apiClient,t);return r=O("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>mu(p))}else{const f=Gp(this.apiClient,t);return r=O("{model}:batchGenerateContent",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>fo(p))}}async createEmbeddingsInternal(t){var n,i;let l,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=DS(this.apiClient,t);return a=O("{model}:asyncBatchEmbedContent",r._url),o=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>fo(d))}}async get(t){var n,i,l,a;let o,r="",d={};if(this.apiClient.isVertexAI()){const f=JS(this.apiClient,t);return r=O("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>mu(p))}else{const f=YS(this.apiClient,t);return r=O("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>fo(p))}}async cancel(t){var n,i,l,a;let o="",r={};if(this.apiClient.isVertexAI()){const d=CS(this.apiClient,t);o=O("batchPredictionJobs/{name}:cancel",d._url),r=d._query,delete d._url,delete d._query,await this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}else{const d=ES(this.apiClient,t);o=O("batches/{name}:cancel",d._url),r=d._query,delete d._url,delete d._query,await this.apiClient.request({path:o,queryParams:r,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var n,i,l,a;let o,r="",d={};if(this.apiClient.isVertexAI()){const f=nT(t);return r=O("batchPredictionJobs",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=lT(p),h=new Up;return Object.assign(h,m),h})}else{const f=tT(t);return r=O("batches",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=iT(p),h=new Up;return Object.assign(h,m),h})}}async delete(t){var n,i,l,a;let o,r="",d={};if(this.apiClient.isVertexAI()){const f=zS(this.apiClient,t);return r=O("batchPredictionJobs/{name}",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>jS(p))}else{const f=US(this.apiClient,t);return r=O("batches/{name}",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>LS(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cT(e){const t={},n=s(e,["data"]);if(n!=null&&c(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function Hp(e){const t={},n=s(e,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(a=>DT(a))),c(t,["parts"],l)}const i=s(e,["role"]);return i!=null&&c(t,["role"],i),t}function dT(e,t){const n={},i=s(e,["ttl"]);t!==void 0&&i!=null&&c(t,["ttl"],i);const l=s(e,["expireTime"]);t!==void 0&&l!=null&&c(t,["expireTime"],l);const a=s(e,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const o=s(e,["contents"]);if(t!==void 0&&o!=null){let p=Dt(o);Array.isArray(p)&&(p=p.map(m=>Hp(m))),c(t,["contents"],p)}const r=s(e,["systemInstruction"]);t!==void 0&&r!=null&&c(t,["systemInstruction"],Hp(Xe(r)));const d=s(e,["tools"]);if(t!==void 0&&d!=null){let p=d;Array.isArray(p)&&(p=p.map(m=>zT(m))),c(t,["tools"],p)}const f=s(e,["toolConfig"]);if(t!==void 0&&f!=null&&c(t,["toolConfig"],UT(f)),s(e,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function fT(e,t){const n={},i=s(e,["ttl"]);t!==void 0&&i!=null&&c(t,["ttl"],i);const l=s(e,["expireTime"]);t!==void 0&&l!=null&&c(t,["expireTime"],l);const a=s(e,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const o=s(e,["contents"]);if(t!==void 0&&o!=null){let m=Dt(o);Array.isArray(m)&&(m=m.map(h=>h)),c(t,["contents"],m)}const r=s(e,["systemInstruction"]);t!==void 0&&r!=null&&c(t,["systemInstruction"],Xe(r));const d=s(e,["tools"]);if(t!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(h=>LT(h))),c(t,["tools"],m)}const f=s(e,["toolConfig"]);t!==void 0&&f!=null&&c(t,["toolConfig"],f);const p=s(e,["kmsKeyName"]);return t!==void 0&&p!=null&&c(t,["encryption_spec","kmsKeyName"],p),n}function pT(e,t){const n={},i=s(t,["model"]);i!=null&&c(n,["model"],Ig(e,i));const l=s(t,["config"]);return l!=null&&dT(l,n),n}function hT(e,t){const n={},i=s(t,["model"]);i!=null&&c(n,["model"],Ig(e,i));const l=s(t,["config"]);return l!=null&&fT(l,n),n}function mT(e,t){const n={},i=s(t,["name"]);return i!=null&&c(n,["_url","name"],bn(e,i)),n}function gT(e,t){const n={},i=s(t,["name"]);return i!=null&&c(n,["_url","name"],bn(e,i)),n}function yT(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function xT(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function vT(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);const i=s(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function bT(e){const t={},n=s(e,["id"]);n!=null&&c(t,["id"],n);const i=s(e,["args"]);i!=null&&c(t,["args"],i);const l=s(e,["name"]);if(l!=null&&c(t,["name"],l),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function ST(e){const t={},n=s(e,["allowedFunctionNames"]);n!=null&&c(t,["allowedFunctionNames"],n);const i=s(e,["mode"]);if(i!=null&&c(t,["mode"],i),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function TT(e){const t={},n=s(e,["description"]);n!=null&&c(t,["description"],n);const i=s(e,["name"]);i!=null&&c(t,["name"],i);const l=s(e,["parameters"]);l!=null&&c(t,["parameters"],l);const a=s(e,["parametersJsonSchema"]);a!=null&&c(t,["parametersJsonSchema"],a);const o=s(e,["response"]);o!=null&&c(t,["response"],o);const r=s(e,["responseJsonSchema"]);if(r!=null&&c(t,["responseJsonSchema"],r),s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function _T(e,t){const n={},i=s(t,["name"]);return i!=null&&c(n,["_url","name"],bn(e,i)),n}function wT(e,t){const n={},i=s(t,["name"]);return i!=null&&c(n,["_url","name"],bn(e,i)),n}function ET(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&c(t,["enableWidget"],n),t}function CT(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&c(t,["timeRangeFilter"],n),t}function NT(e,t){const n={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&c(t,["_query","pageSize"],i);const l=s(e,["pageToken"]);return t!==void 0&&l!=null&&c(t,["_query","pageToken"],l),n}function AT(e,t){const n={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&c(t,["_query","pageSize"],i);const l=s(e,["pageToken"]);return t!==void 0&&l!=null&&c(t,["_query","pageToken"],l),n}function MT(e){const t={},n=s(e,["config"]);return n!=null&&NT(n,t),t}function kT(e){const t={},n=s(e,["config"]);return n!=null&&AT(n,t),t}function RT(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&c(t,["nextPageToken"],i);const l=s(e,["cachedContents"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(o=>o)),c(t,["cachedContents"],a)}return t}function IT(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&c(t,["nextPageToken"],i);const l=s(e,["cachedContents"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(o=>o)),c(t,["cachedContents"],a)}return t}function DT(e){const t={},n=s(e,["mediaResolution"]);n!=null&&c(t,["mediaResolution"],n);const i=s(e,["codeExecutionResult"]);i!=null&&c(t,["codeExecutionResult"],i);const l=s(e,["executableCode"]);l!=null&&c(t,["executableCode"],l);const a=s(e,["fileData"]);a!=null&&c(t,["fileData"],vT(a));const o=s(e,["functionCall"]);o!=null&&c(t,["functionCall"],bT(o));const r=s(e,["functionResponse"]);r!=null&&c(t,["functionResponse"],r);const d=s(e,["inlineData"]);d!=null&&c(t,["inlineData"],cT(d));const f=s(e,["text"]);f!=null&&c(t,["text"],f);const p=s(e,["thought"]);p!=null&&c(t,["thought"],p);const m=s(e,["thoughtSignature"]);m!=null&&c(t,["thoughtSignature"],m);const h=s(e,["videoMetadata"]);return h!=null&&c(t,["videoMetadata"],h),t}function UT(e){const t={},n=s(e,["retrievalConfig"]);n!=null&&c(t,["retrievalConfig"],n);const i=s(e,["functionCallingConfig"]);return i!=null&&c(t,["functionCallingConfig"],ST(i)),t}function zT(e){const t={};if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=s(e,["computerUse"]);n!=null&&c(t,["computerUse"],n);const i=s(e,["fileSearch"]);i!=null&&c(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&c(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=s(e,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(m=>m)),c(t,["functionDeclarations"],p)}const o=s(e,["googleMaps"]);o!=null&&c(t,["googleMaps"],ET(o));const r=s(e,["googleSearch"]);r!=null&&c(t,["googleSearch"],CT(r));const d=s(e,["googleSearchRetrieval"]);d!=null&&c(t,["googleSearchRetrieval"],d);const f=s(e,["urlContext"]);return f!=null&&c(t,["urlContext"],f),t}function LT(e){const t={},n=s(e,["retrieval"]);n!=null&&c(t,["retrieval"],n);const i=s(e,["computerUse"]);if(i!=null&&c(t,["computerUse"],i),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(e,["codeExecution"]);l!=null&&c(t,["codeExecution"],l);const a=s(e,["enterpriseWebSearch"]);a!=null&&c(t,["enterpriseWebSearch"],a);const o=s(e,["functionDeclarations"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(h=>TT(h))),c(t,["functionDeclarations"],m)}const r=s(e,["googleMaps"]);r!=null&&c(t,["googleMaps"],r);const d=s(e,["googleSearch"]);d!=null&&c(t,["googleSearch"],d);const f=s(e,["googleSearchRetrieval"]);f!=null&&c(t,["googleSearchRetrieval"],f);const p=s(e,["urlContext"]);return p!=null&&c(t,["urlContext"],p),t}function jT(e,t){const n={},i=s(e,["ttl"]);t!==void 0&&i!=null&&c(t,["ttl"],i);const l=s(e,["expireTime"]);return t!==void 0&&l!=null&&c(t,["expireTime"],l),n}function GT(e,t){const n={},i=s(e,["ttl"]);t!==void 0&&i!=null&&c(t,["ttl"],i);const l=s(e,["expireTime"]);return t!==void 0&&l!=null&&c(t,["expireTime"],l),n}function HT(e,t){const n={},i=s(t,["name"]);i!=null&&c(n,["_url","name"],bn(e,i));const l=s(t,["config"]);return l!=null&&jT(l,n),n}function PT(e,t){const n={},i=s(t,["name"]);i!=null&&c(n,["_url","name"],bn(e,i));const l=s(t,["config"]);return l!=null&&GT(l,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qT extends vn{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new vi(yn.PAGED_ITEM_CACHED_CONTENTS,i=>this.listInternal(i),await this.listInternal(n),n)}async create(t){var n,i,l,a;let o,r="",d={};if(this.apiClient.isVertexAI()){const f=hT(this.apiClient,t);return r=O("cachedContents",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}else{const f=pT(this.apiClient,t);return r=O("cachedContents",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async get(t){var n,i,l,a;let o,r="",d={};if(this.apiClient.isVertexAI()){const f=wT(this.apiClient,t);return r=O("{name}",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}else{const f=_T(this.apiClient,t);return r=O("{name}",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async delete(t){var n,i,l,a;let o,r="",d={};if(this.apiClient.isVertexAI()){const f=gT(this.apiClient,t);return r=O("{name}",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=xT(p),h=new Ip;return Object.assign(h,m),h})}else{const f=mT(this.apiClient,t);return r=O("{name}",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=yT(p),h=new Ip;return Object.assign(h,m),h})}}async update(t){var n,i,l,a;let o,r="",d={};if(this.apiClient.isVertexAI()){const f=PT(this.apiClient,t);return r=O("{name}",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>p)}else{const f=HT(this.apiClient,t);return r=O("{name}",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>p)}}async listInternal(t){var n,i,l,a;let o,r="",d={};if(this.apiClient.isVertexAI()){const f=kT(t);return r=O("cachedContents",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=IT(p),h=new Dp;return Object.assign(h,m),h})}else{const f=MT(t);return r=O("cachedContents",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=RT(p),h=new Dp;return Object.assign(h,m),h})}}}function Yo(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)t.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(n[i[l]]=e[i[l]]);return n}function Pp(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function W(e){return this instanceof W?(this.v=e,this):new W(e)}function qt(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,t||[]),l,a=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),r("next"),r("throw"),r("return",o),l[Symbol.asyncIterator]=function(){return this},l;function o(g){return function(b){return Promise.resolve(b).then(g,m)}}function r(g,b){i[g]&&(l[g]=function(S){return new Promise(function(_,y){a.push([g,S,_,y])>1||d(g,S)})},b&&(l[g]=b(l[g])))}function d(g,b){try{f(i[g](b))}catch(S){h(a[0][3],S)}}function f(g){g.value instanceof W?Promise.resolve(g.value.v).then(p,m):h(a[0][2],g)}function p(g){d("next",g)}function m(g){d("throw",g)}function h(g,b){g(b),a.shift(),a.length&&d(a[0][0],a[0][1])}}function Vt(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof Pp=="function"?Pp(e):e[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(a){n[a]=e[a]&&function(o){return new Promise(function(r,d){o=e[a](o),l(r,d,o.done,o.value)})}}function l(a,o,r,d){Promise.resolve(d).then(function(f){a({value:f,done:r})},o)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function VT(e){var t;if(e.candidates==null||e.candidates.length===0)return!1;const n=(t=e.candidates[0])===null||t===void 0?void 0:t.content;return n===void 0?!1:Fg(n)}function Fg(e){if(e.parts===void 0||e.parts.length===0)return!1;for(const t of e.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function BT(e){if(e.length!==0){for(const t of e)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function qp(e){if(e===void 0||e.length===0)return[];const t=[],n=e.length;let i=0;for(;i<n;)if(e[i].role==="user")t.push(e[i]),i++;else{const l=[];let a=!0;for(;i<n&&e[i].role==="model";)l.push(e[i]),a&&!Fg(e[i])&&(a=!1),i++;a?t.push(...l):t.pop()}return t}class OT{constructor(t,n){this.modelsModule=t,this.apiClient=n}create(t){return new FT(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class FT{constructor(t,n,i,l={},a=[]){this.apiClient=t,this.modelsModule=n,this.model=i,this.config=l,this.history=a,this.sendPromise=Promise.resolve(),BT(a)}async sendMessage(t){var n;await this.sendPromise;const i=Xe(t.message),l=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var a,o,r;const d=await l,f=(o=(a=d.candidates)===null||a===void 0?void 0:a[0])===null||o===void 0?void 0:o.content,p=d.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let h=[];p!=null&&(h=(r=p.slice(m))!==null&&r!==void 0?r:[]);const g=f?[f]:[];this.recordHistory(i,g,h)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),l}async sendMessageStream(t){var n;await this.sendPromise;const i=Xe(t.message),l=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(i),config:(n=t.config)!==null&&n!==void 0?n:this.config});this.sendPromise=l.then(()=>{}).catch(()=>{});const a=await l;return this.processStreamResponse(a,i)}getHistory(t=!1){const n=t?qp(this.history):this.history;return structuredClone(n)}processStreamResponse(t,n){return qt(this,arguments,function*(){var l,a,o,r,d,f;const p=[];try{for(var m=!0,h=Vt(t),g;g=yield W(h.next()),l=g.done,!l;m=!0){r=g.value,m=!1;const b=r;if(VT(b)){const S=(f=(d=b.candidates)===null||d===void 0?void 0:d[0])===null||f===void 0?void 0:f.content;S!==void 0&&p.push(S)}yield yield W(b)}}catch(b){a={error:b}}finally{try{!m&&!l&&(o=h.return)&&(yield W(o.call(h)))}finally{if(a)throw a.error}}this.recordHistory(n,p)})}recordHistory(t,n,i){let l=[];n.length>0&&n.every(a=>a.role!==void 0)?l=n:l.push({role:"model",parts:[]}),i&&i.length>0?this.history.push(...qp(i)):this.history.push(t),this.history.push(...l)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ms extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,ms.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YT(e){const t={},n=s(e,["file"]);return n!=null&&c(t,["file"],n),t}function JT(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function $T(e){const t={},n=s(e,["name"]);return n!=null&&c(t,["_url","file"],Gg(n)),t}function KT(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function XT(e){const t={},n=s(e,["name"]);return n!=null&&c(t,["_url","file"],Gg(n)),t}function QT(e,t){const n={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&c(t,["_query","pageSize"],i);const l=s(e,["pageToken"]);return t!==void 0&&l!=null&&c(t,["_query","pageToken"],l),n}function ZT(e){const t={},n=s(e,["config"]);return n!=null&&QT(n,t),t}function WT(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&c(t,["nextPageToken"],i);const l=s(e,["files"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(o=>o)),c(t,["files"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e_ extends vn{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new vi(yn.PAGED_ITEM_FILES,i=>this.listInternal(i),await this.listInternal(n),n)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(n=>n)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var n,i;let l,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=ZT(t);return a=O("files",r._url),o=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),l.then(d=>{const f=WT(d),p=new lS;return Object.assign(p,f),p})}}async createInternal(t){var n,i;let l,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=YT(t);return a=O("upload/v1beta/files",r._url),o=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const f=JT(d),p=new aS;return Object.assign(p,f),p})}}async get(t){var n,i;let l,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=XT(t);return a=O("files/{file}",r._url),o=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>d)}}async delete(t){var n,i;let l,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=$T(t);return a=O("files/{file}",r._url),o=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),l.then(d=>{const f=KT(d),p=new oS;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function po(e){const t={},n=s(e,["data"]);if(n!=null&&c(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function t_(e){const t={},n=s(e,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(a=>y_(a))),c(t,["parts"],l)}const i=s(e,["role"]);return i!=null&&c(t,["role"],i),t}function n_(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);const i=s(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function i_(e){const t={},n=s(e,["id"]);n!=null&&c(t,["id"],n);const i=s(e,["args"]);i!=null&&c(t,["args"],i);const l=s(e,["name"]);if(l!=null&&c(t,["name"],l),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function l_(e){const t={},n=s(e,["description"]);n!=null&&c(t,["description"],n);const i=s(e,["name"]);i!=null&&c(t,["name"],i);const l=s(e,["parameters"]);l!=null&&c(t,["parameters"],l);const a=s(e,["parametersJsonSchema"]);a!=null&&c(t,["parametersJsonSchema"],a);const o=s(e,["response"]);o!=null&&c(t,["response"],o);const r=s(e,["responseJsonSchema"]);if(r!=null&&c(t,["responseJsonSchema"],r),s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function a_(e){const t={},n=s(e,["modelSelectionConfig"]);n!=null&&c(t,["modelConfig"],n);const i=s(e,["responseJsonSchema"]);i!=null&&c(t,["responseJsonSchema"],i);const l=s(e,["audioTimestamp"]);l!=null&&c(t,["audioTimestamp"],l);const a=s(e,["candidateCount"]);a!=null&&c(t,["candidateCount"],a);const o=s(e,["enableAffectiveDialog"]);o!=null&&c(t,["enableAffectiveDialog"],o);const r=s(e,["frequencyPenalty"]);r!=null&&c(t,["frequencyPenalty"],r);const d=s(e,["logprobs"]);d!=null&&c(t,["logprobs"],d);const f=s(e,["maxOutputTokens"]);f!=null&&c(t,["maxOutputTokens"],f);const p=s(e,["mediaResolution"]);p!=null&&c(t,["mediaResolution"],p);const m=s(e,["presencePenalty"]);m!=null&&c(t,["presencePenalty"],m);const h=s(e,["responseLogprobs"]);h!=null&&c(t,["responseLogprobs"],h);const g=s(e,["responseMimeType"]);g!=null&&c(t,["responseMimeType"],g);const b=s(e,["responseModalities"]);b!=null&&c(t,["responseModalities"],b);const S=s(e,["responseSchema"]);S!=null&&c(t,["responseSchema"],S);const _=s(e,["routingConfig"]);_!=null&&c(t,["routingConfig"],_);const y=s(e,["seed"]);y!=null&&c(t,["seed"],y);const x=s(e,["speechConfig"]);x!=null&&c(t,["speechConfig"],x);const v=s(e,["stopSequences"]);v!=null&&c(t,["stopSequences"],v);const T=s(e,["temperature"]);T!=null&&c(t,["temperature"],T);const A=s(e,["thinkingConfig"]);A!=null&&c(t,["thinkingConfig"],A);const L=s(e,["topK"]);L!=null&&c(t,["topK"],L);const C=s(e,["topP"]);if(C!=null&&c(t,["topP"],C),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function o_(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&c(t,["enableWidget"],n),t}function s_(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&c(t,["timeRangeFilter"],n),t}function r_(e,t){const n={},i=s(e,["generationConfig"]);t!==void 0&&i!=null&&c(t,["setup","generationConfig"],i);const l=s(e,["responseModalities"]);t!==void 0&&l!=null&&c(t,["setup","generationConfig","responseModalities"],l);const a=s(e,["temperature"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig","temperature"],a);const o=s(e,["topP"]);t!==void 0&&o!=null&&c(t,["setup","generationConfig","topP"],o);const r=s(e,["topK"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","topK"],r);const d=s(e,["maxOutputTokens"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","maxOutputTokens"],d);const f=s(e,["mediaResolution"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","mediaResolution"],f);const p=s(e,["seed"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","seed"],p);const m=s(e,["speechConfig"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","speechConfig"],Gc(m));const h=s(e,["thinkingConfig"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","thinkingConfig"],h);const g=s(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],g);const b=s(e,["systemInstruction"]);t!==void 0&&b!=null&&c(t,["setup","systemInstruction"],t_(Xe(b)));const S=s(e,["tools"]);if(t!==void 0&&S!=null){let L=yl(S);Array.isArray(L)&&(L=L.map(C=>v_(gl(C)))),c(t,["setup","tools"],L)}const _=s(e,["sessionResumption"]);t!==void 0&&_!=null&&c(t,["setup","sessionResumption"],x_(_));const y=s(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&c(t,["setup","inputAudioTranscription"],y);const x=s(e,["outputAudioTranscription"]);t!==void 0&&x!=null&&c(t,["setup","outputAudioTranscription"],x);const v=s(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&c(t,["setup","realtimeInputConfig"],v);const T=s(e,["contextWindowCompression"]);t!==void 0&&T!=null&&c(t,["setup","contextWindowCompression"],T);const A=s(e,["proactivity"]);if(t!==void 0&&A!=null&&c(t,["setup","proactivity"],A),s(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function u_(e,t){const n={},i=s(e,["generationConfig"]);t!==void 0&&i!=null&&c(t,["setup","generationConfig"],a_(i));const l=s(e,["responseModalities"]);t!==void 0&&l!=null&&c(t,["setup","generationConfig","responseModalities"],l);const a=s(e,["temperature"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig","temperature"],a);const o=s(e,["topP"]);t!==void 0&&o!=null&&c(t,["setup","generationConfig","topP"],o);const r=s(e,["topK"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","topK"],r);const d=s(e,["maxOutputTokens"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","maxOutputTokens"],d);const f=s(e,["mediaResolution"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","mediaResolution"],f);const p=s(e,["seed"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","seed"],p);const m=s(e,["speechConfig"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","speechConfig"],Gc(m));const h=s(e,["thinkingConfig"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","thinkingConfig"],h);const g=s(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],g);const b=s(e,["systemInstruction"]);t!==void 0&&b!=null&&c(t,["setup","systemInstruction"],Xe(b));const S=s(e,["tools"]);if(t!==void 0&&S!=null){let C=yl(S);Array.isArray(C)&&(C=C.map(R=>b_(gl(R)))),c(t,["setup","tools"],C)}const _=s(e,["sessionResumption"]);t!==void 0&&_!=null&&c(t,["setup","sessionResumption"],_);const y=s(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&c(t,["setup","inputAudioTranscription"],y);const x=s(e,["outputAudioTranscription"]);t!==void 0&&x!=null&&c(t,["setup","outputAudioTranscription"],x);const v=s(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&c(t,["setup","realtimeInputConfig"],v);const T=s(e,["contextWindowCompression"]);t!==void 0&&T!=null&&c(t,["setup","contextWindowCompression"],T);const A=s(e,["proactivity"]);t!==void 0&&A!=null&&c(t,["setup","proactivity"],A);const L=s(e,["explicitVadSignal"]);return t!==void 0&&L!=null&&c(t,["setup","explicitVadSignal"],L),n}function c_(e,t){const n={},i=s(t,["model"]);i!=null&&c(n,["setup","model"],de(e,i));const l=s(t,["config"]);return l!=null&&c(n,["config"],r_(l,n)),n}function d_(e,t){const n={},i=s(t,["model"]);i!=null&&c(n,["setup","model"],de(e,i));const l=s(t,["config"]);return l!=null&&c(n,["config"],u_(l,n)),n}function f_(e){const t={},n=s(e,["musicGenerationConfig"]);return n!=null&&c(t,["musicGenerationConfig"],n),t}function p_(e){const t={},n=s(e,["weightedPrompts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>l)),c(t,["weightedPrompts"],i)}return t}function h_(e){const t={},n=s(e,["media"]);if(n!=null){let f=Dg(n);Array.isArray(f)&&(f=f.map(p=>po(p))),c(t,["mediaChunks"],f)}const i=s(e,["audio"]);i!=null&&c(t,["audio"],po(zg(i)));const l=s(e,["audioStreamEnd"]);l!=null&&c(t,["audioStreamEnd"],l);const a=s(e,["video"]);a!=null&&c(t,["video"],po(Ug(a)));const o=s(e,["text"]);o!=null&&c(t,["text"],o);const r=s(e,["activityStart"]);r!=null&&c(t,["activityStart"],r);const d=s(e,["activityEnd"]);return d!=null&&c(t,["activityEnd"],d),t}function m_(e){const t={},n=s(e,["media"]);if(n!=null){let f=Dg(n);Array.isArray(f)&&(f=f.map(p=>p)),c(t,["mediaChunks"],f)}const i=s(e,["audio"]);i!=null&&c(t,["audio"],zg(i));const l=s(e,["audioStreamEnd"]);l!=null&&c(t,["audioStreamEnd"],l);const a=s(e,["video"]);a!=null&&c(t,["video"],Ug(a));const o=s(e,["text"]);o!=null&&c(t,["text"],o);const r=s(e,["activityStart"]);r!=null&&c(t,["activityStart"],r);const d=s(e,["activityEnd"]);return d!=null&&c(t,["activityEnd"],d),t}function g_(e){const t={},n=s(e,["setupComplete"]);n!=null&&c(t,["setupComplete"],n);const i=s(e,["serverContent"]);i!=null&&c(t,["serverContent"],i);const l=s(e,["toolCall"]);l!=null&&c(t,["toolCall"],l);const a=s(e,["toolCallCancellation"]);a!=null&&c(t,["toolCallCancellation"],a);const o=s(e,["usageMetadata"]);o!=null&&c(t,["usageMetadata"],S_(o));const r=s(e,["goAway"]);r!=null&&c(t,["goAway"],r);const d=s(e,["sessionResumptionUpdate"]);d!=null&&c(t,["sessionResumptionUpdate"],d);const f=s(e,["voiceActivityDetectionSignal"]);return f!=null&&c(t,["voiceActivityDetectionSignal"],f),t}function y_(e){const t={},n=s(e,["mediaResolution"]);n!=null&&c(t,["mediaResolution"],n);const i=s(e,["codeExecutionResult"]);i!=null&&c(t,["codeExecutionResult"],i);const l=s(e,["executableCode"]);l!=null&&c(t,["executableCode"],l);const a=s(e,["fileData"]);a!=null&&c(t,["fileData"],n_(a));const o=s(e,["functionCall"]);o!=null&&c(t,["functionCall"],i_(o));const r=s(e,["functionResponse"]);r!=null&&c(t,["functionResponse"],r);const d=s(e,["inlineData"]);d!=null&&c(t,["inlineData"],po(d));const f=s(e,["text"]);f!=null&&c(t,["text"],f);const p=s(e,["thought"]);p!=null&&c(t,["thought"],p);const m=s(e,["thoughtSignature"]);m!=null&&c(t,["thoughtSignature"],m);const h=s(e,["videoMetadata"]);return h!=null&&c(t,["videoMetadata"],h),t}function x_(e){const t={},n=s(e,["handle"]);if(n!=null&&c(t,["handle"],n),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function v_(e){const t={};if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=s(e,["computerUse"]);n!=null&&c(t,["computerUse"],n);const i=s(e,["fileSearch"]);i!=null&&c(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&c(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=s(e,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(m=>m)),c(t,["functionDeclarations"],p)}const o=s(e,["googleMaps"]);o!=null&&c(t,["googleMaps"],o_(o));const r=s(e,["googleSearch"]);r!=null&&c(t,["googleSearch"],s_(r));const d=s(e,["googleSearchRetrieval"]);d!=null&&c(t,["googleSearchRetrieval"],d);const f=s(e,["urlContext"]);return f!=null&&c(t,["urlContext"],f),t}function b_(e){const t={},n=s(e,["retrieval"]);n!=null&&c(t,["retrieval"],n);const i=s(e,["computerUse"]);if(i!=null&&c(t,["computerUse"],i),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(e,["codeExecution"]);l!=null&&c(t,["codeExecution"],l);const a=s(e,["enterpriseWebSearch"]);a!=null&&c(t,["enterpriseWebSearch"],a);const o=s(e,["functionDeclarations"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(h=>l_(h))),c(t,["functionDeclarations"],m)}const r=s(e,["googleMaps"]);r!=null&&c(t,["googleMaps"],r);const d=s(e,["googleSearch"]);d!=null&&c(t,["googleSearch"],d);const f=s(e,["googleSearchRetrieval"]);f!=null&&c(t,["googleSearchRetrieval"],f);const p=s(e,["urlContext"]);return p!=null&&c(t,["urlContext"],p),t}function S_(e){const t={},n=s(e,["promptTokenCount"]);n!=null&&c(t,["promptTokenCount"],n);const i=s(e,["cachedContentTokenCount"]);i!=null&&c(t,["cachedContentTokenCount"],i);const l=s(e,["candidatesTokenCount"]);l!=null&&c(t,["responseTokenCount"],l);const a=s(e,["toolUsePromptTokenCount"]);a!=null&&c(t,["toolUsePromptTokenCount"],a);const o=s(e,["thoughtsTokenCount"]);o!=null&&c(t,["thoughtsTokenCount"],o);const r=s(e,["totalTokenCount"]);r!=null&&c(t,["totalTokenCount"],r);const d=s(e,["promptTokensDetails"]);if(d!=null){let g=d;Array.isArray(g)&&(g=g.map(b=>b)),c(t,["promptTokensDetails"],g)}const f=s(e,["cacheTokensDetails"]);if(f!=null){let g=f;Array.isArray(g)&&(g=g.map(b=>b)),c(t,["cacheTokensDetails"],g)}const p=s(e,["candidatesTokensDetails"]);if(p!=null){let g=p;Array.isArray(g)&&(g=g.map(b=>b)),c(t,["responseTokensDetails"],g)}const m=s(e,["toolUsePromptTokensDetails"]);if(m!=null){let g=m;Array.isArray(g)&&(g=g.map(b=>b)),c(t,["toolUsePromptTokensDetails"],g)}const h=s(e,["trafficType"]);return h!=null&&c(t,["trafficType"],h),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function T_(e){const t={},n=s(e,["data"]);if(n!=null&&c(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function __(e){const t={},n=s(e,["content"]);n!=null&&c(t,["content"],n);const i=s(e,["citationMetadata"]);i!=null&&c(t,["citationMetadata"],w_(i));const l=s(e,["tokenCount"]);l!=null&&c(t,["tokenCount"],l);const a=s(e,["finishReason"]);a!=null&&c(t,["finishReason"],a);const o=s(e,["avgLogprobs"]);o!=null&&c(t,["avgLogprobs"],o);const r=s(e,["groundingMetadata"]);r!=null&&c(t,["groundingMetadata"],r);const d=s(e,["index"]);d!=null&&c(t,["index"],d);const f=s(e,["logprobsResult"]);f!=null&&c(t,["logprobsResult"],f);const p=s(e,["safetyRatings"]);if(p!=null){let h=p;Array.isArray(h)&&(h=h.map(g=>g)),c(t,["safetyRatings"],h)}const m=s(e,["urlContextMetadata"]);return m!=null&&c(t,["urlContextMetadata"],m),t}function w_(e){const t={},n=s(e,["citationSources"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>l)),c(t,["citations"],i)}return t}function E_(e,t){const n={},i=s(t,["model"]);i!=null&&c(n,["_url","model"],de(e,i));const l=s(t,["contents"]);if(l!=null){let a=Dt(l);Array.isArray(a)&&(a=a.map(o=>o)),c(n,["contents"],a)}return n}function C_(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=s(e,["tokensInfo"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>a)),c(t,["tokensInfo"],l)}return t}function N_(e){const t={},n=s(e,["values"]);n!=null&&c(t,["values"],n);const i=s(e,["statistics"]);return i!=null&&c(t,["statistics"],A_(i)),t}function A_(e){const t={},n=s(e,["truncated"]);n!=null&&c(t,["truncated"],n);const i=s(e,["token_count"]);return i!=null&&c(t,["tokenCount"],i),t}function gs(e){const t={},n=s(e,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(a=>jw(a))),c(t,["parts"],l)}const i=s(e,["role"]);return i!=null&&c(t,["role"],i),t}function M_(e){const t={},n=s(e,["controlType"]);n!=null&&c(t,["controlType"],n);const i=s(e,["enableControlImageComputation"]);return i!=null&&c(t,["computeControl"],i),t}function k_(e){const t={};if(s(e,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(e,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(e,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function R_(e,t){const n={},i=s(e,["systemInstruction"]);t!==void 0&&i!=null&&c(t,["systemInstruction"],Xe(i));const l=s(e,["tools"]);if(t!==void 0&&l!=null){let o=l;Array.isArray(o)&&(o=o.map(r=>Kg(r))),c(t,["tools"],o)}const a=s(e,["generationConfig"]);return t!==void 0&&a!=null&&c(t,["generationConfig"],Tw(a)),n}function I_(e,t){const n={},i=s(t,["model"]);i!=null&&c(n,["_url","model"],de(e,i));const l=s(t,["contents"]);if(l!=null){let o=Dt(l);Array.isArray(o)&&(o=o.map(r=>gs(r))),c(n,["contents"],o)}const a=s(t,["config"]);return a!=null&&k_(a),n}function D_(e,t){const n={},i=s(t,["model"]);i!=null&&c(n,["_url","model"],de(e,i));const l=s(t,["contents"]);if(l!=null){let o=Dt(l);Array.isArray(o)&&(o=o.map(r=>r)),c(n,["contents"],o)}const a=s(t,["config"]);return a!=null&&R_(a,n),n}function U_(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=s(e,["totalTokens"]);i!=null&&c(t,["totalTokens"],i);const l=s(e,["cachedContentTokenCount"]);return l!=null&&c(t,["cachedContentTokenCount"],l),t}function z_(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=s(e,["totalTokens"]);return i!=null&&c(t,["totalTokens"],i),t}function L_(e,t){const n={},i=s(t,["model"]);return i!=null&&c(n,["_url","name"],de(e,i)),n}function j_(e,t){const n={},i=s(t,["model"]);return i!=null&&c(n,["_url","name"],de(e,i)),n}function G_(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function H_(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}function P_(e,t){const n={},i=s(e,["outputGcsUri"]);t!==void 0&&i!=null&&c(t,["parameters","storageUri"],i);const l=s(e,["negativePrompt"]);t!==void 0&&l!=null&&c(t,["parameters","negativePrompt"],l);const a=s(e,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const o=s(e,["aspectRatio"]);t!==void 0&&o!=null&&c(t,["parameters","aspectRatio"],o);const r=s(e,["guidanceScale"]);t!==void 0&&r!=null&&c(t,["parameters","guidanceScale"],r);const d=s(e,["seed"]);t!==void 0&&d!=null&&c(t,["parameters","seed"],d);const f=s(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&c(t,["parameters","safetySetting"],f);const p=s(e,["personGeneration"]);t!==void 0&&p!=null&&c(t,["parameters","personGeneration"],p);const m=s(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&c(t,["parameters","includeSafetyAttributes"],m);const h=s(e,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const g=s(e,["language"]);t!==void 0&&g!=null&&c(t,["parameters","language"],g);const b=s(e,["outputMimeType"]);t!==void 0&&b!=null&&c(t,["parameters","outputOptions","mimeType"],b);const S=s(e,["outputCompressionQuality"]);t!==void 0&&S!=null&&c(t,["parameters","outputOptions","compressionQuality"],S);const _=s(e,["addWatermark"]);t!==void 0&&_!=null&&c(t,["parameters","addWatermark"],_);const y=s(e,["labels"]);t!==void 0&&y!=null&&c(t,["labels"],y);const x=s(e,["editMode"]);t!==void 0&&x!=null&&c(t,["parameters","editMode"],x);const v=s(e,["baseSteps"]);return t!==void 0&&v!=null&&c(t,["parameters","editConfig","baseSteps"],v),n}function q_(e,t){const n={},i=s(t,["model"]);i!=null&&c(n,["_url","model"],de(e,i));const l=s(t,["prompt"]);l!=null&&c(n,["instances[0]","prompt"],l);const a=s(t,["referenceImages"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>Bw(d))),c(n,["instances[0]","referenceImages"],r)}const o=s(t,["config"]);return o!=null&&P_(o,n),n}function V_(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=s(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>ys(a))),c(t,["generatedImages"],l)}return t}function B_(e,t){const n={},i=s(e,["taskType"]);t!==void 0&&i!=null&&c(t,["requests[]","taskType"],i);const l=s(e,["title"]);t!==void 0&&l!=null&&c(t,["requests[]","title"],l);const a=s(e,["outputDimensionality"]);if(t!==void 0&&a!=null&&c(t,["requests[]","outputDimensionality"],a),s(e,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(e,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function O_(e,t){const n={},i=s(e,["taskType"]);t!==void 0&&i!=null&&c(t,["instances[]","task_type"],i);const l=s(e,["title"]);t!==void 0&&l!=null&&c(t,["instances[]","title"],l);const a=s(e,["outputDimensionality"]);t!==void 0&&a!=null&&c(t,["parameters","outputDimensionality"],a);const o=s(e,["mimeType"]);t!==void 0&&o!=null&&c(t,["instances[]","mimeType"],o);const r=s(e,["autoTruncate"]);return t!==void 0&&r!=null&&c(t,["parameters","autoTruncate"],r),n}function F_(e,t){const n={},i=s(t,["model"]);i!=null&&c(n,["_url","model"],de(e,i));const l=s(t,["contents"]);if(l!=null){let r=zc(e,l);Array.isArray(r)&&(r=r.map(d=>d)),c(n,["requests[]","content"],r)}const a=s(t,["config"]);a!=null&&B_(a,n);const o=s(t,["model"]);return o!==void 0&&c(n,["requests[]","model"],de(e,o)),n}function Y_(e,t){const n={},i=s(t,["model"]);i!=null&&c(n,["_url","model"],de(e,i));const l=s(t,["contents"]);if(l!=null){let o=zc(e,l);Array.isArray(o)&&(o=o.map(r=>r)),c(n,["instances[]","content"],o)}const a=s(t,["config"]);return a!=null&&O_(a,n),n}function J_(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=s(e,["embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),c(t,["embeddings"],a)}const l=s(e,["metadata"]);return l!=null&&c(t,["metadata"],l),t}function $_(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=s(e,["predictions[]","embeddings"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>N_(o))),c(t,["embeddings"],a)}const l=s(e,["metadata"]);return l!=null&&c(t,["metadata"],l),t}function K_(e){const t={},n=s(e,["endpoint"]);n!=null&&c(t,["name"],n);const i=s(e,["deployedModelId"]);return i!=null&&c(t,["deployedModelId"],i),t}function X_(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);const i=s(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function Q_(e){const t={},n=s(e,["id"]);n!=null&&c(t,["id"],n);const i=s(e,["args"]);i!=null&&c(t,["args"],i);const l=s(e,["name"]);if(l!=null&&c(t,["name"],l),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function Z_(e){const t={},n=s(e,["allowedFunctionNames"]);n!=null&&c(t,["allowedFunctionNames"],n);const i=s(e,["mode"]);if(i!=null&&c(t,["mode"],i),s(e,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function W_(e){const t={},n=s(e,["description"]);n!=null&&c(t,["description"],n);const i=s(e,["name"]);i!=null&&c(t,["name"],i);const l=s(e,["parameters"]);l!=null&&c(t,["parameters"],l);const a=s(e,["parametersJsonSchema"]);a!=null&&c(t,["parametersJsonSchema"],a);const o=s(e,["response"]);o!=null&&c(t,["response"],o);const r=s(e,["responseJsonSchema"]);if(r!=null&&c(t,["responseJsonSchema"],r),s(e,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function ew(e,t,n){const i={},l=s(t,["systemInstruction"]);n!==void 0&&l!=null&&c(n,["systemInstruction"],gs(Xe(l)));const a=s(t,["temperature"]);a!=null&&c(i,["temperature"],a);const o=s(t,["topP"]);o!=null&&c(i,["topP"],o);const r=s(t,["topK"]);r!=null&&c(i,["topK"],r);const d=s(t,["candidateCount"]);d!=null&&c(i,["candidateCount"],d);const f=s(t,["maxOutputTokens"]);f!=null&&c(i,["maxOutputTokens"],f);const p=s(t,["stopSequences"]);p!=null&&c(i,["stopSequences"],p);const m=s(t,["responseLogprobs"]);m!=null&&c(i,["responseLogprobs"],m);const h=s(t,["logprobs"]);h!=null&&c(i,["logprobs"],h);const g=s(t,["presencePenalty"]);g!=null&&c(i,["presencePenalty"],g);const b=s(t,["frequencyPenalty"]);b!=null&&c(i,["frequencyPenalty"],b);const S=s(t,["seed"]);S!=null&&c(i,["seed"],S);const _=s(t,["responseMimeType"]);_!=null&&c(i,["responseMimeType"],_);const y=s(t,["responseSchema"]);y!=null&&c(i,["responseSchema"],Lc(y));const x=s(t,["responseJsonSchema"]);if(x!=null&&c(i,["responseJsonSchema"],x),s(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=s(t,["safetySettings"]);if(n!==void 0&&v!=null){let j=v;Array.isArray(j)&&(j=j.map(J=>Ow(J))),c(n,["safetySettings"],j)}const T=s(t,["tools"]);if(n!==void 0&&T!=null){let j=yl(T);Array.isArray(j)&&(j=j.map(J=>Qw(gl(J)))),c(n,["tools"],j)}const A=s(t,["toolConfig"]);if(n!==void 0&&A!=null&&c(n,["toolConfig"],Xw(A)),s(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const L=s(t,["cachedContent"]);n!==void 0&&L!=null&&c(n,["cachedContent"],bn(e,L));const C=s(t,["responseModalities"]);C!=null&&c(i,["responseModalities"],C);const R=s(t,["mediaResolution"]);R!=null&&c(i,["mediaResolution"],R);const M=s(t,["speechConfig"]);if(M!=null&&c(i,["speechConfig"],jc(M)),s(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const w=s(t,["thinkingConfig"]);w!=null&&c(i,["thinkingConfig"],w);const I=s(t,["imageConfig"]);I!=null&&c(i,["imageConfig"],Nw(I));const G=s(t,["enableEnhancedCivicAnswers"]);return G!=null&&c(i,["enableEnhancedCivicAnswers"],G),i}function tw(e,t,n){const i={},l=s(t,["systemInstruction"]);n!==void 0&&l!=null&&c(n,["systemInstruction"],Xe(l));const a=s(t,["temperature"]);a!=null&&c(i,["temperature"],a);const o=s(t,["topP"]);o!=null&&c(i,["topP"],o);const r=s(t,["topK"]);r!=null&&c(i,["topK"],r);const d=s(t,["candidateCount"]);d!=null&&c(i,["candidateCount"],d);const f=s(t,["maxOutputTokens"]);f!=null&&c(i,["maxOutputTokens"],f);const p=s(t,["stopSequences"]);p!=null&&c(i,["stopSequences"],p);const m=s(t,["responseLogprobs"]);m!=null&&c(i,["responseLogprobs"],m);const h=s(t,["logprobs"]);h!=null&&c(i,["logprobs"],h);const g=s(t,["presencePenalty"]);g!=null&&c(i,["presencePenalty"],g);const b=s(t,["frequencyPenalty"]);b!=null&&c(i,["frequencyPenalty"],b);const S=s(t,["seed"]);S!=null&&c(i,["seed"],S);const _=s(t,["responseMimeType"]);_!=null&&c(i,["responseMimeType"],_);const y=s(t,["responseSchema"]);y!=null&&c(i,["responseSchema"],Lc(y));const x=s(t,["responseJsonSchema"]);x!=null&&c(i,["responseJsonSchema"],x);const v=s(t,["routingConfig"]);v!=null&&c(i,["routingConfig"],v);const T=s(t,["modelSelectionConfig"]);T!=null&&c(i,["modelConfig"],T);const A=s(t,["safetySettings"]);if(n!==void 0&&A!=null){let U=A;Array.isArray(U)&&(U=U.map(F=>F)),c(n,["safetySettings"],U)}const L=s(t,["tools"]);if(n!==void 0&&L!=null){let U=yl(L);Array.isArray(U)&&(U=U.map(F=>Kg(gl(F)))),c(n,["tools"],U)}const C=s(t,["toolConfig"]);n!==void 0&&C!=null&&c(n,["toolConfig"],C);const R=s(t,["labels"]);n!==void 0&&R!=null&&c(n,["labels"],R);const M=s(t,["cachedContent"]);n!==void 0&&M!=null&&c(n,["cachedContent"],bn(e,M));const w=s(t,["responseModalities"]);w!=null&&c(i,["responseModalities"],w);const I=s(t,["mediaResolution"]);I!=null&&c(i,["mediaResolution"],I);const G=s(t,["speechConfig"]);G!=null&&c(i,["speechConfig"],jc(G));const j=s(t,["audioTimestamp"]);j!=null&&c(i,["audioTimestamp"],j);const J=s(t,["thinkingConfig"]);J!=null&&c(i,["thinkingConfig"],J);const ne=s(t,["imageConfig"]);if(ne!=null&&c(i,["imageConfig"],Aw(ne)),s(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return i}function Vp(e,t){const n={},i=s(t,["model"]);i!=null&&c(n,["_url","model"],de(e,i));const l=s(t,["contents"]);if(l!=null){let o=Dt(l);Array.isArray(o)&&(o=o.map(r=>gs(r))),c(n,["contents"],o)}const a=s(t,["config"]);return a!=null&&c(n,["generationConfig"],ew(e,a,n)),n}function Bp(e,t){const n={},i=s(t,["model"]);i!=null&&c(n,["_url","model"],de(e,i));const l=s(t,["contents"]);if(l!=null){let o=Dt(l);Array.isArray(o)&&(o=o.map(r=>r)),c(n,["contents"],o)}const a=s(t,["config"]);return a!=null&&c(n,["generationConfig"],tw(e,a,n)),n}function Op(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=s(e,["candidates"]);if(i!=null){let d=i;Array.isArray(d)&&(d=d.map(f=>__(f))),c(t,["candidates"],d)}const l=s(e,["modelVersion"]);l!=null&&c(t,["modelVersion"],l);const a=s(e,["promptFeedback"]);a!=null&&c(t,["promptFeedback"],a);const o=s(e,["responseId"]);o!=null&&c(t,["responseId"],o);const r=s(e,["usageMetadata"]);return r!=null&&c(t,["usageMetadata"],r),t}function Fp(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=s(e,["candidates"]);if(i!=null){let f=i;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["candidates"],f)}const l=s(e,["createTime"]);l!=null&&c(t,["createTime"],l);const a=s(e,["modelVersion"]);a!=null&&c(t,["modelVersion"],a);const o=s(e,["promptFeedback"]);o!=null&&c(t,["promptFeedback"],o);const r=s(e,["responseId"]);r!=null&&c(t,["responseId"],r);const d=s(e,["usageMetadata"]);return d!=null&&c(t,["usageMetadata"],d),t}function nw(e,t){const n={};if(s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const i=s(e,["numberOfImages"]);t!==void 0&&i!=null&&c(t,["parameters","sampleCount"],i);const l=s(e,["aspectRatio"]);t!==void 0&&l!=null&&c(t,["parameters","aspectRatio"],l);const a=s(e,["guidanceScale"]);if(t!==void 0&&a!=null&&c(t,["parameters","guidanceScale"],a),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=s(e,["safetyFilterLevel"]);t!==void 0&&o!=null&&c(t,["parameters","safetySetting"],o);const r=s(e,["personGeneration"]);t!==void 0&&r!=null&&c(t,["parameters","personGeneration"],r);const d=s(e,["includeSafetyAttributes"]);t!==void 0&&d!=null&&c(t,["parameters","includeSafetyAttributes"],d);const f=s(e,["includeRaiReason"]);t!==void 0&&f!=null&&c(t,["parameters","includeRaiReason"],f);const p=s(e,["language"]);t!==void 0&&p!=null&&c(t,["parameters","language"],p);const m=s(e,["outputMimeType"]);t!==void 0&&m!=null&&c(t,["parameters","outputOptions","mimeType"],m);const h=s(e,["outputCompressionQuality"]);if(t!==void 0&&h!=null&&c(t,["parameters","outputOptions","compressionQuality"],h),s(e,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const g=s(e,["imageSize"]);if(t!==void 0&&g!=null&&c(t,["parameters","sampleImageSize"],g),s(e,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function iw(e,t){const n={},i=s(e,["outputGcsUri"]);t!==void 0&&i!=null&&c(t,["parameters","storageUri"],i);const l=s(e,["negativePrompt"]);t!==void 0&&l!=null&&c(t,["parameters","negativePrompt"],l);const a=s(e,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const o=s(e,["aspectRatio"]);t!==void 0&&o!=null&&c(t,["parameters","aspectRatio"],o);const r=s(e,["guidanceScale"]);t!==void 0&&r!=null&&c(t,["parameters","guidanceScale"],r);const d=s(e,["seed"]);t!==void 0&&d!=null&&c(t,["parameters","seed"],d);const f=s(e,["safetyFilterLevel"]);t!==void 0&&f!=null&&c(t,["parameters","safetySetting"],f);const p=s(e,["personGeneration"]);t!==void 0&&p!=null&&c(t,["parameters","personGeneration"],p);const m=s(e,["includeSafetyAttributes"]);t!==void 0&&m!=null&&c(t,["parameters","includeSafetyAttributes"],m);const h=s(e,["includeRaiReason"]);t!==void 0&&h!=null&&c(t,["parameters","includeRaiReason"],h);const g=s(e,["language"]);t!==void 0&&g!=null&&c(t,["parameters","language"],g);const b=s(e,["outputMimeType"]);t!==void 0&&b!=null&&c(t,["parameters","outputOptions","mimeType"],b);const S=s(e,["outputCompressionQuality"]);t!==void 0&&S!=null&&c(t,["parameters","outputOptions","compressionQuality"],S);const _=s(e,["addWatermark"]);t!==void 0&&_!=null&&c(t,["parameters","addWatermark"],_);const y=s(e,["labels"]);t!==void 0&&y!=null&&c(t,["labels"],y);const x=s(e,["imageSize"]);t!==void 0&&x!=null&&c(t,["parameters","sampleImageSize"],x);const v=s(e,["enhancePrompt"]);return t!==void 0&&v!=null&&c(t,["parameters","enhancePrompt"],v),n}function lw(e,t){const n={},i=s(t,["model"]);i!=null&&c(n,["_url","model"],de(e,i));const l=s(t,["prompt"]);l!=null&&c(n,["instances[0]","prompt"],l);const a=s(t,["config"]);return a!=null&&nw(a,n),n}function aw(e,t){const n={},i=s(t,["model"]);i!=null&&c(n,["_url","model"],de(e,i));const l=s(t,["prompt"]);l!=null&&c(n,["instances[0]","prompt"],l);const a=s(t,["config"]);return a!=null&&iw(a,n),n}function ow(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=s(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>xw(o))),c(t,["generatedImages"],a)}const l=s(e,["positivePromptSafetyAttributes"]);return l!=null&&c(t,["positivePromptSafetyAttributes"],Jg(l)),t}function sw(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=s(e,["predictions"]);if(i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>ys(o))),c(t,["generatedImages"],a)}const l=s(e,["positivePromptSafetyAttributes"]);return l!=null&&c(t,["positivePromptSafetyAttributes"],$g(l)),t}function rw(e,t){const n={},i=s(e,["numberOfVideos"]);if(t!==void 0&&i!=null&&c(t,["parameters","sampleCount"],i),s(e,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(e,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const l=s(e,["durationSeconds"]);if(t!==void 0&&l!=null&&c(t,["parameters","durationSeconds"],l),s(e,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=s(e,["aspectRatio"]);t!==void 0&&a!=null&&c(t,["parameters","aspectRatio"],a);const o=s(e,["resolution"]);t!==void 0&&o!=null&&c(t,["parameters","resolution"],o);const r=s(e,["personGeneration"]);if(t!==void 0&&r!=null&&c(t,["parameters","personGeneration"],r),s(e,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const d=s(e,["negativePrompt"]);t!==void 0&&d!=null&&c(t,["parameters","negativePrompt"],d);const f=s(e,["enhancePrompt"]);if(t!==void 0&&f!=null&&c(t,["parameters","enhancePrompt"],f),s(e,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const p=s(e,["lastFrame"]);t!==void 0&&p!=null&&c(t,["instances[0]","lastFrame"],xs(p));const m=s(e,["referenceImages"]);if(t!==void 0&&m!=null){let h=m;Array.isArray(h)&&(h=h.map(g=>cE(g))),c(t,["instances[0]","referenceImages"],h)}if(s(e,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(e,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function uw(e,t){const n={},i=s(e,["numberOfVideos"]);t!==void 0&&i!=null&&c(t,["parameters","sampleCount"],i);const l=s(e,["outputGcsUri"]);t!==void 0&&l!=null&&c(t,["parameters","storageUri"],l);const a=s(e,["fps"]);t!==void 0&&a!=null&&c(t,["parameters","fps"],a);const o=s(e,["durationSeconds"]);t!==void 0&&o!=null&&c(t,["parameters","durationSeconds"],o);const r=s(e,["seed"]);t!==void 0&&r!=null&&c(t,["parameters","seed"],r);const d=s(e,["aspectRatio"]);t!==void 0&&d!=null&&c(t,["parameters","aspectRatio"],d);const f=s(e,["resolution"]);t!==void 0&&f!=null&&c(t,["parameters","resolution"],f);const p=s(e,["personGeneration"]);t!==void 0&&p!=null&&c(t,["parameters","personGeneration"],p);const m=s(e,["pubsubTopic"]);t!==void 0&&m!=null&&c(t,["parameters","pubsubTopic"],m);const h=s(e,["negativePrompt"]);t!==void 0&&h!=null&&c(t,["parameters","negativePrompt"],h);const g=s(e,["enhancePrompt"]);t!==void 0&&g!=null&&c(t,["parameters","enhancePrompt"],g);const b=s(e,["generateAudio"]);t!==void 0&&b!=null&&c(t,["parameters","generateAudio"],b);const S=s(e,["lastFrame"]);t!==void 0&&S!=null&&c(t,["instances[0]","lastFrame"],Ot(S));const _=s(e,["referenceImages"]);if(t!==void 0&&_!=null){let v=_;Array.isArray(v)&&(v=v.map(T=>dE(T))),c(t,["instances[0]","referenceImages"],v)}const y=s(e,["mask"]);t!==void 0&&y!=null&&c(t,["instances[0]","mask"],uE(y));const x=s(e,["compressionQuality"]);return t!==void 0&&x!=null&&c(t,["parameters","compressionQuality"],x),n}function cw(e){const t={},n=s(e,["name"]);n!=null&&c(t,["name"],n);const i=s(e,["metadata"]);i!=null&&c(t,["metadata"],i);const l=s(e,["done"]);l!=null&&c(t,["done"],l);const a=s(e,["error"]);a!=null&&c(t,["error"],a);const o=s(e,["response","generateVideoResponse"]);return o!=null&&c(t,["response"],hw(o)),t}function dw(e){const t={},n=s(e,["name"]);n!=null&&c(t,["name"],n);const i=s(e,["metadata"]);i!=null&&c(t,["metadata"],i);const l=s(e,["done"]);l!=null&&c(t,["done"],l);const a=s(e,["error"]);a!=null&&c(t,["error"],a);const o=s(e,["response"]);return o!=null&&c(t,["response"],mw(o)),t}function fw(e,t){const n={},i=s(t,["model"]);i!=null&&c(n,["_url","model"],de(e,i));const l=s(t,["prompt"]);l!=null&&c(n,["instances[0]","prompt"],l);const a=s(t,["image"]);a!=null&&c(n,["instances[0]","image"],xs(a));const o=s(t,["video"]);o!=null&&c(n,["instances[0]","video"],Xg(o));const r=s(t,["source"]);r!=null&&gw(r,n);const d=s(t,["config"]);return d!=null&&rw(d,n),n}function pw(e,t){const n={},i=s(t,["model"]);i!=null&&c(n,["_url","model"],de(e,i));const l=s(t,["prompt"]);l!=null&&c(n,["instances[0]","prompt"],l);const a=s(t,["image"]);a!=null&&c(n,["instances[0]","image"],Ot(a));const o=s(t,["video"]);o!=null&&c(n,["instances[0]","video"],Qg(o));const r=s(t,["source"]);r!=null&&yw(r,n);const d=s(t,["config"]);return d!=null&&uw(d,n),n}function hw(e){const t={},n=s(e,["generatedSamples"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>bw(o))),c(t,["generatedVideos"],a)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&c(t,["raiMediaFilteredCount"],i);const l=s(e,["raiMediaFilteredReasons"]);return l!=null&&c(t,["raiMediaFilteredReasons"],l),t}function mw(e){const t={},n=s(e,["videos"]);if(n!=null){let a=n;Array.isArray(a)&&(a=a.map(o=>Sw(o))),c(t,["generatedVideos"],a)}const i=s(e,["raiMediaFilteredCount"]);i!=null&&c(t,["raiMediaFilteredCount"],i);const l=s(e,["raiMediaFilteredReasons"]);return l!=null&&c(t,["raiMediaFilteredReasons"],l),t}function gw(e,t){const n={},i=s(e,["prompt"]);t!==void 0&&i!=null&&c(t,["instances[0]","prompt"],i);const l=s(e,["image"]);t!==void 0&&l!=null&&c(t,["instances[0]","image"],xs(l));const a=s(e,["video"]);return t!==void 0&&a!=null&&c(t,["instances[0]","video"],Xg(a)),n}function yw(e,t){const n={},i=s(e,["prompt"]);t!==void 0&&i!=null&&c(t,["instances[0]","prompt"],i);const l=s(e,["image"]);t!==void 0&&l!=null&&c(t,["instances[0]","image"],Ot(l));const a=s(e,["video"]);return t!==void 0&&a!=null&&c(t,["instances[0]","video"],Qg(a)),n}function xw(e){const t={},n=s(e,["_self"]);n!=null&&c(t,["image"],Mw(n));const i=s(e,["raiFilteredReason"]);i!=null&&c(t,["raiFilteredReason"],i);const l=s(e,["_self"]);return l!=null&&c(t,["safetyAttributes"],Jg(l)),t}function ys(e){const t={},n=s(e,["_self"]);n!=null&&c(t,["image"],Yg(n));const i=s(e,["raiFilteredReason"]);i!=null&&c(t,["raiFilteredReason"],i);const l=s(e,["_self"]);l!=null&&c(t,["safetyAttributes"],$g(l));const a=s(e,["prompt"]);return a!=null&&c(t,["enhancedPrompt"],a),t}function vw(e){const t={},n=s(e,["_self"]);n!=null&&c(t,["mask"],Yg(n));const i=s(e,["labels"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>a)),c(t,["labels"],l)}return t}function bw(e){const t={},n=s(e,["video"]);return n!=null&&c(t,["video"],sE(n)),t}function Sw(e){const t={},n=s(e,["_self"]);return n!=null&&c(t,["video"],rE(n)),t}function Tw(e){const t={},n=s(e,["modelSelectionConfig"]);n!=null&&c(t,["modelConfig"],n);const i=s(e,["responseJsonSchema"]);i!=null&&c(t,["responseJsonSchema"],i);const l=s(e,["audioTimestamp"]);l!=null&&c(t,["audioTimestamp"],l);const a=s(e,["candidateCount"]);a!=null&&c(t,["candidateCount"],a);const o=s(e,["enableAffectiveDialog"]);o!=null&&c(t,["enableAffectiveDialog"],o);const r=s(e,["frequencyPenalty"]);r!=null&&c(t,["frequencyPenalty"],r);const d=s(e,["logprobs"]);d!=null&&c(t,["logprobs"],d);const f=s(e,["maxOutputTokens"]);f!=null&&c(t,["maxOutputTokens"],f);const p=s(e,["mediaResolution"]);p!=null&&c(t,["mediaResolution"],p);const m=s(e,["presencePenalty"]);m!=null&&c(t,["presencePenalty"],m);const h=s(e,["responseLogprobs"]);h!=null&&c(t,["responseLogprobs"],h);const g=s(e,["responseMimeType"]);g!=null&&c(t,["responseMimeType"],g);const b=s(e,["responseModalities"]);b!=null&&c(t,["responseModalities"],b);const S=s(e,["responseSchema"]);S!=null&&c(t,["responseSchema"],S);const _=s(e,["routingConfig"]);_!=null&&c(t,["routingConfig"],_);const y=s(e,["seed"]);y!=null&&c(t,["seed"],y);const x=s(e,["speechConfig"]);x!=null&&c(t,["speechConfig"],x);const v=s(e,["stopSequences"]);v!=null&&c(t,["stopSequences"],v);const T=s(e,["temperature"]);T!=null&&c(t,["temperature"],T);const A=s(e,["thinkingConfig"]);A!=null&&c(t,["thinkingConfig"],A);const L=s(e,["topK"]);L!=null&&c(t,["topK"],L);const C=s(e,["topP"]);if(C!=null&&c(t,["topP"],C),s(e,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function _w(e,t){const n={},i=s(t,["model"]);return i!=null&&c(n,["_url","name"],de(e,i)),n}function ww(e,t){const n={},i=s(t,["model"]);return i!=null&&c(n,["_url","name"],de(e,i)),n}function Ew(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&c(t,["enableWidget"],n),t}function Cw(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&c(t,["timeRangeFilter"],n),t}function Nw(e){const t={},n=s(e,["aspectRatio"]);n!=null&&c(t,["aspectRatio"],n);const i=s(e,["imageSize"]);if(i!=null&&c(t,["imageSize"],i),s(e,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(s(e,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(s(e,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function Aw(e){const t={},n=s(e,["aspectRatio"]);n!=null&&c(t,["aspectRatio"],n);const i=s(e,["imageSize"]);i!=null&&c(t,["imageSize"],i);const l=s(e,["personGeneration"]);l!=null&&c(t,["personGeneration"],l);const a=s(e,["outputMimeType"]);a!=null&&c(t,["imageOutputOptions","mimeType"],a);const o=s(e,["outputCompressionQuality"]);return o!=null&&c(t,["imageOutputOptions","compressionQuality"],o),t}function Mw(e){const t={},n=s(e,["bytesBase64Encoded"]);n!=null&&c(t,["imageBytes"],$n(n));const i=s(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function Yg(e){const t={},n=s(e,["gcsUri"]);n!=null&&c(t,["gcsUri"],n);const i=s(e,["bytesBase64Encoded"]);i!=null&&c(t,["imageBytes"],$n(i));const l=s(e,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function xs(e){const t={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=s(e,["imageBytes"]);n!=null&&c(t,["bytesBase64Encoded"],$n(n));const i=s(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function Ot(e){const t={},n=s(e,["gcsUri"]);n!=null&&c(t,["gcsUri"],n);const i=s(e,["imageBytes"]);i!=null&&c(t,["bytesBase64Encoded"],$n(i));const l=s(e,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function kw(e,t,n){const i={},l=s(t,["pageSize"]);n!==void 0&&l!=null&&c(n,["_query","pageSize"],l);const a=s(t,["pageToken"]);n!==void 0&&a!=null&&c(n,["_query","pageToken"],a);const o=s(t,["filter"]);n!==void 0&&o!=null&&c(n,["_query","filter"],o);const r=s(t,["queryBase"]);return n!==void 0&&r!=null&&c(n,["_url","models_url"],Hg(e,r)),i}function Rw(e,t,n){const i={},l=s(t,["pageSize"]);n!==void 0&&l!=null&&c(n,["_query","pageSize"],l);const a=s(t,["pageToken"]);n!==void 0&&a!=null&&c(n,["_query","pageToken"],a);const o=s(t,["filter"]);n!==void 0&&o!=null&&c(n,["_query","filter"],o);const r=s(t,["queryBase"]);return n!==void 0&&r!=null&&c(n,["_url","models_url"],Hg(e,r)),i}function Iw(e,t){const n={},i=s(t,["config"]);return i!=null&&kw(e,i,n),n}function Dw(e,t){const n={},i=s(t,["config"]);return i!=null&&Rw(e,i,n),n}function Uw(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&c(t,["nextPageToken"],i);const l=s(e,["_self"]);if(l!=null){let a=Pg(l);Array.isArray(a)&&(a=a.map(o=>gu(o))),c(t,["models"],a)}return t}function zw(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&c(t,["nextPageToken"],i);const l=s(e,["_self"]);if(l!=null){let a=Pg(l);Array.isArray(a)&&(a=a.map(o=>yu(o))),c(t,["models"],a)}return t}function Lw(e){const t={},n=s(e,["maskMode"]);n!=null&&c(t,["maskMode"],n);const i=s(e,["segmentationClasses"]);i!=null&&c(t,["maskClasses"],i);const l=s(e,["maskDilation"]);return l!=null&&c(t,["dilation"],l),t}function gu(e){const t={},n=s(e,["name"]);n!=null&&c(t,["name"],n);const i=s(e,["displayName"]);i!=null&&c(t,["displayName"],i);const l=s(e,["description"]);l!=null&&c(t,["description"],l);const a=s(e,["version"]);a!=null&&c(t,["version"],a);const o=s(e,["_self"]);o!=null&&c(t,["tunedModelInfo"],Zw(o));const r=s(e,["inputTokenLimit"]);r!=null&&c(t,["inputTokenLimit"],r);const d=s(e,["outputTokenLimit"]);d!=null&&c(t,["outputTokenLimit"],d);const f=s(e,["supportedGenerationMethods"]);f!=null&&c(t,["supportedActions"],f);const p=s(e,["temperature"]);p!=null&&c(t,["temperature"],p);const m=s(e,["maxTemperature"]);m!=null&&c(t,["maxTemperature"],m);const h=s(e,["topP"]);h!=null&&c(t,["topP"],h);const g=s(e,["topK"]);g!=null&&c(t,["topK"],g);const b=s(e,["thinking"]);return b!=null&&c(t,["thinking"],b),t}function yu(e){const t={},n=s(e,["name"]);n!=null&&c(t,["name"],n);const i=s(e,["displayName"]);i!=null&&c(t,["displayName"],i);const l=s(e,["description"]);l!=null&&c(t,["description"],l);const a=s(e,["versionId"]);a!=null&&c(t,["version"],a);const o=s(e,["deployedModels"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(h=>K_(h))),c(t,["endpoints"],m)}const r=s(e,["labels"]);r!=null&&c(t,["labels"],r);const d=s(e,["_self"]);d!=null&&c(t,["tunedModelInfo"],Ww(d));const f=s(e,["defaultCheckpointId"]);f!=null&&c(t,["defaultCheckpointId"],f);const p=s(e,["checkpoints"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(h=>h)),c(t,["checkpoints"],m)}return t}function jw(e){const t={},n=s(e,["mediaResolution"]);n!=null&&c(t,["mediaResolution"],n);const i=s(e,["codeExecutionResult"]);i!=null&&c(t,["codeExecutionResult"],i);const l=s(e,["executableCode"]);l!=null&&c(t,["executableCode"],l);const a=s(e,["fileData"]);a!=null&&c(t,["fileData"],X_(a));const o=s(e,["functionCall"]);o!=null&&c(t,["functionCall"],Q_(o));const r=s(e,["functionResponse"]);r!=null&&c(t,["functionResponse"],r);const d=s(e,["inlineData"]);d!=null&&c(t,["inlineData"],T_(d));const f=s(e,["text"]);f!=null&&c(t,["text"],f);const p=s(e,["thought"]);p!=null&&c(t,["thought"],p);const m=s(e,["thoughtSignature"]);m!=null&&c(t,["thoughtSignature"],m);const h=s(e,["videoMetadata"]);return h!=null&&c(t,["videoMetadata"],h),t}function Gw(e){const t={},n=s(e,["productImage"]);return n!=null&&c(t,["image"],Ot(n)),t}function Hw(e,t){const n={},i=s(e,["numberOfImages"]);t!==void 0&&i!=null&&c(t,["parameters","sampleCount"],i);const l=s(e,["baseSteps"]);t!==void 0&&l!=null&&c(t,["parameters","baseSteps"],l);const a=s(e,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const o=s(e,["seed"]);t!==void 0&&o!=null&&c(t,["parameters","seed"],o);const r=s(e,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const d=s(e,["personGeneration"]);t!==void 0&&d!=null&&c(t,["parameters","personGeneration"],d);const f=s(e,["addWatermark"]);t!==void 0&&f!=null&&c(t,["parameters","addWatermark"],f);const p=s(e,["outputMimeType"]);t!==void 0&&p!=null&&c(t,["parameters","outputOptions","mimeType"],p);const m=s(e,["outputCompressionQuality"]);t!==void 0&&m!=null&&c(t,["parameters","outputOptions","compressionQuality"],m);const h=s(e,["enhancePrompt"]);t!==void 0&&h!=null&&c(t,["parameters","enhancePrompt"],h);const g=s(e,["labels"]);return t!==void 0&&g!=null&&c(t,["labels"],g),n}function Pw(e,t){const n={},i=s(t,["model"]);i!=null&&c(n,["_url","model"],de(e,i));const l=s(t,["source"]);l!=null&&Vw(l,n);const a=s(t,["config"]);return a!=null&&Hw(a,n),n}function qw(e){const t={},n=s(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>ys(l))),c(t,["generatedImages"],i)}return t}function Vw(e,t){const n={},i=s(e,["prompt"]);t!==void 0&&i!=null&&c(t,["instances[0]","prompt"],i);const l=s(e,["personImage"]);t!==void 0&&l!=null&&c(t,["instances[0]","personImage","image"],Ot(l));const a=s(e,["productImages"]);if(t!==void 0&&a!=null){let o=a;Array.isArray(o)&&(o=o.map(r=>Gw(r))),c(t,["instances[0]","productImages"],o)}return n}function Bw(e){const t={},n=s(e,["referenceImage"]);n!=null&&c(t,["referenceImage"],Ot(n));const i=s(e,["referenceId"]);i!=null&&c(t,["referenceId"],i);const l=s(e,["referenceType"]);l!=null&&c(t,["referenceType"],l);const a=s(e,["maskImageConfig"]);a!=null&&c(t,["maskImageConfig"],Lw(a));const o=s(e,["controlImageConfig"]);o!=null&&c(t,["controlImageConfig"],M_(o));const r=s(e,["styleImageConfig"]);r!=null&&c(t,["styleImageConfig"],r);const d=s(e,["subjectImageConfig"]);return d!=null&&c(t,["subjectImageConfig"],d),t}function Jg(e){const t={},n=s(e,["safetyAttributes","categories"]);n!=null&&c(t,["categories"],n);const i=s(e,["safetyAttributes","scores"]);i!=null&&c(t,["scores"],i);const l=s(e,["contentType"]);return l!=null&&c(t,["contentType"],l),t}function $g(e){const t={},n=s(e,["safetyAttributes","categories"]);n!=null&&c(t,["categories"],n);const i=s(e,["safetyAttributes","scores"]);i!=null&&c(t,["scores"],i);const l=s(e,["contentType"]);return l!=null&&c(t,["contentType"],l),t}function Ow(e){const t={},n=s(e,["category"]);if(n!=null&&c(t,["category"],n),s(e,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const i=s(e,["threshold"]);return i!=null&&c(t,["threshold"],i),t}function Fw(e){const t={},n=s(e,["image"]);return n!=null&&c(t,["image"],Ot(n)),t}function Yw(e,t){const n={},i=s(e,["mode"]);t!==void 0&&i!=null&&c(t,["parameters","mode"],i);const l=s(e,["maxPredictions"]);t!==void 0&&l!=null&&c(t,["parameters","maxPredictions"],l);const a=s(e,["confidenceThreshold"]);t!==void 0&&a!=null&&c(t,["parameters","confidenceThreshold"],a);const o=s(e,["maskDilation"]);t!==void 0&&o!=null&&c(t,["parameters","maskDilation"],o);const r=s(e,["binaryColorThreshold"]);t!==void 0&&r!=null&&c(t,["parameters","binaryColorThreshold"],r);const d=s(e,["labels"]);return t!==void 0&&d!=null&&c(t,["labels"],d),n}function Jw(e,t){const n={},i=s(t,["model"]);i!=null&&c(n,["_url","model"],de(e,i));const l=s(t,["source"]);l!=null&&Kw(l,n);const a=s(t,["config"]);return a!=null&&Yw(a,n),n}function $w(e){const t={},n=s(e,["predictions"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(l=>vw(l))),c(t,["generatedMasks"],i)}return t}function Kw(e,t){const n={},i=s(e,["prompt"]);t!==void 0&&i!=null&&c(t,["instances[0]","prompt"],i);const l=s(e,["image"]);t!==void 0&&l!=null&&c(t,["instances[0]","image"],Ot(l));const a=s(e,["scribbleImage"]);return t!==void 0&&a!=null&&c(t,["instances[0]","scribble"],Fw(a)),n}function Xw(e){const t={},n=s(e,["retrievalConfig"]);n!=null&&c(t,["retrievalConfig"],n);const i=s(e,["functionCallingConfig"]);return i!=null&&c(t,["functionCallingConfig"],Z_(i)),t}function Qw(e){const t={};if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=s(e,["computerUse"]);n!=null&&c(t,["computerUse"],n);const i=s(e,["fileSearch"]);i!=null&&c(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&c(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=s(e,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(m=>m)),c(t,["functionDeclarations"],p)}const o=s(e,["googleMaps"]);o!=null&&c(t,["googleMaps"],Ew(o));const r=s(e,["googleSearch"]);r!=null&&c(t,["googleSearch"],Cw(r));const d=s(e,["googleSearchRetrieval"]);d!=null&&c(t,["googleSearchRetrieval"],d);const f=s(e,["urlContext"]);return f!=null&&c(t,["urlContext"],f),t}function Kg(e){const t={},n=s(e,["retrieval"]);n!=null&&c(t,["retrieval"],n);const i=s(e,["computerUse"]);if(i!=null&&c(t,["computerUse"],i),s(e,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const l=s(e,["codeExecution"]);l!=null&&c(t,["codeExecution"],l);const a=s(e,["enterpriseWebSearch"]);a!=null&&c(t,["enterpriseWebSearch"],a);const o=s(e,["functionDeclarations"]);if(o!=null){let m=o;Array.isArray(m)&&(m=m.map(h=>W_(h))),c(t,["functionDeclarations"],m)}const r=s(e,["googleMaps"]);r!=null&&c(t,["googleMaps"],r);const d=s(e,["googleSearch"]);d!=null&&c(t,["googleSearch"],d);const f=s(e,["googleSearchRetrieval"]);f!=null&&c(t,["googleSearchRetrieval"],f);const p=s(e,["urlContext"]);return p!=null&&c(t,["urlContext"],p),t}function Zw(e){const t={},n=s(e,["baseModel"]);n!=null&&c(t,["baseModel"],n);const i=s(e,["createTime"]);i!=null&&c(t,["createTime"],i);const l=s(e,["updateTime"]);return l!=null&&c(t,["updateTime"],l),t}function Ww(e){const t={},n=s(e,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&c(t,["baseModel"],n);const i=s(e,["createTime"]);i!=null&&c(t,["createTime"],i);const l=s(e,["updateTime"]);return l!=null&&c(t,["updateTime"],l),t}function eE(e,t){const n={},i=s(e,["displayName"]);t!==void 0&&i!=null&&c(t,["displayName"],i);const l=s(e,["description"]);t!==void 0&&l!=null&&c(t,["description"],l);const a=s(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&c(t,["defaultCheckpointId"],a),n}function tE(e,t){const n={},i=s(e,["displayName"]);t!==void 0&&i!=null&&c(t,["displayName"],i);const l=s(e,["description"]);t!==void 0&&l!=null&&c(t,["description"],l);const a=s(e,["defaultCheckpointId"]);return t!==void 0&&a!=null&&c(t,["defaultCheckpointId"],a),n}function nE(e,t){const n={},i=s(t,["model"]);i!=null&&c(n,["_url","name"],de(e,i));const l=s(t,["config"]);return l!=null&&eE(l,n),n}function iE(e,t){const n={},i=s(t,["model"]);i!=null&&c(n,["_url","model"],de(e,i));const l=s(t,["config"]);return l!=null&&tE(l,n),n}function lE(e,t){const n={},i=s(e,["outputGcsUri"]);t!==void 0&&i!=null&&c(t,["parameters","storageUri"],i);const l=s(e,["safetyFilterLevel"]);t!==void 0&&l!=null&&c(t,["parameters","safetySetting"],l);const a=s(e,["personGeneration"]);t!==void 0&&a!=null&&c(t,["parameters","personGeneration"],a);const o=s(e,["includeRaiReason"]);t!==void 0&&o!=null&&c(t,["parameters","includeRaiReason"],o);const r=s(e,["outputMimeType"]);t!==void 0&&r!=null&&c(t,["parameters","outputOptions","mimeType"],r);const d=s(e,["outputCompressionQuality"]);t!==void 0&&d!=null&&c(t,["parameters","outputOptions","compressionQuality"],d);const f=s(e,["enhanceInputImage"]);t!==void 0&&f!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],f);const p=s(e,["imagePreservationFactor"]);t!==void 0&&p!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],p);const m=s(e,["labels"]);t!==void 0&&m!=null&&c(t,["labels"],m);const h=s(e,["numberOfImages"]);t!==void 0&&h!=null&&c(t,["parameters","sampleCount"],h);const g=s(e,["mode"]);return t!==void 0&&g!=null&&c(t,["parameters","mode"],g),n}function aE(e,t){const n={},i=s(t,["model"]);i!=null&&c(n,["_url","model"],de(e,i));const l=s(t,["image"]);l!=null&&c(n,["instances[0]","image"],Ot(l));const a=s(t,["upscaleFactor"]);a!=null&&c(n,["parameters","upscaleConfig","upscaleFactor"],a);const o=s(t,["config"]);return o!=null&&lE(o,n),n}function oE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=s(e,["predictions"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>ys(a))),c(t,["generatedImages"],l)}return t}function sE(e){const t={},n=s(e,["uri"]);n!=null&&c(t,["uri"],n);const i=s(e,["encodedVideo"]);i!=null&&c(t,["videoBytes"],$n(i));const l=s(e,["encoding"]);return l!=null&&c(t,["mimeType"],l),t}function rE(e){const t={},n=s(e,["gcsUri"]);n!=null&&c(t,["uri"],n);const i=s(e,["bytesBase64Encoded"]);i!=null&&c(t,["videoBytes"],$n(i));const l=s(e,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}function uE(e){const t={},n=s(e,["image"]);n!=null&&c(t,["_self"],Ot(n));const i=s(e,["maskMode"]);return i!=null&&c(t,["maskMode"],i),t}function cE(e){const t={},n=s(e,["image"]);n!=null&&c(t,["image"],xs(n));const i=s(e,["referenceType"]);return i!=null&&c(t,["referenceType"],i),t}function dE(e){const t={},n=s(e,["image"]);n!=null&&c(t,["image"],Ot(n));const i=s(e,["referenceType"]);return i!=null&&c(t,["referenceType"],i),t}function Xg(e){const t={},n=s(e,["uri"]);n!=null&&c(t,["uri"],n);const i=s(e,["videoBytes"]);i!=null&&c(t,["encodedVideo"],$n(i));const l=s(e,["mimeType"]);return l!=null&&c(t,["encoding"],l),t}function Qg(e){const t={},n=s(e,["uri"]);n!=null&&c(t,["gcsUri"],n);const i=s(e,["videoBytes"]);i!=null&&c(t,["bytesBase64Encoded"],$n(i));const l=s(e,["mimeType"]);return l!=null&&c(t,["mimeType"],l),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fE(e,t){const n={},i=s(e,["displayName"]);return t!==void 0&&i!=null&&c(t,["displayName"],i),n}function pE(e){const t={},n=s(e,["config"]);return n!=null&&fE(n,t),t}function hE(e,t){const n={},i=s(e,["force"]);return t!==void 0&&i!=null&&c(t,["_query","force"],i),n}function mE(e){const t={},n=s(e,["name"]);n!=null&&c(t,["_url","name"],n);const i=s(e,["config"]);return i!=null&&hE(i,t),t}function gE(e){const t={},n=s(e,["name"]);return n!=null&&c(t,["_url","name"],n),t}function yE(e,t){const n={},i=s(e,["customMetadata"]);if(t!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(o=>o)),c(t,["customMetadata"],a)}const l=s(e,["chunkingConfig"]);return t!==void 0&&l!=null&&c(t,["chunkingConfig"],l),n}function xE(e){const t={},n=s(e,["name"]);n!=null&&c(t,["name"],n);const i=s(e,["metadata"]);i!=null&&c(t,["metadata"],i);const l=s(e,["done"]);l!=null&&c(t,["done"],l);const a=s(e,["error"]);a!=null&&c(t,["error"],a);const o=s(e,["response"]);return o!=null&&c(t,["response"],bE(o)),t}function vE(e){const t={},n=s(e,["fileSearchStoreName"]);n!=null&&c(t,["_url","file_search_store_name"],n);const i=s(e,["fileName"]);i!=null&&c(t,["fileName"],i);const l=s(e,["config"]);return l!=null&&yE(l,t),t}function bE(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=s(e,["parent"]);i!=null&&c(t,["parent"],i);const l=s(e,["documentName"]);return l!=null&&c(t,["documentName"],l),t}function SE(e,t){const n={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&c(t,["_query","pageSize"],i);const l=s(e,["pageToken"]);return t!==void 0&&l!=null&&c(t,["_query","pageToken"],l),n}function TE(e){const t={},n=s(e,["config"]);return n!=null&&SE(n,t),t}function _E(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&c(t,["nextPageToken"],i);const l=s(e,["fileSearchStores"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(o=>o)),c(t,["fileSearchStores"],a)}return t}function Zg(e,t){const n={},i=s(e,["mimeType"]);t!==void 0&&i!=null&&c(t,["mimeType"],i);const l=s(e,["displayName"]);t!==void 0&&l!=null&&c(t,["displayName"],l);const a=s(e,["customMetadata"]);if(t!==void 0&&a!=null){let r=a;Array.isArray(r)&&(r=r.map(d=>d)),c(t,["customMetadata"],r)}const o=s(e,["chunkingConfig"]);return t!==void 0&&o!=null&&c(t,["chunkingConfig"],o),n}function wE(e){const t={},n=s(e,["fileSearchStoreName"]);n!=null&&c(t,["_url","file_search_store_name"],n);const i=s(e,["config"]);return i!=null&&Zg(i,t),t}function EE(e){const t={},n=s(e,["sdkHttpResponse"]);return n!=null&&c(t,["sdkHttpResponse"],n),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CE="Content-Type",NE="X-Server-Timeout",AE="User-Agent",xu="x-goog-api-client",ME="1.35.0",kE=`google-genai-sdk/${ME}`,RE="v1beta1",IE="v1beta";class DE{constructor(t){var n,i;this.clientOptions=Object.assign(Object.assign({},t),{project:t.project,location:t.location,apiKey:t.apiKey,vertexai:t.vertexai});const l={};this.clientOptions.vertexai?(l.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:RE,l.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(l.apiVersion=(i=this.clientOptions.apiVersion)!==null&&i!==void 0?i:IE,l.baseUrl="https://generativelanguage.googleapis.com/"),l.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=l,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(l,t.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const i=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&i.push(t.apiVersion),i.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),n=new URL(t);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,n,i){const l=[this.getRequestUrlInternal(n)];return i&&l.push(this.getBaseResourcePath()),t!==""&&l.push(t),new URL(`${l.join("/")}`)}shouldPrependVertexProjectPath(t){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),l=this.constructUrl(t.path,n,i);if(t.queryParams)for(const[o,r]of Object.entries(t.queryParams))l.searchParams.append(o,String(r));let a={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else a.body=t.body;return a=await this.includeExtraHttpOptionsToRequestInit(a,n,l.toString(),t.abortSignal),this.unaryApiCall(l,a,t.httpMethod)}patchHttpOptions(t,n){const i=JSON.parse(JSON.stringify(t));for(const[l,a]of Object.entries(n))typeof a=="object"?i[l]=Object.assign(Object.assign({},i[l]),a):a!==void 0&&(i[l]=a);return i}async requestStream(t){let n=this.clientOptions.httpOptions;t.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const i=this.shouldPrependVertexProjectPath(t),l=this.constructUrl(t.path,n,i);(!l.searchParams.has("alt")||l.searchParams.get("alt")!=="sse")&&l.searchParams.set("alt","sse");let a={};return a.body=t.body,a=await this.includeExtraHttpOptionsToRequestInit(a,n,l.toString(),t.abortSignal),this.streamApiCall(l,a,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,n,i,l){if(n&&n.timeout||l){const a=new AbortController,o=a.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const r=setTimeout(()=>a.abort(),n.timeout);r&&typeof r.unref=="function"&&r.unref()}l&&l.addEventListener("abort",()=>{a.abort()}),t.signal=o}return n&&n.extraBody!==null&&UE(t,n.extraBody),t.headers=await this.getHeadersInternal(n,i),t}async unaryApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async l=>(await Yp(l),new pu(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}async streamApiCall(t,n,i){return this.apiCall(t.toString(),Object.assign(Object.assign({},n),{method:i})).then(async l=>(await Yp(l),this.processStreamResponse(l))).catch(l=>{throw l instanceof Error?l:new Error(JSON.stringify(l))})}processStreamResponse(t){return qt(this,arguments,function*(){var i;const l=(i=t==null?void 0:t.body)===null||i===void 0?void 0:i.getReader(),a=new TextDecoder("utf-8");if(!l)throw new Error("Response body is empty");try{let o="";const r="data:",d=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:f,value:p}=yield W(l.read());if(f){if(o.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=a.decode(p,{stream:!0});try{const b=JSON.parse(m);if("error"in b){const S=JSON.parse(JSON.stringify(b.error)),_=S.status,y=S.code,x=`got status: ${_}. ${JSON.stringify(b)}`;if(y>=400&&y<600)throw new ms({message:x,status:y})}}catch(b){if(b.name==="ApiError")throw b}o+=m;let h=-1,g=0;for(;;){h=-1,g=0;for(const _ of d){const y=o.indexOf(_);y!==-1&&(h===-1||y<h)&&(h=y,g=_.length)}if(h===-1)break;const b=o.substring(0,h);o=o.substring(h+g);const S=b.trim();if(S.startsWith(r)){const _=S.substring(r.length).trim();try{const y=new Response(_,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield W(new pu(y))}catch(y){throw new Error(`exception parsing stream chunk ${_}. ${y}`)}}}}}finally{l.releaseLock()}})}async apiCall(t,n){return fetch(t,n).catch(i=>{throw new Error(`exception ${i} sending request`)})}getDefaultHeaders(){const t={},n=kE+" "+this.clientOptions.userAgentExtra;return t[AE]=n,t[xu]=n,t[CE]="application/json",t}async getHeadersInternal(t,n){const i=new Headers;if(t&&t.headers){for(const[l,a]of Object.entries(t.headers))i.append(l,a);t.timeout&&t.timeout>0&&i.append(NE,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(i,n),i}getFileName(t){var n;let i="";return typeof t=="string"&&(i=t.replace(/[/\\]+$/,""),i=(n=i.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),i}async uploadFile(t,n){var i;const l={};n!=null&&(l.mimeType=n.mimeType,l.name=n.name,l.displayName=n.displayName),l.name&&!l.name.startsWith("files/")&&(l.name=`files/${l.name}`);const a=this.clientOptions.uploader,o=await a.stat(t);l.sizeBytes=String(o.size);const r=(i=n==null?void 0:n.mimeType)!==null&&i!==void 0?i:o.type;if(r===void 0||r==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");l.mimeType=r;const d={file:l},f=this.getFileName(t),p=O("upload/v1beta/files",d._url),m=await this.fetchUploadUrl(p,l.sizeBytes,l.mimeType,f,d,n==null?void 0:n.httpOptions);return a.upload(t,m,this)}async uploadFileToFileSearchStore(t,n,i){var l;const a=this.clientOptions.uploader,o=await a.stat(n),r=String(o.size),d=(l=i==null?void 0:i.mimeType)!==null&&l!==void 0?l:o.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const f=`upload/v1beta/${t}:uploadToFileSearchStore`,p=this.getFileName(n),m={};i!=null&&Zg(i,m);const h=await this.fetchUploadUrl(f,r,d,p,m,i==null?void 0:i.httpOptions);return a.uploadToFileSearchStore(n,h,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,n,i,l,a,o){var r;let d={};o?d=o:d={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${i}`},l?{"X-Goog-Upload-File-Name":l}:{})};const f=await this.request({path:t,body:JSON.stringify(a),httpMethod:"POST",httpOptions:d});if(!f||!(f!=null&&f.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(r=f==null?void 0:f.headers)===null||r===void 0?void 0:r["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function Yp(e){var t;if(e===void 0)throw new Error("response is undefined");if(!e.ok){const n=e.status;let i;!((t=e.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?i=await e.json():i={error:{message:await e.text(),code:e.status,status:e.statusText}};const l=JSON.stringify(i);throw n>=400&&n<600?new ms({message:l,status:n}):new Error(l)}}function UE(e,t){if(!t||Object.keys(t).length===0)return;if(e.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof e.body=="string"&&e.body.length>0)try{const a=JSON.parse(e.body);if(typeof a=="object"&&a!==null&&!Array.isArray(a))n=a;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function i(a,o){const r=Object.assign({},a);for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d)){const f=o[d],p=r[d];f&&typeof f=="object"&&!Array.isArray(f)&&p&&typeof p=="object"&&!Array.isArray(p)?r[d]=i(p,f):(p&&f&&typeof p!=typeof f&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${d}". Original type: ${typeof p}, New type: ${typeof f}. Overwriting.`),r[d]=f)}return r}const l=i(n,t);e.body=JSON.stringify(l)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zE="mcp_used/unknown";let LE=!1;function Wg(e){for(const t of e)if(jE(t)||typeof t=="object"&&"inputSchema"in t)return!0;return LE}function ey(e){var t;const n=(t=e[xu])!==null&&t!==void 0?t:"";e[xu]=(n+` ${zE}`).trimStart()}function jE(e){return e!==null&&typeof e=="object"&&e instanceof Hc}function GE(e){return qt(this,arguments,function*(n,i=100){let l,a=0;for(;a<i;){const o=yield W(n.listTools({cursor:l}));for(const r of o.tools)yield yield W(r),a++;if(!o.nextCursor)break;l=o.nextCursor}})}class Hc{constructor(t=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=n}static create(t,n){return new Hc(t,n)}async initialize(){var t,n,i,l;if(this.mcpTools.length>0)return;const a={},o=[];for(const p of this.mcpClients)try{for(var r=!0,d=(n=void 0,Vt(GE(p))),f;f=await d.next(),t=f.done,!t;r=!0){l=f.value,r=!1;const m=l;o.push(m);const h=m.name;if(a[h])throw new Error(`Duplicate function name ${h} found in MCP tools. Please ensure function names are unique.`);a[h]=p}}catch(m){n={error:m}}finally{try{!r&&!t&&(i=d.return)&&await i.call(d)}finally{if(n)throw n.error}}this.mcpTools=o,this.functionNameToMcpClient=a}async tool(){return await this.initialize(),gS(this.mcpTools,this.config)}async callTool(t){await this.initialize();const n=[];for(const i of t)if(i.name in this.functionNameToMcpClient){const l=this.functionNameToMcpClient[i.name];let a;this.config.timeout&&(a={timeout:this.config.timeout});const o=await l.callTool({name:i.name,arguments:i.args},void 0,a);n.push({functionResponse:{name:i.name,response:o.isError?{error:o}:o}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function HE(e,t,n){const i=new rS;let l;n.data instanceof Blob?l=JSON.parse(await n.data.text()):l=JSON.parse(n.data),Object.assign(i,l),t(i)}class PE{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i}async connect(t){var n,i;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const l=this.apiClient.getWebsocketBaseUrl(),a=this.apiClient.getApiVersion(),o=BE(this.apiClient.getDefaultHeaders()),r=this.apiClient.getApiKey(),d=`${l}/ws/google.ai.generativelanguage.${a}.GenerativeService.BidiGenerateMusic?key=${r}`;let f=()=>{};const p=new Promise(v=>{f=v}),m=t.callbacks,h=function(){f({})},g=this.apiClient,b={onopen:h,onmessage:v=>{HE(g,m.onmessage,v)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(v){},onclose:(i=m==null?void 0:m.onclose)!==null&&i!==void 0?i:function(v){}},S=this.webSocketFactory.create(d,VE(o),b);S.connect(),await p;const x={setup:{model:de(this.apiClient,t.model)}};return S.send(JSON.stringify(x)),new qE(S,this.apiClient)}}class qE{constructor(t,n){this.conn=t,this.apiClient=n}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=p_(t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const n=f_(t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(t){const n={playbackControl:t};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Gi.PLAY)}pause(){this.sendPlaybackControl(Gi.PAUSE)}stop(){this.sendPlaybackControl(Gi.STOP)}resetContext(){this.sendPlaybackControl(Gi.RESET_CONTEXT)}close(){this.conn.close()}}function VE(e){const t={};return e.forEach((n,i)=>{t[i]=n}),t}function BE(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const OE="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function FE(e,t,n){const i=new sS;let l;n.data instanceof Blob?l=await n.data.text():n.data instanceof ArrayBuffer?l=new TextDecoder().decode(n.data):l=n.data;const a=JSON.parse(l);if(e.isVertexAI()){const o=g_(a);Object.assign(i,o)}else Object.assign(i,a);t(i)}class YE{constructor(t,n,i){this.apiClient=t,this.auth=n,this.webSocketFactory=i,this.music=new PE(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var n,i,l,a,o,r;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const d=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion();let p;const m=this.apiClient.getHeaders();t.config&&t.config.tools&&Wg(t.config.tools)&&ey(m);const h=XE(m);if(this.apiClient.isVertexAI())p=`${d}/ws/google.cloud.aiplatform.${f}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(h,p);else{const M=this.apiClient.getApiKey();let w="BidiGenerateContent",I="key";M!=null&&M.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),f!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),w="BidiGenerateContentConstrained",I="access_token"),p=`${d}/ws/google.ai.generativelanguage.${f}.GenerativeService.${w}?${I}=${M}`}let g=()=>{};const b=new Promise(M=>{g=M}),S=t.callbacks,_=function(){var M;(M=S==null?void 0:S.onopen)===null||M===void 0||M.call(S),g({})},y=this.apiClient,x={onopen:_,onmessage:M=>{FE(y,S.onmessage,M)},onerror:(n=S==null?void 0:S.onerror)!==null&&n!==void 0?n:function(M){},onclose:(i=S==null?void 0:S.onclose)!==null&&i!==void 0?i:function(M){}},v=this.webSocketFactory.create(p,KE(h),x);v.connect(),await b;let T=de(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&T.startsWith("publishers/")){const M=this.apiClient.getProject(),w=this.apiClient.getLocation();T=`projects/${M}/locations/${w}/`+T}let A={};this.apiClient.isVertexAI()&&((l=t.config)===null||l===void 0?void 0:l.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[fi.AUDIO]}:t.config.responseModalities=[fi.AUDIO]),!((a=t.config)===null||a===void 0)&&a.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const L=(r=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&r!==void 0?r:[],C=[];for(const M of L)if(this.isCallableTool(M)){const w=M;C.push(await w.tool())}else C.push(M);C.length>0&&(t.config.tools=C);const R={model:T,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?A=d_(this.apiClient,R):A=c_(this.apiClient,R),delete A.config,v.send(JSON.stringify(A)),new $E(v,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const JE={turnComplete:!0};class $E{constructor(t,n){this.conn=t,this.apiClient=n}tLiveClientContent(t,n){if(n.turns!==null&&n.turns!==void 0){let i=[];try{i=Dt(n.turns),t.isVertexAI()||(i=i.map(l=>gs(l)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:i,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(t,n){let i=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?i=n.functionResponses:i=[n.functionResponses],i.length===0)throw new Error("functionResponses is required.");for(const a of i){if(typeof a!="object"||a===null||!("name"in a)||!("response"in a))throw new Error(`Could not parse function response, type '${typeof a}'.`);if(!t.isVertexAI()&&!("id"in a))throw new Error(OE)}return{toolResponse:{functionResponses:i}}}sendClientContent(t){t=Object.assign(Object.assign({},JE),t);const n=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendRealtimeInput(t){let n={};this.apiClient.isVertexAI()?n={realtimeInput:m_(t)}:n={realtimeInput:h_(t)},this.conn.send(JSON.stringify(n))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function KE(e){const t={};return e.forEach((n,i)=>{t[i]=n}),t}function XE(e){const t=new Headers;for(const[n,i]of Object.entries(e))t.append(n,i);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jp=10;function $p(e){var t,n,i;if(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let l=!1;for(const o of(n=e==null?void 0:e.tools)!==null&&n!==void 0?n:[])if($i(o)){l=!0;break}if(!l)return!0;const a=(i=e==null?void 0:e.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls;return a&&(a<0||!Number.isInteger(a))||a==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",a),!0):!1}function $i(e){return"callTool"in e&&typeof e.callTool=="function"}function QE(e){var t,n,i;return(i=(n=(t=e.config)===null||t===void 0?void 0:t.tools)===null||n===void 0?void 0:n.some(l=>$i(l)))!==null&&i!==void 0?i:!1}function Kp(e){var t;const n=[];return!((t=e==null?void 0:e.config)===null||t===void 0)&&t.tools&&e.config.tools.forEach((i,l)=>{if($i(i))return;const a=i;a.functionDeclarations&&a.functionDeclarations.length>0&&n.push(l)}),n}function Xp(e){var t;return!(!((t=e==null?void 0:e.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ZE extends vn{constructor(t){super(),this.apiClient=t,this.generateContent=async n=>{var i,l,a,o,r;const d=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!QE(n)||$p(n.config))return await this.generateContentInternal(d);const f=Kp(n);if(f.length>0){const S=f.map(_=>`tools[${_}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${S}.`)}let p,m;const h=Dt(d.contents),g=(a=(l=(i=d.config)===null||i===void 0?void 0:i.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&a!==void 0?a:Jp;let b=0;for(;b<g&&(p=await this.generateContentInternal(d),!(!p.functionCalls||p.functionCalls.length===0));){const S=p.candidates[0].content,_=[];for(const y of(r=(o=n.config)===null||o===void 0?void 0:o.tools)!==null&&r!==void 0?r:[])if($i(y)){const v=await y.callTool(p.functionCalls);_.push(...v)}b++,m={role:"user",parts:_},d.contents=Dt(d.contents),d.contents.push(S),d.contents.push(m),Xp(d.config)&&(h.push(S),h.push(m))}return Xp(d.config)&&(p.automaticFunctionCallingHistory=h),p},this.generateContentStream=async n=>{var i,l,a,o,r;if(this.maybeMoveToResponseJsonSchem(n),$p(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const d=Kp(n);if(d.length>0){const m=d.map(h=>`tools[${h}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const f=(a=(l=(i=n==null?void 0:n.config)===null||i===void 0?void 0:i.toolConfig)===null||l===void 0?void 0:l.functionCallingConfig)===null||a===void 0?void 0:a.streamFunctionCallArguments,p=(r=(o=n==null?void 0:n.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||r===void 0?void 0:r.disable;if(f&&!p)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(i=>{var l;let a;const o=[];if(i!=null&&i.generatedImages)for(const d of i.generatedImages)d&&(d!=null&&d.safetyAttributes)&&((l=d==null?void 0:d.safetyAttributes)===null||l===void 0?void 0:l.contentType)==="Positive Prompt"?a=d==null?void 0:d.safetyAttributes:o.push(d);let r;return a?r={generatedImages:o,positivePromptSafetyAttributes:a,sdkHttpResponse:i.sdkHttpResponse}:r={generatedImages:o,sdkHttpResponse:i.sdkHttpResponse},r}),this.list=async n=>{var i;const o={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!o.config.queryBase){if(!((i=o.config)===null||i===void 0)&&i.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");o.config.filter="labels.tune-type:*"}return new vi(yn.PAGED_ITEM_MODELS,r=>this.listInternal(r),await this.listInternal(o),o)},this.editImage=async n=>{const i={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(i.referenceImages=n.referenceImages.map(l=>l.toReferenceImageAPI())),await this.editImageInternal(i)},this.upscaleImage=async n=>{let i={numberOfImages:1,mode:"upscale"};n.config&&(i=Object.assign(Object.assign({},i),n.config));const l={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:i};return await this.upscaleImageInternal(l)},this.generateVideos=async n=>{var i,l,a,o,r,d;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((i=n.video)===null||i===void 0)&&i.uri&&(!((l=n.video)===null||l===void 0)&&l.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((o=(a=n.source)===null||a===void 0?void 0:a.video)===null||o===void 0)&&o.uri&&(!((d=(r=n.source)===null||r===void 0?void 0:r.video)===null||d===void 0)&&d.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var n,i,l;const a=(n=t.config)===null||n===void 0?void 0:n.tools;if(!a)return t;const o=await Promise.all(a.map(async d=>$i(d)?await d.tool():d)),r={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:o})};if(r.config.tools=o,t.config&&t.config.tools&&Wg(t.config.tools)){const d=(l=(i=t.config.httpOptions)===null||i===void 0?void 0:i.headers)!==null&&l!==void 0?l:{};let f=Object.assign({},d);Object.keys(f).length===0&&(f=this.apiClient.getDefaultHeaders()),ey(f),r.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:f})}return r}async initAfcToolsMap(t){var n,i,l;const a=new Map;for(const o of(i=(n=t.config)===null||n===void 0?void 0:n.tools)!==null&&i!==void 0?i:[])if($i(o)){const r=o,d=await r.tool();for(const f of(l=d.functionDeclarations)!==null&&l!==void 0?l:[]){if(!f.name)throw new Error("Function declaration name is required.");if(a.has(f.name))throw new Error(`Duplicate tool declaration name: ${f.name}`);a.set(f.name,r)}}return a}async processAfcStream(t){var n,i,l;const a=(l=(i=(n=t.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&l!==void 0?l:Jp;let o=!1,r=0;const d=await this.initAfcToolsMap(t);return function(f,p,m){return qt(this,arguments,function*(){for(var h,g,b,S,_,y;r<a;){o&&(r++,o=!1);const A=yield W(f.processParamsMaybeAddMcpUsage(m)),L=yield W(f.generateContentStreamInternal(A)),C=[],R=[];try{for(var x=!0,v=(g=void 0,Vt(L)),T;T=yield W(v.next()),h=T.done,!h;x=!0){S=T.value,x=!1;const M=S;if(yield yield W(M),M.candidates&&(!((_=M.candidates[0])===null||_===void 0)&&_.content)){R.push(M.candidates[0].content);for(const w of(y=M.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(r<a&&w.functionCall){if(!w.functionCall.name)throw new Error("Function call name was not returned by the model.");if(p.has(w.functionCall.name)){const I=yield W(p.get(w.functionCall.name).callTool([w.functionCall]));C.push(...I)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${p.keys()}, mising tool: ${w.functionCall.name}`)}}}}catch(M){g={error:M}}finally{try{!x&&!h&&(b=v.return)&&(yield W(b.call(v)))}finally{if(g)throw g.error}}if(C.length>0){o=!0;const M=new Cl;M.candidates=[{content:{role:"user",parts:C}}],yield yield W(M);const w=[];w.push(...R),w.push({role:"user",parts:C});const I=Dt(m.contents).concat(w);m.contents=I}else break}})}(this,d,t)}async generateContentInternal(t){var n,i,l,a;let o,r="",d={};if(this.apiClient.isVertexAI()){const f=Bp(this.apiClient,t);return r=O("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=Fp(p),h=new Cl;return Object.assign(h,m),h})}else{const f=Vp(this.apiClient,t);return r=O("{model}:generateContent",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=Op(p),h=new Cl;return Object.assign(h,m),h})}}async generateContentStreamInternal(t){var n,i,l,a;let o,r="",d={};if(this.apiClient.isVertexAI()){const f=Bp(this.apiClient,t);return r=O("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.requestStream({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}),o.then(function(m){return qt(this,arguments,function*(){var h,g,b,S;try{for(var _=!0,y=Vt(m),x;x=yield W(y.next()),h=x.done,!h;_=!0){S=x.value,_=!1;const v=S,T=Fp(yield W(v.json()));T.sdkHttpResponse={headers:v.headers};const A=new Cl;Object.assign(A,T),yield yield W(A)}}catch(v){g={error:v}}finally{try{!_&&!h&&(b=y.return)&&(yield W(b.call(y)))}finally{if(g)throw g.error}}})})}else{const f=Vp(this.apiClient,t);return r=O("{model}:streamGenerateContent?alt=sse",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.requestStream({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),o.then(function(m){return qt(this,arguments,function*(){var h,g,b,S;try{for(var _=!0,y=Vt(m),x;x=yield W(y.next()),h=x.done,!h;_=!0){S=x.value,_=!1;const v=S,T=Op(yield W(v.json()));T.sdkHttpResponse={headers:v.headers};const A=new Cl;Object.assign(A,T),yield yield W(A)}}catch(v){g={error:v}}finally{try{!_&&!h&&(b=y.return)&&(yield W(b.call(y)))}finally{if(g)throw g.error}}})})}}async embedContent(t){var n,i,l,a;let o,r="",d={};if(this.apiClient.isVertexAI()){const f=Y_(this.apiClient,t);return r=O("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=$_(p),h=new Ep;return Object.assign(h,m),h})}else{const f=F_(this.apiClient,t);return r=O("{model}:batchEmbedContents",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=J_(p),h=new Ep;return Object.assign(h,m),h})}}async generateImagesInternal(t){var n,i,l,a;let o,r="",d={};if(this.apiClient.isVertexAI()){const f=aw(this.apiClient,t);return r=O("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=sw(p),h=new Cp;return Object.assign(h,m),h})}else{const f=lw(this.apiClient,t);return r=O("{model}:predict",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=ow(p),h=new Cp;return Object.assign(h,m),h})}}async editImageInternal(t){var n,i;let l,a="",o={};if(this.apiClient.isVertexAI()){const r=q_(this.apiClient,t);return a=O("{model}:predict",r._url),o=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),l.then(d=>{const f=V_(d),p=new Xb;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var n,i;let l,a="",o={};if(this.apiClient.isVertexAI()){const r=aE(this.apiClient,t);return a=O("{model}:predict",r._url),o=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),l.then(d=>{const f=oE(d),p=new Qb;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var n,i;let l,a="",o={};if(this.apiClient.isVertexAI()){const r=Pw(this.apiClient,t);return a=O("{model}:predict",r._url),o=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const f=qw(d),p=new Zb;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var n,i;let l,a="",o={};if(this.apiClient.isVertexAI()){const r=Jw(this.apiClient,t);return a=O("{model}:predict",r._url),o=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const f=$w(d),p=new Wb;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var n,i,l,a;let o,r="",d={};if(this.apiClient.isVertexAI()){const f=ww(this.apiClient,t);return r=O("{name}",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>yu(p))}else{const f=_w(this.apiClient,t);return r=O("{name}",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>gu(p))}}async listInternal(t){var n,i,l,a;let o,r="",d={};if(this.apiClient.isVertexAI()){const f=Dw(this.apiClient,t);return r=O("{models_url}",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=zw(p),h=new Np;return Object.assign(h,m),h})}else{const f=Iw(this.apiClient,t);return r=O("{models_url}",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=Uw(p),h=new Np;return Object.assign(h,m),h})}}async update(t){var n,i,l,a;let o,r="",d={};if(this.apiClient.isVertexAI()){const f=iE(this.apiClient,t);return r=O("{model}",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>yu(p))}else{const f=nE(this.apiClient,t);return r=O("{name}",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"PATCH",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>gu(p))}}async delete(t){var n,i,l,a;let o,r="",d={};if(this.apiClient.isVertexAI()){const f=j_(this.apiClient,t);return r=O("{name}",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=H_(p),h=new Ap;return Object.assign(h,m),h})}else{const f=L_(this.apiClient,t);return r=O("{name}",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"DELETE",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=G_(p),h=new Ap;return Object.assign(h,m),h})}}async countTokens(t){var n,i,l,a;let o,r="",d={};if(this.apiClient.isVertexAI()){const f=D_(this.apiClient,t);return r=O("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=z_(p),h=new Mp;return Object.assign(h,m),h})}else{const f=I_(this.apiClient,t);return r=O("{model}:countTokens",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=U_(p),h=new Mp;return Object.assign(h,m),h})}}async computeTokens(t){var n,i;let l,a="",o={};if(this.apiClient.isVertexAI()){const r=E_(this.apiClient,t);return a=O("{model}:computeTokens",r._url),o=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),l.then(d=>{const f=C_(d),p=new eS;return Object.assign(p,f),p})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var n,i,l,a;let o,r="",d={};if(this.apiClient.isVertexAI()){const f=pw(this.apiClient,t);return r=O("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o.then(p=>{const m=dw(p),h=new Oo;return Object.assign(h,m),h})}else{const f=fw(this.apiClient,t);return r=O("{model}:predictLongRunning",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o.then(p=>{const m=cw(p),h=new Oo;return Object.assign(h,m),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class WE extends vn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:l,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async get(t){const n=t.operation,i=t.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const l=n.name.split("/operations/")[0];let a;i&&"httpOptions"in i&&(a=i.httpOptions);const o=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:l,config:{httpOptions:a}});return n._fromAPIResponse({apiResponse:o,_isVertexAI:!0})}else{const l=await this.getVideosOperationInternal({operationName:n.name,config:i});return n._fromAPIResponse({apiResponse:l,_isVertexAI:!1})}}async getVideosOperationInternal(t){var n,i,l,a;let o,r="",d={};if(this.apiClient.isVertexAI()){const f=Ob(t);return r=O("{operationName}",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json()),o}else{const f=Bb(t);return r=O("{operationName}",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json()),o}}async fetchPredictVideosOperationInternal(t){var n,i;let l,a="",o={};if(this.apiClient.isVertexAI()){const r=Lb(t);return a=O("{resourceName}:fetchPredictOperation",r._url),o=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eC(e){const t={},n=s(e,["data"]);if(n!=null&&c(t,["data"],n),s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const i=s(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function tC(e){const t={},n=s(e,["parts"]);if(n!=null){let l=n;Array.isArray(l)&&(l=l.map(a=>cC(a))),c(t,["parts"],l)}const i=s(e,["role"]);return i!=null&&c(t,["role"],i),t}function nC(e,t,n){const i={},l=s(t,["expireTime"]);n!==void 0&&l!=null&&c(n,["expireTime"],l);const a=s(t,["newSessionExpireTime"]);n!==void 0&&a!=null&&c(n,["newSessionExpireTime"],a);const o=s(t,["uses"]);n!==void 0&&o!=null&&c(n,["uses"],o);const r=s(t,["liveConnectConstraints"]);n!==void 0&&r!=null&&c(n,["bidiGenerateContentSetup"],uC(e,r));const d=s(t,["lockAdditionalFields"]);return n!==void 0&&d!=null&&c(n,["fieldMask"],d),i}function iC(e,t){const n={},i=s(t,["config"]);return i!=null&&c(n,["config"],nC(e,i,n)),n}function lC(e){const t={};if(s(e,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=s(e,["fileUri"]);n!=null&&c(t,["fileUri"],n);const i=s(e,["mimeType"]);return i!=null&&c(t,["mimeType"],i),t}function aC(e){const t={},n=s(e,["id"]);n!=null&&c(t,["id"],n);const i=s(e,["args"]);i!=null&&c(t,["args"],i);const l=s(e,["name"]);if(l!=null&&c(t,["name"],l),s(e,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(s(e,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function oC(e){const t={};if(s(e,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=s(e,["enableWidget"]);return n!=null&&c(t,["enableWidget"],n),t}function sC(e){const t={};if(s(e,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(s(e,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=s(e,["timeRangeFilter"]);return n!=null&&c(t,["timeRangeFilter"],n),t}function rC(e,t){const n={},i=s(e,["generationConfig"]);t!==void 0&&i!=null&&c(t,["setup","generationConfig"],i);const l=s(e,["responseModalities"]);t!==void 0&&l!=null&&c(t,["setup","generationConfig","responseModalities"],l);const a=s(e,["temperature"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig","temperature"],a);const o=s(e,["topP"]);t!==void 0&&o!=null&&c(t,["setup","generationConfig","topP"],o);const r=s(e,["topK"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","topK"],r);const d=s(e,["maxOutputTokens"]);t!==void 0&&d!=null&&c(t,["setup","generationConfig","maxOutputTokens"],d);const f=s(e,["mediaResolution"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","mediaResolution"],f);const p=s(e,["seed"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","seed"],p);const m=s(e,["speechConfig"]);t!==void 0&&m!=null&&c(t,["setup","generationConfig","speechConfig"],Gc(m));const h=s(e,["thinkingConfig"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","thinkingConfig"],h);const g=s(e,["enableAffectiveDialog"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],g);const b=s(e,["systemInstruction"]);t!==void 0&&b!=null&&c(t,["setup","systemInstruction"],tC(Xe(b)));const S=s(e,["tools"]);if(t!==void 0&&S!=null){let L=yl(S);Array.isArray(L)&&(L=L.map(C=>fC(gl(C)))),c(t,["setup","tools"],L)}const _=s(e,["sessionResumption"]);t!==void 0&&_!=null&&c(t,["setup","sessionResumption"],dC(_));const y=s(e,["inputAudioTranscription"]);t!==void 0&&y!=null&&c(t,["setup","inputAudioTranscription"],y);const x=s(e,["outputAudioTranscription"]);t!==void 0&&x!=null&&c(t,["setup","outputAudioTranscription"],x);const v=s(e,["realtimeInputConfig"]);t!==void 0&&v!=null&&c(t,["setup","realtimeInputConfig"],v);const T=s(e,["contextWindowCompression"]);t!==void 0&&T!=null&&c(t,["setup","contextWindowCompression"],T);const A=s(e,["proactivity"]);if(t!==void 0&&A!=null&&c(t,["setup","proactivity"],A),s(e,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return n}function uC(e,t){const n={},i=s(t,["model"]);i!=null&&c(n,["setup","model"],de(e,i));const l=s(t,["config"]);return l!=null&&c(n,["config"],rC(l,n)),n}function cC(e){const t={},n=s(e,["mediaResolution"]);n!=null&&c(t,["mediaResolution"],n);const i=s(e,["codeExecutionResult"]);i!=null&&c(t,["codeExecutionResult"],i);const l=s(e,["executableCode"]);l!=null&&c(t,["executableCode"],l);const a=s(e,["fileData"]);a!=null&&c(t,["fileData"],lC(a));const o=s(e,["functionCall"]);o!=null&&c(t,["functionCall"],aC(o));const r=s(e,["functionResponse"]);r!=null&&c(t,["functionResponse"],r);const d=s(e,["inlineData"]);d!=null&&c(t,["inlineData"],eC(d));const f=s(e,["text"]);f!=null&&c(t,["text"],f);const p=s(e,["thought"]);p!=null&&c(t,["thought"],p);const m=s(e,["thoughtSignature"]);m!=null&&c(t,["thoughtSignature"],m);const h=s(e,["videoMetadata"]);return h!=null&&c(t,["videoMetadata"],h),t}function dC(e){const t={},n=s(e,["handle"]);if(n!=null&&c(t,["handle"],n),s(e,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function fC(e){const t={};if(s(e,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const n=s(e,["computerUse"]);n!=null&&c(t,["computerUse"],n);const i=s(e,["fileSearch"]);i!=null&&c(t,["fileSearch"],i);const l=s(e,["codeExecution"]);if(l!=null&&c(t,["codeExecution"],l),s(e,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const a=s(e,["functionDeclarations"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(m=>m)),c(t,["functionDeclarations"],p)}const o=s(e,["googleMaps"]);o!=null&&c(t,["googleMaps"],oC(o));const r=s(e,["googleSearch"]);r!=null&&c(t,["googleSearch"],sC(r));const d=s(e,["googleSearchRetrieval"]);d!=null&&c(t,["googleSearchRetrieval"],d);const f=s(e,["urlContext"]);return f!=null&&c(t,["urlContext"],f),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pC(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const i=e[n];if(typeof i=="object"&&i!=null&&Object.keys(i).length>0){const l=Object.keys(i).map(a=>`${n}.${a}`);t.push(...l)}else t.push(n)}return t.join(",")}function hC(e,t){let n=null;const i=e.bidiGenerateContentSetup;if(typeof i=="object"&&i!==null&&"setup"in i){const a=i.setup;typeof a=="object"&&a!==null?(e.bidiGenerateContentSetup=a,n=a):delete e.bidiGenerateContentSetup}else i!==void 0&&delete e.bidiGenerateContentSetup;const l=e.fieldMask;if(n){const a=pC(n);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)a?e.fieldMask=a:delete e.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&l!==null&&Array.isArray(l)&&l.length>0){const o=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let r=[];l.length>0&&(r=l.map(f=>o.includes(f)?`generationConfig.${f}`:f));const d=[];a&&d.push(a),r.length>0&&d.push(...r),d.length>0?e.fieldMask=d.join(","):delete e.fieldMask}else delete e.fieldMask}else l!==null&&Array.isArray(l)&&l.length>0?e.fieldMask=l.join(","):delete e.fieldMask;return e}class mC extends vn{constructor(t){super(),this.apiClient=t}async create(t){var n,i;let l,a="",o={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const r=iC(this.apiClient,t);a=O("auth_tokens",r._url),o=r._query,delete r.config,delete r._url,delete r._query;const d=hC(r,t.config);return l=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(f=>f.json()),l.then(f=>f)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gC(e,t){const n={},i=s(e,["force"]);return t!==void 0&&i!=null&&c(t,["_query","force"],i),n}function yC(e){const t={},n=s(e,["name"]);n!=null&&c(t,["_url","name"],n);const i=s(e,["config"]);return i!=null&&gC(i,t),t}function xC(e){const t={},n=s(e,["name"]);return n!=null&&c(t,["_url","name"],n),t}function vC(e,t){const n={},i=s(e,["pageSize"]);t!==void 0&&i!=null&&c(t,["_query","pageSize"],i);const l=s(e,["pageToken"]);return t!==void 0&&l!=null&&c(t,["_query","pageToken"],l),n}function bC(e){const t={},n=s(e,["parent"]);n!=null&&c(t,["_url","parent"],n);const i=s(e,["config"]);return i!=null&&vC(i,t),t}function SC(e){const t={},n=s(e,["sdkHttpResponse"]);n!=null&&c(t,["sdkHttpResponse"],n);const i=s(e,["nextPageToken"]);i!=null&&c(t,["nextPageToken"],i);const l=s(e,["documents"]);if(l!=null){let a=l;Array.isArray(a)&&(a=a.map(o=>o)),c(t,["documents"],a)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class TC extends vn{constructor(t){super(),this.apiClient=t,this.list=async n=>new vi(yn.PAGED_ITEM_DOCUMENTS,i=>this.listInternal({parent:n.parent,config:i.config}),await this.listInternal(n),n)}async get(t){var n,i;let l,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=xC(t);return a=O("{name}",r._url),o=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>d)}}async delete(t){var n,i;let l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=yC(t);l=O("{name}",o._url),a=o._query,delete o._url,delete o._query,await this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,i;let l,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=bC(t);return a=O("{parent}/documents",r._url),o=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const f=SC(d),p=new tS;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _C extends vn{constructor(t,n=new TC(t)){super(),this.apiClient=t,this.documents=n,this.list=async(i={})=>new vi(yn.PAGED_ITEM_FILE_SEARCH_STORES,l=>this.listInternal(l),await this.listInternal(i),i)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var n,i;let l,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=pE(t);return a=O("fileSearchStores",r._url),o=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>d)}}async get(t){var n,i;let l,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=gE(t);return a=O("{name}",r._url),o=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>d)}}async delete(t){var n,i;let l="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const o=mE(t);l=O("{name}",o._url),a=o._query,delete o._url,delete o._query,await this.apiClient.request({path:l,queryParams:a,body:JSON.stringify(o),httpMethod:"DELETE",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal})}}async listInternal(t){var n,i;let l,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=TE(t);return a=O("fileSearchStores",r._url),o=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(r),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const f=_E(d),p=new nS;return Object.assign(p,f),p})}}async uploadToFileSearchStoreInternal(t){var n,i;let l,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=wE(t);return a=O("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",r._url),o=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const f=EE(d),p=new iS;return Object.assign(p,f),p})}}async importFile(t){var n,i;let l,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=vE(t);return a=O("{file_search_store_name}:importFile",r._url),o=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json()),l.then(d=>{const f=xE(d),p=new Dc;return Object.assign(p,f),p})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let ty=function(){const{crypto:e}=globalThis;if(e!=null&&e.randomUUID)return ty=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,i=>(+i^n()&15>>+i/4).toString(16))};const wC=()=>ty();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vu(e){return typeof e=="object"&&e!==null&&("name"in e&&e.name==="AbortError"||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const bu=e=>{if(e instanceof Error)return e;if(typeof e=="object"&&e!==null){try{if(Object.prototype.toString.call(e)==="[object Error]"){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lt extends Error{}class nt extends Lt{constructor(t,n,i,l){super(`${nt.makeMessage(t,n,i)}`),this.status=t,this.headers=l,this.error=n}static makeMessage(t,n,i){const l=n!=null&&n.message?typeof n.message=="string"?n.message:JSON.stringify(n.message):n?JSON.stringify(n):i;return t&&l?`${t} ${l}`:t?`${t} status code (no body)`:l||"(no status code or body)"}static generate(t,n,i,l){if(!t||!l)return new vs({message:i,cause:bu(n)});const a=n;return t===400?new iy(t,a,i,l):t===401?new ly(t,a,i,l):t===403?new ay(t,a,i,l):t===404?new oy(t,a,i,l):t===409?new sy(t,a,i,l):t===422?new ry(t,a,i,l):t===429?new uy(t,a,i,l):t>=500?new cy(t,a,i,l):new nt(t,a,i,l)}}class Su extends nt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class vs extends nt{constructor({message:t,cause:n}){super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class ny extends vs{constructor({message:t}={}){super({message:t??"Request timed out."})}}class iy extends nt{}class ly extends nt{}class ay extends nt{}class oy extends nt{}class sy extends nt{}class ry extends nt{}class uy extends nt{}class cy extends nt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const EC=/^[a-z][a-z0-9+.-]*:/i,CC=e=>EC.test(e);let Tu=e=>(Tu=Array.isArray,Tu(e));const NC=Tu;let AC=NC;const Qp=AC;function MC(e){if(!e)return!0;for(const t in e)return!1;return!0}function kC(e,t){return Object.prototype.hasOwnProperty.call(e,t)}const RC=(e,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Lt(`${e} must be an integer`);if(t<0)throw new Lt(`${e} must be a positive integer`);return t},IC=e=>{try{return JSON.parse(e)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const DC=e=>new Promise(t=>setTimeout(t,e));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ei="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UC(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const zC=()=>{var e,t,n,i,l;const a=UC();if(a==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ei,"X-Stainless-OS":Wp(Deno.build.os),"X-Stainless-Arch":Zp(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(e=Deno.version)===null||e===void 0?void 0:e.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ei,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(a==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ei,"X-Stainless-OS":Wp((n=globalThis.process.platform)!==null&&n!==void 0?n:"unknown"),"X-Stainless-Arch":Zp((i=globalThis.process.arch)!==null&&i!==void 0?i:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(l=globalThis.process.version)!==null&&l!==void 0?l:"unknown"};const o=LC();return o?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ei,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${o.browser}`,"X-Stainless-Runtime-Version":o.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ei,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function LC(){if(typeof navigator>"u"||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const i=n.exec(navigator.userAgent);if(i){const l=i[1]||0,a=i[2]||0,o=i[3]||0;return{browser:t,version:`${l}.${a}.${o}`}}}return null}const Zp=e=>e==="x32"?"x32":e==="x86_64"||e==="x64"?"x64":e==="arm"?"arm":e==="aarch64"||e==="arm64"?"arm64":e?`other:${e}`:"unknown",Wp=e=>(e=e.toLowerCase(),e.includes("ios")?"iOS":e==="android"?"Android":e==="darwin"?"MacOS":e==="win32"?"Windows":e==="freebsd"?"FreeBSD":e==="openbsd"?"OpenBSD":e==="linux"?"Linux":e?`Other:${e}`:"Unknown");let Oa;const jC=()=>Oa??(Oa=zC());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GC(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function dy(...e){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...e)}function HC(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return dy({start(){},async pull(n){const{done:i,value:l}=await t.next();i?n.close():n.enqueue(l)},async cancel(){var n;await((n=t.return)===null||n===void 0?void 0:n.call(t))}})}function fy(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const n=await t.read();return n!=null&&n.done&&t.releaseLock(),n}catch(n){throw t.releaseLock(),n}},async return(){const n=t.cancel();return t.releaseLock(),await n,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function PC(e){var t,n;if(e===null||typeof e!="object")return;if(e[Symbol.asyncIterator]){await((n=(t=e[Symbol.asyncIterator]()).return)===null||n===void 0?void 0:n.call(t));return}const i=e.getReader(),l=i.cancel();i.releaseLock(),await l}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const qC=({headers:e,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const py=()=>{var e;if(typeof File>"u"){const{process:t}=globalThis,n=typeof((e=t==null?void 0:t.versions)===null||e===void 0?void 0:e.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(n?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function sr(e,t,n){return py(),new File(e,t??"unknown_file",n)}function VC(e){return(typeof e=="object"&&e!==null&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const BC=e=>e!=null&&typeof e=="object"&&typeof e[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hy=e=>e!=null&&typeof e=="object"&&typeof e.size=="number"&&typeof e.type=="string"&&typeof e.text=="function"&&typeof e.slice=="function"&&typeof e.arrayBuffer=="function",OC=e=>e!=null&&typeof e=="object"&&typeof e.name=="string"&&typeof e.lastModified=="number"&&hy(e),FC=e=>e!=null&&typeof e=="object"&&typeof e.url=="string"&&typeof e.blob=="function";async function YC(e,t,n){if(py(),e=await e,OC(e))return e instanceof File?e:sr([await e.arrayBuffer()],e.name);if(FC(e)){const l=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),sr(await _u(l),t,n)}const i=await _u(e);if(t||(t=VC(e)),!(n!=null&&n.type)){const l=i.find(a=>typeof a=="object"&&"type"in a&&a.type);typeof l=="string"&&(n=Object.assign(Object.assign({},n),{type:l}))}return sr(i,t,n)}async function _u(e){var t,n,i,l,a;let o=[];if(typeof e=="string"||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)o.push(e);else if(hy(e))o.push(e instanceof Blob?e:await e.arrayBuffer());else if(BC(e))try{for(var r=!0,d=Vt(e),f;f=await d.next(),t=f.done,!t;r=!0){l=f.value,r=!1;const p=l;o.push(...await _u(p))}}catch(p){n={error:p}}finally{try{!r&&!t&&(i=d.return)&&await i.call(d)}finally{if(n)throw n.error}}else{const p=(a=e==null?void 0:e.constructor)===null||a===void 0?void 0:a.name;throw new Error(`Unexpected data type: ${typeof e}${p?`; constructor: ${p}`:""}${JC(e)}`)}return o}function JC(e){return typeof e!="object"||e===null?"":`; props: [${Object.getOwnPropertyNames(e).map(n=>`"${n}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class my{constructor(t){this._client=t}}my._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function gy(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const eh=Object.freeze(Object.create(null)),$C=(e=gy)=>function(n,...i){if(n.length===1)return n[0];let l=!1;const a=[],o=n.reduce((p,m,h)=>{var g,b,S;/[?#]/.test(m)&&(l=!0);const _=i[h];let y=(l?encodeURIComponent:e)(""+_);return h!==i.length&&(_==null||typeof _=="object"&&_.toString===((S=Object.getPrototypeOf((b=Object.getPrototypeOf((g=_.hasOwnProperty)!==null&&g!==void 0?g:eh))!==null&&b!==void 0?b:eh))===null||S===void 0?void 0:S.toString))&&(y=_+"",a.push({start:p.length+m.length,length:y.length,error:`Value of type ${Object.prototype.toString.call(_).slice(8,-1)} is not a valid path parameter`})),p+m+(h===i.length?"":y)},""),r=o.split(/[?#]/,1)[0],d=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let f;for(;(f=d.exec(r))!==null;)a.push({start:f.index,length:f[0].length,error:`Value "${f[0]}" can't be safely passed as a path parameter`});if(a.sort((p,m)=>p.start-m.start),a.length>0){let p=0;const m=a.reduce((h,g)=>{const b=" ".repeat(g.start-p),S="^".repeat(g.length);return p=g.start+g.length,h+b+S},"");throw new Lt(`Path parameters result in path with invalid segments:
${a.map(h=>h.error).join(`
`)}
${o}
${m}`)}return o},Fa=$C(gy);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yy extends my{create(t,n){var i;const{api_version:l=this._client.apiVersion}=t,a=Yo(t,["api_version"]);if("model"in a&&"agent_config"in a)throw new Lt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in a&&"generation_config"in a)throw new Lt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Fa`/${l}/interactions`,Object.assign(Object.assign({body:a},n),{stream:(i=t.stream)!==null&&i!==void 0?i:!1}))}delete(t,n={},i){const{api_version:l=this._client.apiVersion}=n??{};return this._client.delete(Fa`/${l}/interactions/${t}`,i)}cancel(t,n={},i){const{api_version:l=this._client.apiVersion}=n??{};return this._client.post(Fa`/${l}/interactions/${t}/cancel`,i)}get(t,n={},i){var l;const a=n??{},{api_version:o=this._client.apiVersion}=a,r=Yo(a,["api_version"]);return this._client.get(Fa`/${o}/interactions/${t}`,Object.assign(Object.assign({query:r},i),{stream:(l=n==null?void 0:n.stream)!==null&&l!==void 0?l:!1}))}}yy._key=Object.freeze(["interactions"]);class xy extends yy{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function KC(e){let t=0;for(const l of e)t+=l.length;const n=new Uint8Array(t);let i=0;for(const l of e)n.set(l,i),i+=l.length;return n}let Ya;function Pc(e){let t;return(Ya??(t=new globalThis.TextEncoder,Ya=t.encode.bind(t)))(e)}let Ja;function th(e){let t;return(Ja??(t=new globalThis.TextDecoder,Ja=t.decode.bind(t)))(e)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bs{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const n=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Pc(t):t;this.buffer=KC([this.buffer,n]);const i=[];let l;for(;(l=XC(this.buffer,this.carriageReturnIndex))!=null;){if(l.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=l.index;continue}if(this.carriageReturnIndex!=null&&(l.index!==this.carriageReturnIndex+1||l.carriage)){i.push(th(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const a=this.carriageReturnIndex!==null?l.preceding-1:l.preceding,o=th(this.buffer.subarray(0,a));i.push(o),this.buffer=this.buffer.subarray(l.index),this.carriageReturnIndex=null}return i}flush(){return this.buffer.length?this.decode(`
`):[]}}bs.NEWLINE_CHARS=new Set([`
`,"\r"]);bs.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function XC(e,t){for(let l=t??0;l<e.length;l++){if(e[l]===10)return{preceding:l,index:l+1,carriage:!1};if(e[l]===13)return{preceding:l,index:l+1,carriage:!0}}return null}function QC(e){for(let i=0;i<e.length-1;i++){if(e[i]===10&&e[i+1]===10||e[i]===13&&e[i+1]===13)return i+2;if(e[i]===13&&e[i+1]===10&&i+3<e.length&&e[i+2]===13&&e[i+3]===10)return i+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Jo={off:0,error:200,warn:300,info:400,debug:500},nh=(e,t,n)=>{if(e){if(kC(Jo,e))return e;Ze(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Jo))}`)}};function Dl(){}function $a(e,t,n){return!t||Jo[e]>Jo[n]?Dl:t[e].bind(t)}const ZC={error:Dl,warn:Dl,info:Dl,debug:Dl};let ih=new WeakMap;function Ze(e){var t;const n=e.logger,i=(t=e.logLevel)!==null&&t!==void 0?t:"off";if(!n)return ZC;const l=ih.get(n);if(l&&l[0]===i)return l[1];const a={error:$a("error",n,i),warn:$a("warn",n,i),info:$a("info",n,i),debug:$a("debug",n,i)};return ih.set(n,[i,a]),a}const ei=e=>(e.options&&(e.options=Object.assign({},e.options),delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map(([t,n])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":n]))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hi{constructor(t,n,i){this.iterator=t,this.controller=n,this.client=i}static fromSSEResponse(t,n,i){let l=!1;const a=i?Ze(i):console;function o(){return qt(this,arguments,function*(){var d,f,p,m;if(l)throw new Lt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let h=!1;try{try{for(var g=!0,b=Vt(WC(t,n)),S;S=yield W(b.next()),d=S.done,!d;g=!0){m=S.value,g=!1;const _=m;if(!h)if(_.data.startsWith("[DONE]")){h=!0;continue}else try{yield yield W(JSON.parse(_.data))}catch(y){throw a.error("Could not parse message into JSON:",_.data),a.error("From chunk:",_.raw),y}}}catch(_){f={error:_}}finally{try{!g&&!d&&(p=b.return)&&(yield W(p.call(b)))}finally{if(f)throw f.error}}h=!0}catch(_){if(vu(_))return yield W(void 0);throw _}finally{h||n.abort()}})}return new Hi(o,n,i)}static fromReadableStream(t,n,i){let l=!1;function a(){return qt(this,arguments,function*(){var d,f,p,m;const h=new bs,g=fy(t);try{for(var b=!0,S=Vt(g),_;_=yield W(S.next()),d=_.done,!d;b=!0){m=_.value,b=!1;const y=m;for(const x of h.decode(y))yield yield W(x)}}catch(y){f={error:y}}finally{try{!b&&!d&&(p=S.return)&&(yield W(p.call(S)))}finally{if(f)throw f.error}}for(const y of h.flush())yield yield W(y)})}function o(){return qt(this,arguments,function*(){var d,f,p,m;if(l)throw new Lt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");l=!0;let h=!1;try{try{for(var g=!0,b=Vt(a()),S;S=yield W(b.next()),d=S.done,!d;g=!0){m=S.value,g=!1;const _=m;h||_&&(yield yield W(JSON.parse(_)))}}catch(_){f={error:_}}finally{try{!g&&!d&&(p=b.return)&&(yield W(p.call(b)))}finally{if(f)throw f.error}}h=!0}catch(_){if(vu(_))return yield W(void 0);throw _}finally{h||n.abort()}})}return new Hi(o,n,i)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],n=[],i=this.iterator(),l=a=>({next:()=>{if(a.length===0){const o=i.next();t.push(o),n.push(o)}return a.shift()}});return[new Hi(()=>l(t),this.controller,this.client),new Hi(()=>l(n),this.controller,this.client)]}toReadableStream(){const t=this;let n;return dy({async start(){n=t[Symbol.asyncIterator]()},async pull(i){try{const{value:l,done:a}=await n.next();if(a)return i.close();const o=Pc(JSON.stringify(l)+`
`);i.enqueue(o)}catch(l){i.error(l)}},async cancel(){var i;await((i=n.return)===null||i===void 0?void 0:i.call(n))}})}}function WC(e,t){return qt(this,arguments,function*(){var i,l,a,o;if(!e.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Lt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Lt("Attempted to iterate over a response with no body");const r=new tN,d=new bs,f=fy(e.body);try{for(var p=!0,m=Vt(eN(f)),h;h=yield W(m.next()),i=h.done,!i;p=!0){o=h.value,p=!1;const g=o;for(const b of d.decode(g)){const S=r.decode(b);S&&(yield yield W(S))}}}catch(g){l={error:g}}finally{try{!p&&!i&&(a=m.return)&&(yield W(a.call(m)))}finally{if(l)throw l.error}}for(const g of d.flush()){const b=r.decode(g);b&&(yield yield W(b))}})}function eN(e){return qt(this,arguments,function*(){var n,i,l,a;let o=new Uint8Array;try{for(var r=!0,d=Vt(e),f;f=yield W(d.next()),n=f.done,!n;r=!0){a=f.value,r=!1;const p=a;if(p==null)continue;const m=p instanceof ArrayBuffer?new Uint8Array(p):typeof p=="string"?Pc(p):p;let h=new Uint8Array(o.length+m.length);h.set(o),h.set(m,o.length),o=h;let g;for(;(g=QC(o))!==-1;)yield yield W(o.slice(0,g)),o=o.slice(g)}}catch(p){i={error:p}}finally{try{!r&&!n&&(l=d.return)&&(yield W(l.call(d)))}finally{if(i)throw i.error}}o.length>0&&(yield yield W(o))})}class tN{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const a={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],a}if(this.chunks.push(t),t.startsWith(":"))return null;let[n,i,l]=nN(t,":");return l.startsWith(" ")&&(l=l.substring(1)),n==="event"?this.event=l:n==="data"&&this.data.push(l),null}}function nN(e,t){const n=e.indexOf(t);return n!==-1?[e.substring(0,n),t,e.substring(n+t.length)]:[e,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function iN(e,t){const{response:n,requestLogID:i,retryOfRequestLogID:l,startTime:a}=t,o=await(async()=>{var r;if(t.options.stream)return Ze(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller,e):Hi.fromSSEResponse(n,t.controller,e);if(n.status===204)return null;if(t.options.__binaryResponse)return n;const d=n.headers.get("content-type"),f=(r=d==null?void 0:d.split(";")[0])===null||r===void 0?void 0:r.trim();return(f==null?void 0:f.includes("application/json"))||(f==null?void 0:f.endsWith("+json"))?await n.json():await n.text()})();return Ze(e).debug(`[${i}] response parsed`,ei({retryOfRequestLogID:l,url:n.url,status:n.status,body:o,durationMs:Date.now()-a})),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qc extends Promise{constructor(t,n,i=iN){super(l=>{l(null)}),this.responsePromise=n,this.parseResponse=i,this.client=t}_thenUnwrap(t){return new qc(this.client,this.responsePromise,async(n,i)=>t(await this.parseResponse(n,i),i))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,n]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:n}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,n){return this.parse().then(t,n)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vy=Symbol("brand.privateNullableHeaders");function*lN(e){if(!e)return;if(vy in e){const{values:i,nulls:l}=e;yield*i.entries();for(const a of l)yield[a,null];return}let t=!1,n;e instanceof Headers?n=e.entries():Qp(e)?n=e:(t=!0,n=Object.entries(e??{}));for(let i of n){const l=i[0];if(typeof l!="string")throw new TypeError("expected header name to be a string");const a=Qp(i[1])?i[1]:[i[1]];let o=!1;for(const r of a)r!==void 0&&(t&&!o&&(o=!0,yield[l,null]),yield[l,r])}}const Nl=e=>{const t=new Headers,n=new Set;for(const i of e){const l=new Set;for(const[a,o]of lN(i)){const r=a.toLowerCase();l.has(r)||(t.delete(a),l.add(r)),o===null?(t.delete(a),n.add(r)):(t.append(a,o),n.delete(r))}}return{[vy]:!0,values:t,nulls:n}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rr=e=>{var t,n,i,l,a,o;if(typeof globalThis.process<"u")return(i=(n=(t=kb)===null||t===void 0?void 0:t[e])===null||n===void 0?void 0:n.trim())!==null&&i!==void 0?i:void 0;if(typeof globalThis.Deno<"u")return(o=(a=(l=globalThis.Deno.env)===null||l===void 0?void 0:l.get)===null||a===void 0?void 0:a.call(l,e))===null||o===void 0?void 0:o.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var by;class Ss{constructor(t){var n,i,l,a,o,r,d,{baseURL:f=rr("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:p=(n=rr("GEMINI_API_KEY"))!==null&&n!==void 0?n:null,apiVersion:m="v1beta"}=t,h=Yo(t,["baseURL","apiKey","apiVersion"]);const g=Object.assign(Object.assign({apiKey:p,apiVersion:m},h),{baseURL:f||"https://generativelanguage.googleapis.com"});this.baseURL=g.baseURL,this.timeout=(i=g.timeout)!==null&&i!==void 0?i:Ss.DEFAULT_TIMEOUT,this.logger=(l=g.logger)!==null&&l!==void 0?l:console;const b="warn";this.logLevel=b,this.logLevel=(o=(a=nh(g.logLevel,"ClientOptions.logLevel",this))!==null&&a!==void 0?a:nh(rr("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&o!==void 0?o:b,this.fetchOptions=g.fetchOptions,this.maxRetries=(r=g.maxRetries)!==null&&r!==void 0?r:2,this.fetch=(d=g.fetch)!==null&&d!==void 0?d:GC(),this.encoder=qC,this._options=g,this.apiKey=p,this.apiVersion=m,this.clientAdapter=g.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:n}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!n.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const n=Nl([t.headers]);if(!(n.values.has("authorization")||n.values.has("x-goog-api-key"))){if(this.apiKey)return Nl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return Nl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([n,i])=>typeof i<"u").map(([n,i])=>{if(typeof i=="string"||typeof i=="number"||typeof i=="boolean")return`${encodeURIComponent(n)}=${encodeURIComponent(i)}`;if(i===null)return`${encodeURIComponent(n)}=`;throw new Lt(`Cannot stringify type ${typeof i}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${Ei}`}defaultIdempotencyKey(){return`stainless-node-retry-${wC()}`}makeStatusError(t,n,i,l){return nt.generate(t,n,i,l)}buildURL(t,n,i){const l=!this.baseURLOverridden()&&i||this.baseURL,a=CC(t)?new URL(t):new URL(l+(l.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),o=this.defaultQuery();return MC(o)||(n=Object.assign(Object.assign({},o),n)),typeof n=="object"&&n&&!Array.isArray(n)&&(a.search=this.stringifyQuery(n)),a.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const n=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${n}`}}async prepareRequest(t,{url:n,options:i}){}get(t,n){return this.methodRequest("get",t,n)}post(t,n){return this.methodRequest("post",t,n)}patch(t,n){return this.methodRequest("patch",t,n)}put(t,n){return this.methodRequest("put",t,n)}delete(t,n){return this.methodRequest("delete",t,n)}methodRequest(t,n,i){return this.request(Promise.resolve(i).then(l=>Object.assign({method:t,path:n},l)))}request(t,n=null){return new qc(this,this.makeRequest(t,n,void 0))}async makeRequest(t,n,i){var l,a,o;const r=await t,d=(l=r.maxRetries)!==null&&l!==void 0?l:this.maxRetries;n==null&&(n=d),await this.prepareOptions(r);const{req:f,url:p,timeout:m}=await this.buildRequest(r,{retryCount:d-n});await this.prepareRequest(f,{url:p,options:r});const h="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),g=i===void 0?"":`, retryOf: ${i}`,b=Date.now();if(Ze(this).debug(`[${h}] sending request`,ei({retryOfRequestLogID:i,method:r.method,url:p,options:r,headers:f.headers})),!((a=r.signal)===null||a===void 0)&&a.aborted)throw new Su;const S=new AbortController,_=await this.fetchWithTimeout(p,f,m,S).catch(bu),y=Date.now();if(_ instanceof globalThis.Error){const v=`retrying, ${n} attempts remaining`;if(!((o=r.signal)===null||o===void 0)&&o.aborted)throw new Su;const T=vu(_)||/timed? ?out/i.test(String(_)+("cause"in _?String(_.cause):""));if(n)return Ze(this).info(`[${h}] connection ${T?"timed out":"failed"} - ${v}`),Ze(this).debug(`[${h}] connection ${T?"timed out":"failed"} (${v})`,ei({retryOfRequestLogID:i,url:p,durationMs:y-b,message:_.message})),this.retryRequest(r,n,i??h);throw Ze(this).info(`[${h}] connection ${T?"timed out":"failed"} - error; no more retries left`),Ze(this).debug(`[${h}] connection ${T?"timed out":"failed"} (error; no more retries left)`,ei({retryOfRequestLogID:i,url:p,durationMs:y-b,message:_.message})),T?new ny:new vs({cause:_})}const x=`[${h}${g}] ${f.method} ${p} ${_.ok?"succeeded":"failed"} with status ${_.status} in ${y-b}ms`;if(!_.ok){const v=await this.shouldRetry(_);if(n&&v){const M=`retrying, ${n} attempts remaining`;return await PC(_.body),Ze(this).info(`${x} - ${M}`),Ze(this).debug(`[${h}] response error (${M})`,ei({retryOfRequestLogID:i,url:_.url,status:_.status,headers:_.headers,durationMs:y-b})),this.retryRequest(r,n,i??h,_.headers)}const T=v?"error; no more retries left":"error; not retryable";Ze(this).info(`${x} - ${T}`);const A=await _.text().catch(M=>bu(M).message),L=IC(A),C=L?void 0:A;throw Ze(this).debug(`[${h}] response error (${T})`,ei({retryOfRequestLogID:i,url:_.url,status:_.status,headers:_.headers,message:C,durationMs:Date.now()-b})),this.makeStatusError(_.status,L,C,_.headers)}return Ze(this).info(x),Ze(this).debug(`[${h}] response start`,ei({retryOfRequestLogID:i,url:_.url,status:_.status,headers:_.headers,durationMs:y-b})),{response:_,options:r,controller:S,requestLogID:h,retryOfRequestLogID:i,startTime:b}}async fetchWithTimeout(t,n,i,l){const a=n||{},{signal:o,method:r}=a,d=Yo(a,["signal","method"]);o&&o.addEventListener("abort",()=>l.abort());const f=setTimeout(()=>l.abort(),i),p=globalThis.ReadableStream&&d.body instanceof globalThis.ReadableStream||typeof d.body=="object"&&d.body!==null&&Symbol.asyncIterator in d.body,m=Object.assign(Object.assign(Object.assign({signal:l.signal},p?{duplex:"half"}:{}),{method:"GET"}),d);r&&(m.method=r.toUpperCase());try{return await this.fetch.call(void 0,t,m)}finally{clearTimeout(f)}}async shouldRetry(t){const n=t.headers.get("x-should-retry");return n==="true"?!0:n==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,n,i,l){var a;let o;const r=l==null?void 0:l.get("retry-after-ms");if(r){const f=parseFloat(r);Number.isNaN(f)||(o=f)}const d=l==null?void 0:l.get("retry-after");if(d&&!o){const f=parseFloat(d);Number.isNaN(f)?o=Date.parse(d)-Date.now():o=f*1e3}if(!(o&&0<=o&&o<60*1e3)){const f=(a=t.maxRetries)!==null&&a!==void 0?a:this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(n,f)}return await DC(o),this.makeRequest(t,n-1,i)}calculateDefaultRetryTimeoutMillis(t,n){const a=n-t,o=Math.min(.5*Math.pow(2,a),8),r=1-Math.random()*.25;return o*r*1e3}async buildRequest(t,{retryCount:n=0}={}){var i,l,a;const o=Object.assign({},t),{method:r,path:d,query:f,defaultBaseURL:p}=o,m=this.buildURL(d,f,p);"timeout"in o&&RC("timeout",o.timeout),o.timeout=(i=o.timeout)!==null&&i!==void 0?i:this.timeout;const{bodyHeaders:h,body:g}=this.buildBody({options:o}),b=await this.buildHeaders({options:t,method:r,bodyHeaders:h,retryCount:n});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:r,headers:b},o.signal&&{signal:o.signal}),globalThis.ReadableStream&&g instanceof globalThis.ReadableStream&&{duplex:"half"}),g&&{body:g}),(l=this.fetchOptions)!==null&&l!==void 0?l:{}),(a=o.fetchOptions)!==null&&a!==void 0?a:{}),url:m,timeout:o.timeout}}async buildHeaders({options:t,method:n,bodyHeaders:i,retryCount:l}){let a={};this.idempotencyHeader&&n!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),a[this.idempotencyHeader]=t.idempotencyKey);const o=await this.authHeaders(t);let r=Nl([a,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(l)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),jC()),this._options.defaultHeaders,i,t.headers,o]);return this.validateHeaders(r),r.values}buildBody({options:{body:t,headers:n}}){if(!t)return{bodyHeaders:void 0,body:void 0};const i=Nl([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&i.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:HC(t)}:this.encoder({body:t,headers:i})}}Ss.DEFAULT_TIMEOUT=6e4;class qe extends Ss{constructor(){super(...arguments),this.interactions=new xy(this)}}by=qe;qe.GeminiNextGenAPIClient=by;qe.GeminiNextGenAPIClientError=Lt;qe.APIError=nt;qe.APIConnectionError=vs;qe.APIConnectionTimeoutError=ny;qe.APIUserAbortError=Su;qe.NotFoundError=oy;qe.ConflictError=sy;qe.RateLimitError=uy;qe.BadRequestError=iy;qe.AuthenticationError=ly;qe.InternalServerError=cy;qe.PermissionDeniedError=ay;qe.UnprocessableEntityError=ry;qe.toFile=YC;qe.Interactions=xy;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aN(e,t){const n={},i=s(e,["name"]);return i!=null&&c(n,["_url","name"],i),n}function oN(e,t){const n={},i=s(e,["name"]);return i!=null&&c(n,["_url","name"],i),n}function sN(e,t){const n={},i=s(e,["sdkHttpResponse"]);return i!=null&&c(n,["sdkHttpResponse"],i),n}function rN(e,t){const n={},i=s(e,["sdkHttpResponse"]);return i!=null&&c(n,["sdkHttpResponse"],i),n}function uN(e,t,n){const i={};if(s(e,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=s(e,["tunedModelDisplayName"]);if(t!==void 0&&l!=null&&c(t,["displayName"],l),s(e,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const a=s(e,["epochCount"]);t!==void 0&&a!=null&&c(t,["tuningTask","hyperparameters","epochCount"],a);const o=s(e,["learningRateMultiplier"]);if(o!=null&&c(i,["tuningTask","hyperparameters","learningRateMultiplier"],o),s(e,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(e,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(e,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const r=s(e,["batchSize"]);t!==void 0&&r!=null&&c(t,["tuningTask","hyperparameters","batchSize"],r);const d=s(e,["learningRate"]);if(t!==void 0&&d!=null&&c(t,["tuningTask","hyperparameters","learningRate"],d),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(s(e,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return i}function cN(e,t,n){const i={};let l=s(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const g=s(e,["validationDataset"]);t!==void 0&&g!=null&&c(t,["supervisedTuningSpec"],lh(g))}else if(l==="PREFERENCE_TUNING"){const g=s(e,["validationDataset"]);t!==void 0&&g!=null&&c(t,["preferenceOptimizationSpec"],lh(g))}const a=s(e,["tunedModelDisplayName"]);t!==void 0&&a!=null&&c(t,["tunedModelDisplayName"],a);const o=s(e,["description"]);t!==void 0&&o!=null&&c(t,["description"],o);let r=s(n,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const g=s(e,["epochCount"]);t!==void 0&&g!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],g)}else if(r==="PREFERENCE_TUNING"){const g=s(e,["epochCount"]);t!==void 0&&g!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],g)}let d=s(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const g=s(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],g)}else if(d==="PREFERENCE_TUNING"){const g=s(e,["learningRateMultiplier"]);t!==void 0&&g!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],g)}let f=s(n,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const g=s(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],g)}else if(f==="PREFERENCE_TUNING"){const g=s(e,["exportLastCheckpointOnly"]);t!==void 0&&g!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],g)}let p=s(n,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const g=s(e,["adapterSize"]);t!==void 0&&g!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],g)}else if(p==="PREFERENCE_TUNING"){const g=s(e,["adapterSize"]);t!==void 0&&g!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],g)}if(s(e,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(e,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=s(e,["labels"]);t!==void 0&&m!=null&&c(t,["labels"],m);const h=s(e,["beta"]);return t!==void 0&&h!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],h),i}function dN(e,t){const n={},i=s(e,["baseModel"]);i!=null&&c(n,["baseModel"],i);const l=s(e,["preTunedModel"]);l!=null&&c(n,["preTunedModel"],l);const a=s(e,["trainingDataset"]);a!=null&&TN(a);const o=s(e,["config"]);return o!=null&&uN(o,n),n}function fN(e,t){const n={},i=s(e,["baseModel"]);i!=null&&c(n,["baseModel"],i);const l=s(e,["preTunedModel"]);l!=null&&c(n,["preTunedModel"],l);const a=s(e,["trainingDataset"]);a!=null&&_N(a,n,t);const o=s(e,["config"]);return o!=null&&cN(o,n,t),n}function pN(e,t){const n={},i=s(e,["name"]);return i!=null&&c(n,["_url","name"],i),n}function hN(e,t){const n={},i=s(e,["name"]);return i!=null&&c(n,["_url","name"],i),n}function mN(e,t,n){const i={},l=s(e,["pageSize"]);t!==void 0&&l!=null&&c(t,["_query","pageSize"],l);const a=s(e,["pageToken"]);t!==void 0&&a!=null&&c(t,["_query","pageToken"],a);const o=s(e,["filter"]);return t!==void 0&&o!=null&&c(t,["_query","filter"],o),i}function gN(e,t,n){const i={},l=s(e,["pageSize"]);t!==void 0&&l!=null&&c(t,["_query","pageSize"],l);const a=s(e,["pageToken"]);t!==void 0&&a!=null&&c(t,["_query","pageToken"],a);const o=s(e,["filter"]);return t!==void 0&&o!=null&&c(t,["_query","filter"],o),i}function yN(e,t){const n={},i=s(e,["config"]);return i!=null&&mN(i,n),n}function xN(e,t){const n={},i=s(e,["config"]);return i!=null&&gN(i,n),n}function vN(e,t){const n={},i=s(e,["sdkHttpResponse"]);i!=null&&c(n,["sdkHttpResponse"],i);const l=s(e,["nextPageToken"]);l!=null&&c(n,["nextPageToken"],l);const a=s(e,["tunedModels"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(r=>Sy(r))),c(n,["tuningJobs"],o)}return n}function bN(e,t){const n={},i=s(e,["sdkHttpResponse"]);i!=null&&c(n,["sdkHttpResponse"],i);const l=s(e,["nextPageToken"]);l!=null&&c(n,["nextPageToken"],l);const a=s(e,["tuningJobs"]);if(a!=null){let o=a;Array.isArray(o)&&(o=o.map(r=>wu(r))),c(n,["tuningJobs"],o)}return n}function SN(e,t){const n={},i=s(e,["name"]);i!=null&&c(n,["model"],i);const l=s(e,["name"]);return l!=null&&c(n,["endpoint"],l),n}function TN(e,t){const n={};if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const i=s(e,["examples"]);if(i!=null){let l=i;Array.isArray(l)&&(l=l.map(a=>a)),c(n,["examples","examples"],l)}return n}function _N(e,t,n){const i={};let l=s(n,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const o=s(e,["gcsUri"]);t!==void 0&&o!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(l==="PREFERENCE_TUNING"){const o=s(e,["gcsUri"]);t!==void 0&&o!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],o)}let a=s(n,["config","method"]);if(a===void 0&&(a="SUPERVISED_FINE_TUNING"),a==="SUPERVISED_FINE_TUNING"){const o=s(e,["vertexDatasetResource"]);t!==void 0&&o!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],o)}else if(a==="PREFERENCE_TUNING"){const o=s(e,["vertexDatasetResource"]);t!==void 0&&o!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],o)}if(s(e,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return i}function Sy(e,t){const n={},i=s(e,["sdkHttpResponse"]);i!=null&&c(n,["sdkHttpResponse"],i);const l=s(e,["name"]);l!=null&&c(n,["name"],l);const a=s(e,["state"]);a!=null&&c(n,["state"],jg(a));const o=s(e,["createTime"]);o!=null&&c(n,["createTime"],o);const r=s(e,["tuningTask","startTime"]);r!=null&&c(n,["startTime"],r);const d=s(e,["tuningTask","completeTime"]);d!=null&&c(n,["endTime"],d);const f=s(e,["updateTime"]);f!=null&&c(n,["updateTime"],f);const p=s(e,["description"]);p!=null&&c(n,["description"],p);const m=s(e,["baseModel"]);m!=null&&c(n,["baseModel"],m);const h=s(e,["_self"]);return h!=null&&c(n,["tunedModel"],SN(h)),n}function wu(e,t){const n={},i=s(e,["sdkHttpResponse"]);i!=null&&c(n,["sdkHttpResponse"],i);const l=s(e,["name"]);l!=null&&c(n,["name"],l);const a=s(e,["state"]);a!=null&&c(n,["state"],jg(a));const o=s(e,["createTime"]);o!=null&&c(n,["createTime"],o);const r=s(e,["startTime"]);r!=null&&c(n,["startTime"],r);const d=s(e,["endTime"]);d!=null&&c(n,["endTime"],d);const f=s(e,["updateTime"]);f!=null&&c(n,["updateTime"],f);const p=s(e,["error"]);p!=null&&c(n,["error"],p);const m=s(e,["description"]);m!=null&&c(n,["description"],m);const h=s(e,["baseModel"]);h!=null&&c(n,["baseModel"],h);const g=s(e,["tunedModel"]);g!=null&&c(n,["tunedModel"],g);const b=s(e,["preTunedModel"]);b!=null&&c(n,["preTunedModel"],b);const S=s(e,["supervisedTuningSpec"]);S!=null&&c(n,["supervisedTuningSpec"],S);const _=s(e,["preferenceOptimizationSpec"]);_!=null&&c(n,["preferenceOptimizationSpec"],_);const y=s(e,["tuningDataStats"]);y!=null&&c(n,["tuningDataStats"],y);const x=s(e,["encryptionSpec"]);x!=null&&c(n,["encryptionSpec"],x);const v=s(e,["partnerModelTuningSpec"]);v!=null&&c(n,["partnerModelTuningSpec"],v);const T=s(e,["customBaseModel"]);T!=null&&c(n,["customBaseModel"],T);const A=s(e,["experiment"]);A!=null&&c(n,["experiment"],A);const L=s(e,["labels"]);L!=null&&c(n,["labels"],L);const C=s(e,["outputUri"]);C!=null&&c(n,["outputUri"],C);const R=s(e,["pipelineJob"]);R!=null&&c(n,["pipelineJob"],R);const M=s(e,["serviceAccount"]);M!=null&&c(n,["serviceAccount"],M);const w=s(e,["tunedModelDisplayName"]);w!=null&&c(n,["tunedModelDisplayName"],w);const I=s(e,["veoTuningSpec"]);return I!=null&&c(n,["veoTuningSpec"],I),n}function wN(e,t){const n={},i=s(e,["sdkHttpResponse"]);i!=null&&c(n,["sdkHttpResponse"],i);const l=s(e,["name"]);l!=null&&c(n,["name"],l);const a=s(e,["metadata"]);a!=null&&c(n,["metadata"],a);const o=s(e,["done"]);o!=null&&c(n,["done"],o);const r=s(e,["error"]);return r!=null&&c(n,["error"],r),n}function lh(e,t){const n={},i=s(e,["gcsUri"]);i!=null&&c(n,["validationDatasetUri"],i);const l=s(e,["vertexDatasetResource"]);return l!=null&&c(n,["validationDatasetUri"],l),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EN extends vn{constructor(t){super(),this.apiClient=t,this.list=async(n={})=>new vi(yn.PAGED_ITEM_TUNING_JOBS,i=>this.listInternal(i),await this.listInternal(n),n),this.get=async n=>await this.getInternal(n),this.tune=async n=>{var i;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const l={tunedModelName:n.baseModel};!((i=n.config)===null||i===void 0)&&i.preTunedModelCheckpointId&&(l.checkpointId=n.config.preTunedModelCheckpointId);const a=Object.assign(Object.assign({},n),{preTunedModel:l});return a.baseModel=void 0,await this.tuneInternal(a)}else{const l=Object.assign({},n);return await this.tuneInternal(l)}else{const l=Object.assign({},n),a=await this.tuneMldevInternal(l);let o="";return a.metadata!==void 0&&a.metadata.tunedModel!==void 0?o=a.metadata.tunedModel:a.name!==void 0&&a.name.includes("/operations/")&&(o=a.name.split("/operations/")[0]),{name:o,state:fu.JOB_STATE_QUEUED}}}}async getInternal(t){var n,i,l,a;let o,r="",d={};if(this.apiClient.isVertexAI()){const f=hN(t);return r=O("{name}",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>wu(p))}else{const f=pN(t);return r=O("{name}",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>Sy(p))}}async listInternal(t){var n,i,l,a;let o,r="",d={};if(this.apiClient.isVertexAI()){const f=xN(t);return r=O("tuningJobs",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=bN(p),h=new kp;return Object.assign(h,m),h})}else{const f=yN(t);return r=O("tunedModels",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"GET",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=vN(p),h=new kp;return Object.assign(h,m),h})}}async cancel(t){var n,i,l,a;let o,r="",d={};if(this.apiClient.isVertexAI()){const f=oN(t);return r=O("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=rN(p),h=new Rp;return Object.assign(h,m),h})}else{const f=aN(t);return r=O("{name}:cancel",f._url),d=f._query,delete f._url,delete f._query,o=this.apiClient.request({path:r,queryParams:d,body:JSON.stringify(f),httpMethod:"POST",httpOptions:(l=t.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(p=>p.json().then(m=>{const h=m;return h.sdkHttpResponse={headers:p.headers},h})),o.then(p=>{const m=sN(p),h=new Rp;return Object.assign(h,m),h})}}async tuneInternal(t){var n,i;let l,a="",o={};if(this.apiClient.isVertexAI()){const r=fN(t,t);return a=O("tuningJobs",r._url),o=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),l.then(d=>wu(d))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var n,i;let l,a="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const r=dN(t);return a=O("tunedModels",r._url),o=r._query,delete r._url,delete r._query,l=this.apiClient.request({path:a,queryParams:o,body:JSON.stringify(r),httpMethod:"POST",httpOptions:(n=t.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(d=>d.json().then(f=>{const p=f;return p.sdkHttpResponse={headers:d.headers},p})),l.then(d=>wN(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class CN{async download(t,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const NN=1024*1024*8,AN=3,MN=1e3,kN=2,$o="x-goog-upload-status";async function RN(e,t,n){var i;const l=await Ty(e,t,n),a=await(l==null?void 0:l.json());if(((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[$o])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return a.file}async function IN(e,t,n){var i;const l=await Ty(e,t,n),a=await(l==null?void 0:l.json());if(((i=l==null?void 0:l.headers)===null||i===void 0?void 0:i[$o])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const o=Rg(a),r=new Uc;return Object.assign(r,o),r}async function Ty(e,t,n){var i,l;let a=0,o=0,r=new pu(new Response),d="upload";for(a=e.size;o<a;){const f=Math.min(NN,a-o),p=e.slice(o,o+f);o+f>=a&&(d+=", finalize");let m=0,h=MN;for(;m<AN&&(r=await n.request({path:"",body:p,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(o),"Content-Length":String(f)}}}),!(!((i=r==null?void 0:r.headers)===null||i===void 0)&&i[$o]));)m++,await UN(h),h=h*kN;if(o+=f,((l=r==null?void 0:r.headers)===null||l===void 0?void 0:l[$o])!=="active")break;if(a<=o)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return r}async function DN(e){return{size:e.size,type:e.type}}function UN(e){return new Promise(t=>setTimeout(t,e))}class zN{async upload(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await RN(t,n,i)}async uploadToFileSearchStore(t,n,i){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await IN(t,n,i)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await DN(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LN{create(t,n,i){return new jN(t,n,i)}}class jN{constructor(t,n,i){this.url=t,this.headers=n,this.callbacks=i}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ah="x-goog-api-key";class GN{constructor(t){this.apiKey=t}async addAuthHeaders(t,n){if(t.get(ah)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(ah,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HN="gl-node/";class bt{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const n=new qe({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=n.interactions,this._interactions}constructor(t){var n;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=t.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=t.apiKey;const i=Ub(t.httpOptions,t.vertexai,void 0,void 0);i&&(t.httpOptions?t.httpOptions.baseUrl=i:t.httpOptions={baseUrl:i}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const l=new GN(this.apiKey);this.apiClient=new DE({auth:l,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:HN+"web",uploader:new zN,downloader:new CN}),this.models=new ZE(this.apiClient),this.live=new YE(this.apiClient,l,new LN),this.batches=new uT(this.apiClient),this.chats=new OT(this.models,this.apiClient),this.caches=new qT(this.apiClient),this.files=new e_(this.apiClient),this.operations=new WE(this.apiClient),this.authTokens=new mC(this.apiClient),this.tunings=new EN(this.apiClient),this.fileSearchStores=new _C(this.apiClient)}}var oh={SUPABASE_URL:'""',SUPABASE_ANON_KEY:'""'};const PN=async(e,t="")=>{var i,l;const n=oh&&oh.API_KEY||((l=(i=window.process)==null?void 0:i.env)==null?void 0:l.API_KEY);if(!n)return console.warn("Gemini API Key is missing in this environment."),"      .   .";try{return(await new bt({apiKey:n}).models.generateContent({model:"gemini-3-flash-preview",contents:e,config:{systemInstruction:"     .  : "+t,temperature:.7}})).text||"    ."}catch(a){return console.error("Gemini Error:",a),"     .   ."}},qN=({lang:e})=>{const[t,n]=E.useState(!1),i=Ea[e],[l,a]=E.useState([{role:"bot",text:i.bot_welcome,time:e==="ar"?"":"Now"}]),[o,r]=E.useState(""),[d,f]=E.useState(!1),p=E.useRef(null),m=()=>{var g;(g=p.current)==null||g.scrollIntoView({behavior:"smooth"})};E.useEffect(()=>{m()},[l,d]);const h=async()=>{if(!o.trim())return;const g=o.trim();r("");const b=new Date().toLocaleTimeString(e==="ar"?"ar-EG":"en-US",{hour:"2-digit",minute:"2-digit"});a(_=>[..._,{role:"user",text:g,time:b}]),f(!0);const S=await PN(g);f(!1),a(_=>[..._,{role:"bot",text:S,time:b}])};return u.jsxs("div",{className:`fixed bottom-8 ${e==="ar"?"right-8":"left-8"} z-50`,children:[u.jsx("button",{onClick:()=>n(!t),className:"w-16 h-16 rounded-full bg-gradient-to-br from-indigo-600 to-purple-700 text-white shadow-[0_10px_40px_rgba(79,70,229,0.4)] flex items-center justify-center transform hover:scale-110 active:scale-95 transition-all ring-4 ring-white dark:ring-gray-800",children:t?u.jsx("i",{className:"fas fa-times text-2xl"}):u.jsx("i",{className:"fas fa-comment-dots text-2xl animate-pulse"})}),t&&u.jsxs("div",{className:`absolute bottom-24 ${e==="ar"?"right-0":"left-0"} w-[380px] max-w-[90vw] h-[550px] rounded-[2.5rem] shadow-[0_20px_60px_rgba(0,0,0,0.3)] border border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800 flex flex-col overflow-hidden animate-in fade-in slide-in-from-bottom-8 duration-300 z-50`,children:[u.jsxs("div",{className:"px-6 py-5 bg-gradient-to-r from-indigo-600 to-blue-600 text-white flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-10 h-10 rounded-2xl bg-white/20 backdrop-blur-md flex items-center justify-center border border-white/20",children:u.jsx("i",{className:"fas fa-robot text-lg"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-bold text-sm tracking-wide",children:i.help_center_title}),u.jsxs("p",{className:"text-[10px] text-indigo-100 flex items-center gap-1",children:[u.jsx("span",{className:"w-1.5 h-1.5 bg-green-400 rounded-full animate-pulse"})," ",e==="ar"?" ":"Online Now"]})]})]}),u.jsx("button",{onClick:()=>n(!1),className:"hover:rotate-90 transition-transform",children:u.jsx("i",{className:"fas fa-times opacity-80"})})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-6 bg-[#f8fafc] dark:bg-gray-900 space-y-6 custom-scrollbar",children:[l.map((g,b)=>u.jsxs("div",{className:`flex ${g.role==="user"?"justify-end":"justify-start"}`,children:[g.role==="bot"&&u.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 dark:bg-indigo-900/40 text-indigo-600 dark:text-indigo-400 flex items-center justify-center font-bold text-xs shrink-0 self-end mr-2",children:"B"}),u.jsxs("div",{className:`max-w-[80%] rounded-3xl px-5 py-3 text-sm shadow-sm leading-relaxed ${g.role==="user"?"bg-gradient-to-br from-indigo-600 to-indigo-700 text-white rounded-br-none font-medium":"bg-white dark:bg-gray-700 text-gray-800 dark:text-white rounded-bl-none border border-gray-100 dark:border-gray-600"}`,children:[g.text,u.jsx("div",{className:`text-[9px] mt-1.5 font-bold uppercase ${g.role==="user"?"text-indigo-200 text-right":"text-gray-400 dark:text-gray-500 text-left"}`,children:g.time})]})]},b)),d&&u.jsxs("div",{className:"flex justify-start",children:[u.jsx("div",{className:"w-8 h-8 rounded-full bg-indigo-100 dark:bg-indigo-900/40 mr-2 self-end"}),u.jsxs("div",{className:"bg-white dark:bg-gray-700 rounded-3xl px-5 py-4 shadow-sm flex gap-1.5 border border-gray-100 dark:border-gray-600",children:[u.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce [animation-duration:0.6s]"}),u.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce [animation-duration:0.6s] [animation-delay:0.1s]"}),u.jsx("span",{className:"w-2 h-2 bg-indigo-400 rounded-full animate-bounce [animation-duration:0.6s] [animation-delay:0.2s]"})]})]}),u.jsx("div",{ref:p})]}),u.jsxs("div",{className:"p-5 bg-white dark:bg-gray-800 border-t border-gray-100 dark:border-gray-700",children:[u.jsxs("div",{className:"flex items-center gap-3 bg-gray-50 dark:bg-gray-900 p-1 rounded-[1.5rem] border border-gray-200 dark:border-gray-700 shadow-inner group-focus-within:border-indigo-400 transition-colors",children:[u.jsx("input",{value:o,onChange:g=>r(g.target.value),onKeyDown:g=>g.key==="Enter"&&h(),type:"text",placeholder:i.help_input_placeholder,className:"flex-1 bg-transparent px-5 py-3.5 text-sm focus:outline-none dark:text-white font-medium"}),u.jsx("button",{onClick:h,disabled:!o.trim(),className:"w-12 h-12 bg-indigo-600 hover:bg-indigo-700 disabled:opacity-50 text-white rounded-2xl flex items-center justify-center transition-all shadow-lg active:scale-90",children:u.jsx("i",{className:"fas fa-paper-plane"})})]}),u.jsx("p",{className:"text-[10px] text-center text-gray-400 dark:text-gray-500 mt-4 font-bold tracking-widest uppercase",children:"Powered by Gemini AI  Smart Student Platform"})]})]})]})};var VN={SUPABASE_URL:'""',SUPABASE_ANON_KEY:'""'};const BN=({lang:e})=>{const[t,n]=E.useState([]),[i,l]=E.useState(null),[a,o]=E.useState(!1),[r,d]=E.useState(!1),[f,p]=E.useState(""),[m,h]=E.useState(""),[g,b]=E.useState("link"),[S,_]=E.useState(""),[y,x]=E.useState(!1),[v,T]=E.useState(null),[A,L]=E.useState(null),[C,R]=E.useState(""),[M,w]=E.useState(!1),I=t.find(N=>N.id===i);E.useEffect(()=>{if((async()=>{const P=await Z.getSubjects();n(P)})(),!window.pdfjsLib){const P=document.createElement("script");P.src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js",P.onload=()=>{window.pdfjsLib.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js"},document.head.appendChild(P)}},[]);const G=async()=>{if(!f.trim())return;const N=["bg-indigo-500","bg-rose-500","bg-emerald-500","bg-amber-500","bg-violet-500"],P=N[Math.floor(Math.random()*N.length)],q=await Z.saveSubject({name:f,color:P});n(q),p(""),o(!1)},j=async(N,P)=>{if(N.stopPropagation(),window.confirm(e==="ar"?"        ":"Are you sure?")){const q=await Z.deleteSubject(P);n(q),i===P&&l(null)}},J=N=>{var k;const P=(k=N.target.files)==null?void 0:k[0];if(!P)return;if(P.size>5*1024*1024){alert(e==="ar"?"  .   5 .":"File too large. Max 5MB.");return}x(!0),m||h(P.name.split(".")[0]);const q=new FileReader;q.onload=B=>{var Q;(Q=B.target)!=null&&Q.result&&(_(B.target.result),b("file"),x(!1))},q.readAsDataURL(P)},ne=async N=>{if(N.type==="link")return` : ${N.title}`;if(N.content.startsWith("data:application/pdf"))try{const P=window.pdfjsLib,q=N.content.split(",")[1],k=atob(q),B=new Uint8Array(k.length);for(let oe=0;oe<k.length;oe++)B[oe]=k.charCodeAt(oe);const Q=await P.getDocument({data:B}).promise;let ie="";for(let oe=1;oe<=Math.min(Q.numPages,10);oe++){const xe=await(await Q.getPage(oe)).getTextContent();ie+=xe.items.map(ke=>ke.str).join(" ")+`
`}return ie||N.title}catch{return N.title}else if(N.content.startsWith("data:text/plain"))return atob(N.content.split(",")[1]);return N.title},U=async N=>{L(N),w(!0),R("");try{const P=await ne(N),q=new bt({apiKey:VN.API_KEY}),k=`    .           '' (  ) '' (    ). 
                 '' .
      
      :
      ${P.substring(0,1e4)}
      
       :
      : [ ]
      : [ ]
      ... .      .`,B=await q.models.generateContent({model:"gemini-3-flash-preview",contents:k});R(B.text||"    .")}catch{R("     .")}finally{w(!1)}},F=async()=>{if(!i||!m.trim()||!S.trim()){alert(e==="ar"?"      ":"Please fill all details");return}let N;v?N=await Z.editLecture(i,v,{title:m,type:g,content:S}):N=await Z.addLecture(i,{title:m,type:g,content:S}),n(N),h(""),_(""),T(null),d(!1)},$=async N=>{if(i&&window.confirm(e==="ar"?"  ":"Delete lecture?")){const P=await Z.deleteLecture(i,N);n(P)}},Y=async N=>{if(!i)return;const P=await Z.toggleLectureStatus(i,N);n(P)},z=N=>{var P;if(N.startsWith("data:"))try{const q=N.split(","),k=((P=q[0].match(/:(.*?);/))==null?void 0:P[1])||"application/octet-stream",B=q[1],Q=atob(B),ie=new Uint8Array(Q.length);for(let xe=0;xe<Q.length;xe++)ie[xe]=Q.charCodeAt(xe);const oe=new Blob([ie],{type:k}),le=URL.createObjectURL(oe);window.open(le,"_blank")}catch{window.open().document.write(`<iframe src="${N}" frameborder="0" style="width:100%; height:100vh;"></iframe>`)}else window.open(N.startsWith("http")?N:`https://${N}`,"_blank")};return I?u.jsxs("div",{className:"space-y-10 animate-in fade-in duration-500 pb-20 relative",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6",children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsx("button",{onClick:()=>{l(null),d(!1)},className:"w-14 h-14 rounded-2xl bg-white dark:bg-slate-900 border border-slate-200 dark:border-slate-800 flex items-center justify-center text-slate-500 hover:text-indigo-600 shadow-sm transition-all hover:scale-105 active:scale-95",children:u.jsx(j1,{className:e==="ar"?"rotate-0":"rotate-180",size:24})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-black text-slate-900 dark:text-white",children:I.name}),u.jsxs("p",{className:"text-slate-500 font-bold text-xs uppercase tracking-widest",children:[I.progress,"% "]})]})]}),u.jsxs("button",{onClick:()=>{T(null),h(""),_(""),d(!0)},className:"px-8 py-4 bg-indigo-600 text-white rounded-2xl font-black shadow-xl hover:scale-105 active:scale-95 transition-all flex items-center gap-3",children:[u.jsx(ca,{size:20}),"  "]})]}),r&&u.jsxs("div",{className:"bg-white dark:bg-slate-900 p-10 rounded-[3rem] border-2 border-indigo-500/30 shadow-2xl animate-in slide-in-from-top-4 relative z-50",children:[u.jsx("button",{onClick:()=>d(!1),className:"absolute top-8 left-8 p-2 text-slate-400 hover:text-rose-500 transition-colors",children:u.jsx(It,{size:24})}),u.jsxs("h3",{className:"text-xl font-black mb-8 dark:text-white flex items-center gap-3",children:[u.jsx(zt,{className:"text-amber-500"}),"    "]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 px-2",children:" "}),u.jsx("input",{value:m,onChange:N=>h(N.target.value),placeholder:":  ...",className:"w-full px-7 py-5 bg-slate-50 dark:bg-slate-800 rounded-2xl font-bold border-none focus:ring-2 focus:ring-indigo-500 dark:text-white"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 px-2",children:""}),u.jsxs("div",{className:"flex p-1 bg-slate-100 dark:bg-slate-800 rounded-2xl",children:[u.jsx("button",{onClick:()=>b("link"),className:`flex-1 py-4 rounded-xl font-black text-xs transition-all ${g==="link"?"bg-white dark:bg-slate-700 text-indigo-600 shadow-sm":"text-slate-500"}`,children:" "}),u.jsx("button",{onClick:()=>b("file"),className:`flex-1 py-4 rounded-xl font-black text-xs transition-all ${g==="file"?"bg-white dark:bg-slate-700 text-indigo-600 shadow-sm":"text-slate-500"}`,children:" "})]})]}),u.jsx("div",{className:"md:col-span-2 space-y-2",children:g==="link"?u.jsx("input",{value:S,onChange:N=>_(N.target.value),placeholder:"  (http://...)",className:"w-full px-7 py-5 bg-slate-50 dark:bg-slate-800 rounded-2xl font-bold border-none focus:ring-2 focus:ring-indigo-500 dark:text-white"}):u.jsx("div",{className:"relative group min-h-[160px]",children:u.jsxs("div",{className:`w-full h-full px-7 py-10 bg-slate-50 dark:bg-slate-800 rounded-3xl border-2 border-dashed flex flex-col items-center justify-center gap-4 transition-all ${S?"border-emerald-500 bg-emerald-50/10":"border-slate-200 dark:border-slate-700 group-hover:border-indigo-500"}`,children:[y?u.jsx(tt,{className:"animate-spin text-indigo-600",size:32}):S?u.jsx(su,{className:"text-emerald-500",size:32}):u.jsx(xi,{className:"text-slate-300",size:32}),u.jsx("span",{className:"font-black text-slate-500 text-center",children:y?" ...":S?"  ":"   (PDF//)"}),u.jsx("input",{type:"file",onChange:J,className:"absolute inset-0 opacity-0 cursor-pointer z-10"})]})})})]}),u.jsxs("div",{className:"flex gap-4 mt-10",children:[u.jsx("button",{onClick:F,disabled:y,className:"px-12 py-4 bg-indigo-600 text-white rounded-2xl font-black shadow-lg hover:scale-105 active:scale-95 transition-all disabled:opacity-50",children:" "}),u.jsx("button",{onClick:()=>d(!1),className:"px-12 py-4 bg-slate-100 dark:bg-slate-800 dark:text-white rounded-2xl font-black hover:bg-slate-200 transition-all",children:""})]})]}),A&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-slate-900/80 backdrop-blur-xl animate-in fade-in",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-4xl max-h-[90vh] rounded-[3.5rem] shadow-2xl relative overflow-hidden flex flex-col border border-white/10",children:[u.jsxs("div",{className:"p-8 border-b dark:border-slate-800 flex justify-between items-center bg-indigo-600 text-white",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-white/20 rounded-2xl flex items-center justify-center shadow-inner",children:u.jsx(sl,{size:24})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-xl font-black",children:"  "}),u.jsx("p",{className:"text-xs opacity-80",children:A.title})]})]}),u.jsx("button",{onClick:()=>L(null),className:"p-3 hover:bg-white/10 rounded-2xl transition-all",children:u.jsx(It,{size:24})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-10 space-y-8 custom-scrollbar bg-slate-50 dark:bg-slate-950",children:M?u.jsxs("div",{className:"h-full flex flex-col items-center justify-center space-y-6",children:[u.jsx("div",{className:"w-20 h-20 border-8 border-indigo-600 border-t-transparent rounded-full animate-spin"}),u.jsx("p",{className:"text-lg font-black text-indigo-600 animate-pulse",children:"    ..."})]}):u.jsx("div",{className:"space-y-6",children:C.split(`
`).map((N,P)=>{const q=N.startsWith(":"),k=N.startsWith(":");return!q&&!k?u.jsx("p",{className:"text-slate-500 font-bold italic text-center py-2",children:N},P):u.jsxs("div",{className:`flex gap-4 items-start animate-in slide-in-from-bottom-2 duration-500 delay-[${P*100}ms] ${q?"flex-row":"flex-row-reverse"}`,children:[u.jsx("div",{className:`w-12 h-12 rounded-2xl flex items-center justify-center shadow-lg shrink-0 ${q?"bg-indigo-600 text-white":"bg-emerald-500 text-white"}`,children:q?u.jsx(sl,{size:24}):u.jsx(Rc,{size:24})}),u.jsxs("div",{className:`p-6 rounded-[2rem] shadow-sm max-w-[80%] border-2 ${q?"bg-white border-indigo-100 rounded-tr-none":"bg-white border-emerald-100 rounded-tl-none"}`,children:[u.jsx("p",{className:"font-black text-xs mb-1 opacity-50",children:q?"":" "}),u.jsx("p",{className:"text-lg font-bold leading-relaxed text-slate-800 dark:text-white",children:N.split(": ")[1]})]})]},P)})})}),u.jsxs("div",{className:"p-8 border-t dark:border-slate-800 bg-white dark:bg-slate-900 flex justify-center gap-4",children:[u.jsxs("button",{onClick:()=>window.print(),className:"px-8 py-4 bg-slate-100 dark:bg-slate-800 rounded-2xl font-black text-sm flex items-center gap-2 hover:bg-indigo-50 transition-all",children:[u.jsx(ru,{size:18}),"  "]}),u.jsx("button",{onClick:()=>L(null),className:"px-12 py-4 bg-indigo-600 text-white rounded-2xl font-black shadow-lg",children:" !"})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[I.lectures.map(N=>u.jsxs("div",{className:`bg-white dark:bg-slate-900 p-8 rounded-[2.5rem] shadow-lg border-2 transition-all flex flex-col md:flex-row items-center justify-between group ${N.isCompleted?"border-emerald-500/20 bg-emerald-50/10":"border-slate-100 dark:border-slate-800 hover:border-indigo-500"}`,children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsx("button",{onClick:()=>Y(N.id),className:`w-14 h-14 rounded-2xl flex items-center justify-center transition-all ${N.isCompleted?"bg-emerald-500 text-white shadow-emerald-200":"bg-slate-100 dark:bg-slate-800 text-slate-400"}`,children:N.isCompleted?u.jsx(su,{size:28}):u.jsx(xg,{size:28})}),u.jsxs("div",{children:[u.jsx("h4",{className:`text-xl font-black ${N.isCompleted?"text-slate-400 line-through":"text-slate-900 dark:text-white"}`,children:N.title}),u.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[u.jsx("span",{className:"text-[9px] font-black uppercase text-indigo-500 bg-indigo-50 dark:bg-indigo-900/30 px-3 py-1 rounded-full",children:N.type==="link"?"":""}),u.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:N.date})]})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 md:mt-0",children:[u.jsxs("button",{onClick:()=>U(N),className:"px-6 py-3 bg-amber-500 text-white rounded-xl font-black text-xs hover:scale-105 transition-all shadow-md flex items-center gap-2",children:[u.jsx(Tg,{size:16}),"  ( )"]}),u.jsxs("button",{onClick:()=>z(N.content),className:"px-6 py-3 bg-slate-50 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-xl font-black text-xs hover:bg-indigo-600 hover:text-white transition-all flex items-center gap-2",children:[u.jsx(J1,{size:16})," "]}),u.jsx("button",{onClick:()=>$(N.id),className:"w-12 h-12 flex items-center justify-center rounded-xl bg-rose-50 dark:bg-rose-900/20 text-rose-400 hover:bg-rose-500 hover:text-white transition-all",children:u.jsx(da,{size:18})})]})]},N.id)),I.lectures.length===0&&u.jsxs("div",{className:"py-32 text-center opacity-30 border-4 border-dashed rounded-[4rem] border-slate-200",children:[u.jsx(ra,{size:64,className:"mx-auto mb-4"}),u.jsx("p",{className:"text-xl font-black",children:"      "})]})]})]}):u.jsxs("div",{className:"space-y-10 animate-in fade-in duration-500 pb-20",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsxs("h2",{className:"text-4xl font-black text-slate-900 dark:text-white flex items-center gap-4",children:[u.jsx(ra,{className:"text-indigo-600",size:36}),"  "]}),u.jsx("p",{className:"text-slate-500 mt-2 font-medium",children:"    "})]}),u.jsxs("button",{onClick:()=>o(!0),className:"px-8 py-4 bg-indigo-600 text-white rounded-2xl font-black shadow-xl hover:scale-105 transition-all flex items-center gap-3",children:[u.jsx(ca,{size:24}),"  "]})]}),a&&u.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-[2.5rem] border-2 border-indigo-500/30 shadow-2xl animate-in slide-in-from-top-4",children:[u.jsx("h3",{className:"text-xl font-black mb-6",children:"  "}),u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsx("input",{value:f,onChange:N=>p(N.target.value),placeholder:"  (:  101)...",className:"flex-1 px-8 py-5 bg-slate-50 dark:bg-slate-800 rounded-2xl font-bold border-none focus:ring-2 focus:ring-indigo-500 dark:text-white"}),u.jsx("button",{onClick:G,className:"px-12 py-5 bg-indigo-600 text-white rounded-2xl font-black",children:" "}),u.jsx("button",{onClick:()=>o(!1),className:"px-12 py-5 bg-slate-100 dark:bg-slate-800 dark:text-white rounded-2xl font-black",children:""})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map(N=>u.jsxs("div",{onClick:()=>l(N.id),className:"bg-white dark:bg-slate-900 p-10 rounded-[3.5rem] shadow-xl border border-slate-100 dark:border-slate-800 group hover:-translate-y-2 transition-all relative overflow-hidden cursor-pointer",children:[u.jsx("div",{className:`absolute top-0 right-0 w-2 h-full ${N.color} opacity-40`}),u.jsxs("div",{className:"flex justify-between items-start mb-10",children:[u.jsx("div",{className:`w-16 h-16 ${N.color} rounded-[2rem] flex items-center justify-center text-white shadow-2xl transition-transform group-hover:rotate-6`,children:u.jsx(H1,{size:32})}),u.jsx("button",{onClick:P=>j(P,N.id),className:"w-10 h-10 rounded-xl bg-rose-50 text-rose-500 opacity-0 group-hover:opacity-100 transition-all flex items-center justify-center hover:bg-rose-500 hover:text-white shadow-sm",children:u.jsx(da,{size:18})})]}),u.jsx("h3",{className:"text-2xl font-black text-slate-900 dark:text-white mb-2",children:N.name}),u.jsxs("p",{className:"text-[10px] font-black text-slate-400 uppercase mb-10",children:[N.lectures.length,"  "]}),u.jsx("div",{className:"h-4 bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden p-1",children:u.jsx("div",{className:`h-full ${N.color} rounded-full transition-all duration-1000 shadow-sm`,style:{width:`${N.progress}%`}})})]},N.id))})]})},ON=({lang:e="ar"})=>{const[t,n]=E.useState([]),[i,l]=E.useState(null),[a,o]=E.useState(25),[r,d]=E.useState(5),[f,p]=E.useState(!0),[m,h]=E.useState(a*60),[g,b]=E.useState(!1),[S,_]=E.useState("study"),[y,x]=E.useState({sessionsCompleted:0,totalMinutes:0,topSubject:" ",focusRate:0}),[v,T]=E.useState(!1),A=E.useRef(null);E.useEffect(()=>{(async()=>{const j=await Z.getSubjects(),J=await Z.getStudyStats();n(j),x(J)})()},[]),E.useEffect(()=>(g&&m>0?A.current=setInterval(()=>{h(G=>G-1)},1e3):m===0&&g&&L(),()=>clearInterval(A.current)),[g,m]);const L=async()=>{var j;if(b(!1),clearInterval(A.current),new Audio("https://assets.mixkit.co/active_storage/sfx/2869/2869-preview.mp3").play().catch(()=>{}),S==="study"){const J=((j=t.find(U=>U.id===i))==null?void 0:j.name)||" ",ne=await Z.saveStudySession(a,J);x(ne),T(!0),_("break"),h(r*60)}else _("study"),h(a*60)},C=()=>{if(!i&&S==="study"){alert(e==="ar"?"    ":"Please select a subject first");return}p(!1),b(!0),h(S==="study"?a*60:r*60)},R=()=>b(!g),M=()=>{b(!1),h(S==="study"?a*60:r*60)},w=G=>{const j=Math.floor(G/60),J=G%60;return`${j.toString().padStart(2,"0")}:${J.toString().padStart(2,"0")}`},I=t.find(G=>G.id===i);return u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10 animate-in zoom-in duration-500 pb-20",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("h3",{className:"text-2xl font-black dark:text-white flex items-center gap-3",children:[u.jsx(Tb,{className:"text-indigo-600"}),e==="ar"?" ":"Study Stats"]}),u.jsx("div",{className:"grid grid-cols-1 gap-4",children:[{label:" ",val:y.sessionsCompleted,icon:Ag,color:"text-amber-500"},{label:"  ",val:`${Math.round(y.totalMinutes)} `,icon:hs,color:"text-indigo-500"},{label:"  ",val:y.topSubject,icon:ra,color:"text-rose-500"}].map((G,j)=>u.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-3xl border border-slate-100 dark:border-slate-800 flex items-center gap-4 shadow-sm transition-all hover:scale-105",children:[u.jsx("div",{className:`w-12 h-12 rounded-2xl bg-slate-50 dark:bg-slate-800 flex items-center justify-center ${G.color}`,children:u.jsx(G.icon,{size:24})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:G.label}),u.jsx("p",{className:"text-lg font-black dark:text-white",children:G.val})]})]},j))}),g&&S==="study"&&u.jsxs("div",{className:"bg-indigo-600 p-8 rounded-[2.5rem] text-white shadow-2xl relative overflow-hidden animate-pulse",children:[u.jsxs("div",{className:"relative z-10",children:[u.jsx("h4",{className:"font-black text-lg mb-1",children:"  :"}),u.jsx("p",{className:"text-indigo-100 font-black text-2xl truncate",children:(I==null?void 0:I.name)||" "})]}),u.jsx(Bo,{className:"absolute -bottom-4 -right-4 opacity-20 rotate-12",size:120})]})]}),u.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-900 p-12 rounded-[4rem] shadow-2xl border dark:border-slate-800 text-center flex flex-col items-center justify-center relative overflow-hidden",children:[f?u.jsxs("div",{className:"w-full max-w-md space-y-10 animate-in fade-in",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-3xl font-black dark:text-white",children:e==="ar"?"  ":"Session Settings"}),u.jsx("p",{className:"text-slate-500 font-bold",children:e==="ar"?"    ":"Set your subject and time"})]}),u.jsxs("div",{className:"space-y-6 text-right",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-2",children:" "}),u.jsxs("select",{value:i||"",onChange:G=>l(Number(G.target.value)),className:"w-full p-5 bg-slate-50 dark:bg-slate-800 rounded-2xl border-none font-bold dark:text-white focus:ring-2 focus:ring-indigo-500 appearance-none shadow-inner",children:[u.jsx("option",{value:"",children:e==="ar"?"--    --":"-- Select Subject --"}),t.map(G=>u.jsx("option",{value:G.id,children:G.name},G.id))]})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-2",children:"  ()"}),u.jsx("input",{type:"number",value:a,onChange:G=>o(Number(G.target.value)),className:"w-full p-5 bg-slate-50 dark:bg-slate-800 rounded-2xl border-none font-black text-center text-3xl dark:text-white"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-2",children:"  ()"}),u.jsx("input",{type:"number",value:r,onChange:G=>d(Number(G.target.value)),className:"w-full p-5 bg-slate-50 dark:bg-slate-800 rounded-2xl border-none font-black text-center text-3xl dark:text-white"})]})]})]}),u.jsxs("button",{onClick:C,className:"w-full py-6 bg-indigo-600 text-white rounded-[2.5rem] font-black text-xl shadow-2xl hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-4",children:[u.jsx(wf,{size:28})," ",e==="ar"?" ":"Start Session"]})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"flex gap-4 mb-12 p-2 bg-slate-100 dark:bg-slate-800 rounded-3xl",children:[u.jsx("button",{disabled:!0,className:`px-10 py-4 rounded-2xl font-black transition-all ${S==="study"?"bg-indigo-600 text-white shadow-xl":"text-slate-500 opacity-50"}`,children:""}),u.jsx("button",{disabled:!0,className:`px-10 py-4 rounded-2xl font-black transition-all ${S==="break"?"bg-emerald-600 text-white shadow-xl":"text-slate-500 opacity-50"}`,children:""})]}),u.jsxs("div",{className:"relative w-80 h-80 mb-12 flex items-center justify-center",children:[u.jsxs("svg",{className:"absolute inset-0 w-full h-full transform -rotate-90",children:[u.jsx("circle",{cx:"160",cy:"160",r:"140",stroke:"currentColor",strokeWidth:"12",fill:"transparent",className:"text-slate-100 dark:text-slate-800"}),u.jsx("circle",{cx:"160",cy:"160",r:"140",stroke:"currentColor",strokeWidth:"12",fill:"transparent",strokeDasharray:880,strokeDashoffset:880-880*m/(S==="study"?a*60:r*60),className:`${S==="study"?"text-indigo-600":"text-emerald-500"} transition-all duration-1000 stroke-round`})]}),u.jsxs("div",{className:"flex flex-col items-center justify-center z-10",children:[u.jsx("span",{className:"text-7xl font-black dark:text-white tracking-tighter",children:w(m)}),u.jsx("span",{className:"text-xs font-black uppercase text-slate-400 mt-2 tracking-[0.3em]",children:S==="study"?" ":" "})]})]}),u.jsxs("div",{className:"flex gap-6",children:[u.jsx("button",{onClick:()=>p(!0),className:"w-20 h-20 bg-slate-100 dark:bg-slate-800 rounded-[2rem] flex items-center justify-center text-slate-500 hover:scale-105 transition-all shadow-sm",children:u.jsx(xb,{size:32})}),u.jsx("button",{onClick:R,className:`w-28 h-28 ${g?"bg-rose-500 shadow-rose-200":"bg-indigo-600 shadow-indigo-200"} text-white rounded-[2.5rem] flex items-center justify-center shadow-2xl hover:scale-110 active:scale-95 transition-all`,children:g?u.jsx(db,{size:48}):u.jsx(wf,{size:48,className:"ml-2"})}),u.jsx("button",{onClick:M,className:"w-20 h-20 bg-slate-100 dark:bg-slate-800 rounded-[2rem] flex items-center justify-center text-slate-500 hover:scale-105 transition-all shadow-sm",children:u.jsx(gb,{size:32})})]})]}),v&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-md animate-in zoom-in",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-md rounded-[3.5rem] p-10 shadow-2xl text-center space-y-8 border-4 border-emerald-500/20",children:[u.jsx("div",{className:"w-24 h-24 bg-emerald-100 rounded-full flex items-center justify-center mx-auto shadow-lg border-4 border-white",children:u.jsx(ol,{size:64,className:"text-emerald-600"})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h2",{className:"text-3xl font-black",children:e==="ar"?" !":"Great Work!"}),u.jsx("p",{className:"text-slate-500 font-bold",children:e==="ar"?"   XP ":"You earned new XP points"})]}),u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-6 rounded-3xl grid grid-cols-2 gap-4",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:""}),u.jsxs("p",{className:"text-2xl font-black text-indigo-600",children:[a," "]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:""}),u.jsxs("p",{className:"text-2xl font-black text-amber-500",children:["+",a," XP"]})]})]}),u.jsx("button",{onClick:()=>T(!1),className:"w-full py-5 bg-indigo-600 text-white rounded-2xl font-black shadow-xl hover:scale-105 transition-all",children:"  "})]})})]})]})};var FN={};const YN=()=>{const[e,t]=E.useState(""),[n,i]=E.useState(10),[l,a]=E.useState(!1),[o,r]=E.useState("idle"),[d,f]=E.useState(0),[p,m]=E.useState(null),[h,g]=E.useState(0),[b,S]=E.useState(null),[_,y]=E.useState(null),[x,v]=E.useState(""),[T,A]=E.useState(!1);E.useEffect(()=>{if(!window.pdfjsLib){const w=document.createElement("script");w.src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js",w.async=!0,w.onload=()=>{window.pdfjsLib.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js"},document.head.appendChild(w)}},[]);const L=async w=>{var G;const I=(G=w.target.files)==null?void 0:G[0];if(I){A(!0),v(I.name);try{if(I.type==="application/pdf"){const j=window.pdfjsLib,J=await I.arrayBuffer(),ne=await j.getDocument({data:J}).promise;let U="";for(let F=1;F<=ne.numPages;F++){const Y=await(await ne.getPage(F)).getTextContent();U+=Y.items.map(z=>z.str).join(" ")+`
`}S(U),y("pdf")}else if(I.type.startsWith("image/")){const j=new FileReader;j.onload=J=>{var ne;S((ne=J.target)==null?void 0:ne.result),y("image")},j.readAsDataURL(I)}else{const j=await I.text();S(j),y("text")}}catch{alert("    .")}finally{A(!1)}}},C=async()=>{if(!e.trim()&&!b)return alert("      ");if(n<5||n>25)return alert("     5  25   .");a(!0),r("text"),f(0);const w=new bt({apiKey:FN.API_KEY});try{const I=b?`    :
${b.substring(0,2e4)}`:"",G=`      .           (${n} )  : "${e||"  "}". 
      
      ${I}
      
             .
           ${n}:
      1. title:   .
      2. content:   3  5   .
      3. imagePrompt:        3D     "    ".
      4. layout: ['split', 'overlay', 'grid'].
      
        JSON : { "slides": [...] } -    ${n} .`,j=await w.models.generateContent({model:"gemini-3-flash-preview",contents:G,config:{responseMimeType:"application/json"}});let ne=JSON.parse(j.text||"{}").slides||[];r("images");const U=[];for(let F=0;F<ne.length;F++){f(F+1);const $=ne[F];try{const Y=`High quality professional educational background illustration, clean composition, 4k resolution, cinematic lighting, STRICTLY NO TEXT, NO WORDS, NO LETTERS, NO TYPOGRAPHY: ${$.imagePrompt}`,z=await w.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{text:Y}]},config:{imageConfig:{aspectRatio:"16:9"}}});let N="";for(const P of z.candidates[0].content.parts)P.inlineData&&(N=`data:image/png;base64,${P.inlineData.data}`);U.push({...$,imageUrl:N})}catch(Y){console.error(`Failed to generate image for slide ${F+1}`,Y),U.push($)}}m({title:e||x||"  ",slides:U}),r("completed"),g(0)}catch(I){console.error(I),alert("   .  .")}finally{a(!1)}},R=()=>{if(!p)return;const w=window.open("","_blank");if(!w)return alert("   .");const I=p.slides.map((G,j)=>`
      <div class="slide" style="page-break-after: always; width: 100%; height: 100vh; position: relative; background: #020617; color: white; font-family: 'Cairo', sans-serif; display: flex; overflow: hidden; box-sizing: border-box;">
        <div style="flex: 1.2; display: flex; flex-direction: column; justify-content: center; z-index: 10; padding: 60px; background: rgba(2, 6, 23, 0.85); backdrop-blur: 20px;">
          <h1 style="font-size: 32pt; font-weight: 900; margin-bottom: 30px; line-height: 1.3; color: #ffffff; border-right: 8px solid #6366f1; padding-right: 20px;">${G.title}</h1>
          <ul style="list-style: none; padding: 0;">
            ${G.content.map(J=>`
              <li style="font-size: 16pt; margin-bottom: 20px; display: flex; align-items: start; gap: 15px; color: #e2e8f0; font-weight: 700;">
                <span style="width: 14px; height: 14px; background: #6366f1; border-radius: 4px; margin-top: 10px; flex-shrink: 0; box-shadow: 0 0 15px rgba(99, 102, 241, 0.6);"></span>
                ${J}
              </li>`).join("")}
          </ul>
        </div>
        <div style="flex: 1; position: relative; height: 100%;">
          ${G.imageUrl?`<img src="${G.imageUrl}" style="width: 100%; height: 100%; object-fit: cover;" />`:'<div style="width:100%; height:100%; background: #1e293b;"></div>'}
          <div style="position: absolute; inset: 0; background: linear-gradient(to left, transparent, #020617);"></div>
        </div>
        <div style="position: absolute; bottom: 30px; left: 60px; font-size: 10pt; font-weight: 900; opacity: 0.4; letter-spacing: 5px;">SMART STUDENT AI</div>
        <div style="position: absolute; bottom: 30px; right: 60px; font-size: 14pt; font-weight: 900; color: #6366f1; background: rgba(255,255,255,0.1); padding: 5px 15px; border-radius: 10px;">${j+1} / ${p.slides.length}</div>
      </div>
    `).join("");w.document.write(`
      <html dir="rtl">
        <head>
          <title>${p.title}</title>
          <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
          <style>body { margin: 0; padding: 0; background: #020617; } @page { size: A4 landscape; margin: 0; } * { -webkit-print-color-adjust: exact; box-sizing: border-box; }</style>
        </head>
        <body>
          ${I}
          <script>window.onload = function() { setTimeout(function() { window.print(); }, 1500); };<\/script>
        </body>
      </html>
    `),w.document.close()},M=async()=>{if(p){a(!0);try{const w=new dh;w.layout="LAYOUT_16x9",w.rtlMode=!0,p.slides.forEach((I,G)=>{let j=w.addSlide();j.background={color:"020617"},I.imageUrl&&(j.addImage({data:I.imageUrl,x:0,y:0,w:"100%",h:"100%",sizing:{type:"cover"}}),j.addShape(w.ShapeType.rect,{x:0,y:0,w:"50%",h:"100%",fill:{color:"020617",transparency:15}})),j.addText(I.title,{x:.4,y:.8,w:"45%",h:1.2,fontSize:32,color:"FFFFFF",bold:!0,fontFace:"Arial",align:"right"});const J=I.content.map(ne=>({text:ne,options:{bullet:!0,color:"E2E8F0",fontSize:18,margin:10}}));j.addText(J,{x:.4,y:2.5,w:"45%",h:3,align:"right"}),j.addText(`${G+1}`,{x:"90%",y:"90%",fontSize:12,color:"6366f1"})}),await w.writeFile({fileName:`${p.title}.pptx`})}catch{alert("  PowerPoint.")}finally{a(!1)}}};return u.jsxs("div",{className:"flex flex-col space-y-12 animate-in fade-in duration-700 font-cairo pb-32",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-900 p-10 rounded-[4rem] shadow-2xl border border-slate-100 dark:border-slate-800 space-y-8 relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-600/5 rounded-full -translate-y-1/2 translate-x-1/2"}),u.jsxs("div",{className:"text-center space-y-3 relative z-10",children:[u.jsx("div",{className:"w-24 h-24 bg-indigo-600 rounded-[2.5rem] flex items-center justify-center text-white shadow-2xl mx-auto mb-6 transform hover:rotate-12 transition-transform",children:u.jsx(hb,{size:48})}),u.jsx("h2",{className:"text-4xl font-black dark:text-white leading-tight",children:"   "}),u.jsx("p",{className:"text-slate-500 font-bold text-lg",children:"    100%   "})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 items-end relative z-10",children:[u.jsxs("div",{className:"lg:col-span-7 space-y-3",children:[u.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-4 flex items-center gap-2",children:[u.jsx(zt,{size:14,className:"text-indigo-500"}),"    "]}),u.jsx("input",{value:e,onChange:w=>t(w.target.value),placeholder:"   (:    ...)",className:"w-full px-8 py-5 bg-slate-50 dark:bg-slate-800 rounded-3xl text-lg font-black focus:ring-4 focus:ring-indigo-100 border-none dark:text-white shadow-inner transition-all"})]}),u.jsxs("div",{className:"lg:col-span-2 space-y-3",children:[u.jsxs("label",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-4 flex items-center gap-2",children:[u.jsx(tb,{size:14,className:"text-indigo-500"}),"  "]}),u.jsx("input",{type:"number",min:"5",max:"25",value:n,onChange:w=>i(Math.max(1,parseInt(w.target.value)||10)),className:"w-full px-6 py-5 bg-slate-50 dark:bg-slate-800 rounded-3xl text-center text-2xl font-black focus:ring-4 focus:ring-indigo-100 border-none dark:text-white shadow-inner transition-all"})]}),u.jsx("div",{className:"lg:col-span-3",children:u.jsxs("button",{onClick:C,disabled:l||T,className:"w-full py-5 bg-indigo-600 hover:bg-indigo-700 text-white rounded-3xl font-black text-xl shadow-xl flex items-center justify-center gap-3 transition-all hover:scale-[1.02] active:scale-95 disabled:opacity-50 h-[68px]",children:[l?u.jsx(tt,{className:"animate-spin"}):u.jsx(fa,{})," "]})})]}),b?u.jsxs("div",{className:"flex items-center justify-between p-6 bg-emerald-50 dark:bg-emerald-900/20 rounded-3xl border-2 border-emerald-200 shadow-sm animate-in zoom-in",children:[u.jsxs("div",{className:"flex items-center gap-5",children:[u.jsx("div",{className:"w-14 h-14 bg-emerald-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:u.jsx(ol,{size:32})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-black text-lg dark:text-white truncate max-w-xs",children:x}),u.jsxs("p",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-widest",children:["       ",n," "]})]})]}),u.jsx("button",{onClick:()=>{S(null),v("")},className:"p-4 text-rose-500 hover:bg-rose-50 rounded-2xl transition-all",children:u.jsx(It,{size:28})})]}):u.jsxs("label",{className:`w-full py-12 bg-slate-50 dark:bg-slate-800 rounded-[2.5rem] border-4 border-dashed border-slate-200 dark:border-slate-700 flex flex-col items-center justify-center gap-4 cursor-pointer hover:border-indigo-500 transition-all group ${T?"opacity-50":""}`,children:[T?u.jsx(tt,{className:"animate-spin text-indigo-500",size:32}):u.jsx(X1,{className:"text-slate-300 group-hover:text-indigo-500 transition-colors",size:40}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-base font-black text-slate-500 uppercase tracking-widest",children:":    (PDF / )"}),u.jsx("input",{type:"file",className:"hidden",accept:".pdf,.txt,image/*",onChange:L})]})]})]}),l&&u.jsxs("div",{className:"flex flex-col items-center justify-center py-20 space-y-10 animate-in fade-in",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-40 h-40 border-[12px] border-indigo-600/10 border-t-indigo-600 rounded-full animate-spin shadow-2xl"}),u.jsx(zt,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-indigo-600 animate-pulse",size:48})]}),u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("h3",{className:"text-3xl font-black dark:text-white",children:o==="text"?"    ...":`     ${d}...`}),u.jsx("p",{className:"text-slate-500 font-bold text-xl",children:"       "}),o==="images"&&u.jsx("div",{className:"w-full max-w-md bg-slate-100 dark:bg-slate-800 h-3 rounded-full overflow-hidden mx-auto mt-6",children:u.jsx("div",{className:"h-full bg-indigo-600 transition-all duration-500",style:{width:`${d/n*100}%`}})})]})]}),p&&!l&&u.jsxs("div",{className:"space-y-8 animate-in zoom-in duration-700",children:[u.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center bg-white dark:bg-slate-900 p-8 rounded-[3rem] border border-slate-100 dark:border-slate-800 gap-6 shadow-2xl",children:[u.jsxs("div",{className:"flex gap-4 flex-wrap justify-center",children:[u.jsxs("button",{onClick:M,className:"px-10 py-5 bg-amber-600 hover:bg-amber-700 text-white rounded-[2rem] font-black text-lg flex items-center gap-3 shadow-xl hover:scale-105 transition-all",children:[u.jsx(Ac,{size:24})," PowerPoint"]}),u.jsxs("button",{onClick:R,className:"px-10 py-5 bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-200 rounded-[2rem] font-black text-lg flex items-center gap-3 shadow-md hover:bg-slate-200 transition-all",children:[u.jsx(Mc,{size:24})," PDF"]})]}),u.jsxs("div",{className:"text-indigo-600 font-black text-sm uppercase tracking-[0.2em] bg-indigo-50 dark:bg-indigo-900/30 px-8 py-4 rounded-full border border-indigo-100",children:[" ",h+1,"  ",p.slides.length]})]}),u.jsxs("div",{className:"bg-slate-950 rounded-[5rem] aspect-video relative overflow-hidden shadow-[0_40px_100px_rgba(0,0,0,0.5)] border-[12px] border-white/5 flex flex-col md:flex-row group",children:[p.slides.map((w,I)=>u.jsxs("div",{className:`absolute inset-0 transition-all duration-1000 ease-in-out flex flex-col md:flex-row ${h===I?"opacity-100 translate-x-0 scale-100":"opacity-0 translate-x-40 scale-95 pointer-events-none"}`,children:[u.jsxs("div",{className:"flex-1 p-12 md:p-24 flex flex-col justify-center bg-slate-900/90 backdrop-blur-2xl z-10 order-2 md:order-1 relative border-l border-white/5",children:[u.jsx("div",{className:"absolute top-12 right-12 text-[100px] font-black text-white/5 pointer-events-none select-none",children:I<9?`0${I+1}`:I+1}),u.jsx("h3",{className:"text-3xl md:text-5xl font-black text-white mb-8 md:mb-14 leading-tight border-r-8 border-indigo-600 pr-6 drop-shadow-xl",children:w.title}),u.jsx("ul",{className:"space-y-8",children:w.content.map((G,j)=>u.jsxs("li",{className:"text-lg md:text-2xl text-slate-300 font-bold flex items-start gap-6 animate-in slide-in-from-right-8",style:{animationDelay:`${j*200}ms`},children:[u.jsx("div",{className:"w-5 h-5 bg-indigo-500 rounded-lg mt-2 shadow-[0_0_20px_#6366f1] shrink-0 transform rotate-45"}),u.jsx("span",{className:"leading-relaxed",children:G})]},j))})]}),u.jsxs("div",{className:"flex-1 relative order-1 md:order-2 h-64 md:h-full overflow-hidden",children:[w.imageUrl?u.jsx("img",{src:w.imageUrl,className:"w-full h-full object-cover transition-transform duration-[20s] hover:scale-125",alt:"Clean Visual Illustration"}):u.jsxs("div",{className:"w-full h-full bg-slate-800 flex flex-col items-center justify-center gap-4",children:[u.jsx(Cc,{className:"text-slate-600",size:64}),u.jsx("span",{className:"text-slate-500 font-black",children:"  ..."})]}),u.jsx("div",{className:"absolute inset-0 bg-gradient-to-l from-transparent via-black/20 to-slate-900"})]})]},I)),u.jsxs("div",{className:"absolute bottom-12 left-1/2 -translate-x-1/2 flex gap-8 z-20 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:[u.jsx("button",{onClick:()=>g(w=>Math.max(0,w-1)),className:"w-20 h-20 bg-white/10 hover:bg-white/20 text-white rounded-full backdrop-blur-2xl transition-all border border-white/10 flex items-center justify-center shadow-2xl active:scale-90",children:u.jsx(au,{className:"rotate-180",size:32})}),u.jsx("div",{className:"flex gap-3 items-center px-10 bg-black/60 backdrop-blur-2xl rounded-full border border-white/10 max-w-[400px] overflow-x-auto no-scrollbar py-2",children:p.slides.map((w,I)=>u.jsx("div",{onClick:()=>g(I),className:`w-3 h-3 rounded-full cursor-pointer transition-all shrink-0 ${h===I?"bg-indigo-500 w-12":"bg-white/20 hover:bg-white/50"}`},I))}),u.jsx("button",{onClick:()=>g(w=>Math.min(p.slides.length-1,w+1)),className:"w-20 h-20 bg-indigo-600 text-white rounded-full hover:bg-indigo-500 transition-all shadow-[0_0_40px_rgba(79,70,229,0.5)] flex items-center justify-center active:scale-90",children:u.jsx(au,{size:32})})]})]})]}),u.jsx("style",{children:`
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
      `})]})},JN=()=>Math.random().toString(36).substr(2,9),$N=(e,t,n,i)=>{if(e.save(),e.fillStyle="#ffffff",e.fillRect(0,0,t,n),e.strokeStyle="#e2e8f0",e.lineWidth=1,i==="lines"){e.beginPath();for(let a=40;a<n;a+=40)e.moveTo(0,a),e.lineTo(t,a);e.stroke()}else if(i==="grid"){e.beginPath();for(let a=40;a<t;a+=40)e.moveTo(a,0),e.lineTo(a,n);for(let a=40;a<n;a+=40)e.moveTo(0,a),e.lineTo(t,a);e.stroke()}else if(i==="dots"){e.fillStyle="#cbd5e1";for(let a=40;a<t;a+=40)for(let o=40;o<n;o+=40)e.beginPath(),e.arc(a,o,1.5,0,Math.PI*2),e.fill()}e.restore()},KN=(e,t,n,i,l)=>{const a=n.x-t.x,o=n.y-t.y,r=t.x+a/2,d=t.y+o/2;if(e.beginPath(),i==="rectangle")e.rect(t.x,t.y,a,o);else if(i==="circle")e.ellipse(r,d,Math.abs(a)/2,Math.abs(o)/2,0,0,2*Math.PI);else if(i==="arrow"){const f=Math.atan2(n.y-t.y,n.x-t.x),p=15;e.moveTo(t.x,t.y),e.lineTo(n.x,n.y),e.moveTo(n.x,n.y),e.lineTo(n.x-p*Math.cos(f-Math.PI/6),n.y-p*Math.sin(f-Math.PI/6)),e.moveTo(n.x,n.y),e.lineTo(n.x-p*Math.cos(f+Math.PI/6),n.y-p*Math.sin(f+Math.PI/6))}else if(i==="star"){const p=Math.min(Math.abs(a),Math.abs(o))/2,m=p/2;let h=Math.PI/2*3;const g=Math.PI/5;e.moveTo(r,d-p);for(let b=0;b<5;b++)e.lineTo(r+Math.cos(h)*p,d+Math.sin(h)*p),h+=g,e.lineTo(r+Math.cos(h)*m,d+Math.sin(h)*m),h+=g;e.closePath()}else if(i==="check"){const p=Math.min(Math.abs(a),Math.abs(o))*.2;e.moveTo(t.x+p,d),e.lineTo(r,n.y-p),e.lineTo(n.x-p,t.y+p)}else if(i==="cross"){const f=Math.min(Math.abs(a),Math.abs(o))*.2;e.moveTo(t.x+f,t.y+f),e.lineTo(n.x-f,n.y-f),e.moveTo(n.x-f,t.y+f),e.lineTo(t.x+f,n.y-f)}l&&!["arrow","check","cross"].includes(i)&&e.fill(),e.stroke()},XN=({isOpen:e,onClose:t,onConnect:n,isConnecting:i,initialRoomId:l})=>{const[a,o]=E.useState(l||""),[r,d]=E.useState(!1);if(E.useEffect(()=>{!a&&e&&o(JN())},[e]),!e)return null;const f=async()=>{const p=new URL(window.location.href);p.searchParams.set("room",a),await navigator.clipboard.writeText(p.toString()),d(!0),setTimeout(()=>d(!1),2e3)};return u.jsx("div",{className:"fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[100] flex items-center justify-center p-4",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[2.5rem] shadow-2xl w-full max-w-md p-8 border border-white/20 animate-in zoom-in",dir:"rtl",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsx("h2",{className:"text-2xl font-black dark:text-white",children:" "}),u.jsx("button",{onClick:t,className:"p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full transition-colors",children:u.jsx(It,{size:24,className:"text-slate-400"})})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"bg-indigo-50 dark:bg-indigo-900/30 p-5 rounded-2xl text-xs font-bold text-indigo-700 dark:text-indigo-300 leading-relaxed",children:"          ."}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 px-2",children:" "}),u.jsx("input",{type:"text",value:a,onChange:p=>o(p.target.value),className:"w-full bg-slate-50 dark:bg-slate-800 border-none rounded-2xl p-4 text-center font-mono text-xl tracking-widest dark:text-white focus:ring-2 focus:ring-indigo-500"})]}),u.jsxs("div",{className:"flex flex-col gap-3",children:[u.jsxs("button",{onClick:()=>n(a),disabled:i,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black py-4 rounded-2xl shadow-xl transition-all active:scale-95 flex justify-center items-center gap-3",children:[i?u.jsx(tt,{className:"animate-spin"}):u.jsx(kg,{size:20})," /  "]}),u.jsxs("button",{onClick:f,className:"w-full bg-slate-100 dark:bg-slate-800 hover:bg-slate-200 dark:hover:bg-slate-700 text-slate-700 dark:text-slate-200 font-bold py-4 rounded-2xl transition-all flex items-center justify-center gap-3",children:[u.jsx(ib,{size:18}),r?"  ":"  "]})]})]})]})})},QN=()=>{const[e,t]=E.useState("pen"),[n,i]=E.useState({color:"#4f46e5",thickness:5,isFilled:!1}),[l,a]=E.useState("rectangle"),[o,r]=E.useState("plain"),[d,f]=E.useState([""]),[p,m]=E.useState(0),[h,g]=E.useState([]),[b,S]=E.useState(-1),[_,y]=E.useState(null),[x,v]=E.useState(!1),[T,A]=E.useState(!1),[L,C]=E.useState(null),[R,M]=E.useState(!0),[w,I]=E.useState(!0),G=E.useRef(null),j=E.useRef(null),J=E.useRef(null),ne=E.useRef(null),U=E.useRef([]),[F,$]=E.useState(!1),[Y,z]=E.useState(null),[N,P]=E.useState(null),[q,k]=E.useState(null),B=E.useRef(null),[Q,ie]=E.useState({}),oe=["#000000","#ef4444","#22c55e","#3b82f6","#eab308","#a855f7","#4f46e5"],le=E.useCallback(()=>{const V=j.current;if(!V)return;const K=V.getContext("2d");if(!K)return;if(K.clearRect(0,0,V.width,V.height),$N(K,V.width,V.height,o),_){const ze=Math.min(V.width/_.width,V.height/_.height),Ft=(V.width-_.width*ze)/2,Ke=(V.height-_.height*ze)/2;K.drawImage(_,0,0,_.width,_.height,Ft,Ke,_.width*ze,_.height*ze)}const ae=h[b];if(ae){const ze=new Image;ze.src=ae,ze.onload=()=>K.drawImage(ze,0,0,V.width,V.height)}},[o,_,h,b]),xe=E.useCallback(()=>{if(!G.current||!j.current||!J.current)return;const{clientWidth:V,clientHeight:K}=G.current;j.current.width=J.current.width=V,j.current.height=J.current.height=K,le()},[le]);E.useEffect(()=>(window.addEventListener("resize",xe),xe(),()=>window.removeEventListener("resize",xe)),[xe]);const ke=V=>{T&&ne.current&&ne.current.send({type:"broadcast",event:"wb",payload:V})},jt=V=>{if(!G.current)return{x:0,y:0,nx:0,ny:0};const K=G.current.getBoundingClientRect(),ae=V.touches?V.touches[0].clientX:V.clientX,ze=V.touches?V.touches[0].clientY:V.clientY;return{x:ae-K.left,y:ze-K.top,nx:(ae-K.left)/K.width,ny:(ze-K.top)/K.height}},dt=V=>{const K=h.slice(0,b+1);K.push(V),K.length>30&&K.shift(),g(K),S(K.length-1);const ae=[...d];ae[p]=V,f(ae)},Gt=V=>{if(!R&&!w)return;const K=jt(V);if(e==="text"){q!=null&&q.visible?Bc():k({...K,visible:!0,value:""});return}$(!0),z(K),P(K)},Vc=V=>{var ze,Ft;const K=jt(V);if(T&&ke({type:"cursor",x:K.nx,y:K.ny,user:"User"}),e==="laser"){U.current.push({...K,time:Date.now()}),ke({type:"laser",x:K.nx,y:K.ny});return}if(!F||!N)return;const ae=(ze=j.current)==null?void 0:ze.getContext("2d");if(["pen","eraser","highlighter"].includes(e)&&ae)ae.beginPath(),ae.strokeStyle=e==="eraser"?"#ffffff":n.color,ae.lineWidth=e==="highlighter"?n.thickness*3:n.thickness,ae.globalAlpha=e==="highlighter"?.3:1,ae.lineCap="round",ae.moveTo(N.x,N.y),ae.lineTo(K.x,K.y),ae.stroke(),ke({type:"draw",x0:N.nx,y0:N.ny,x1:K.nx,y1:K.ny,color:ae.strokeStyle,thickness:ae.lineWidth,opacity:ae.globalAlpha}),P(K),ae.globalAlpha=1;else if(e==="shape"){const Ke=(Ft=J.current)==null?void 0:Ft.getContext("2d");Ke&&(Ke.clearRect(0,0,J.current.width,J.current.height),Ke.strokeStyle=n.color,Ke.lineWidth=n.thickness,Ke.fillStyle=n.color,KN(Ke,Y,K,l,n.isFilled))}},Ts=V=>{var K,ae;if(F){if($(!1),e==="shape"){const ze=jt(V),Ft=(K=j.current)==null?void 0:K.getContext("2d");Ft&&J.current&&(Ft.drawImage(J.current,0,0),(ae=J.current.getContext("2d"))==null||ae.clearRect(0,0,J.current.width,J.current.height),ke({type:"shape",shapeType:l,x0:Y.nx,y0:Y.ny,x1:ze.nx,y1:ze.ny,color:n.color,thickness:n.thickness,fill:n.isFilled}))}j.current&&dt(j.current.toDataURL())}},Bc=()=>{var K;if(!(q!=null&&q.value))return k(null);const V=(K=j.current)==null?void 0:K.getContext("2d");V&&(V.font=`${n.thickness*4}px 'Cairo'`,V.fillStyle=n.color,V.fillText(q.value,q.x,q.y),ke({type:"text",text:q.value,x:q.nx,y:q.ny,color:n.color,fontSize:n.thickness*4}),dt(j.current.toDataURL())),k(null)};E.useEffect(()=>{let V;const K=()=>{var Ft;const ae=(Ft=J.current)==null?void 0:Ft.getContext("2d");if(!ae)return;(!F||e!=="shape")&&ae.clearRect(0,0,J.current.width,J.current.height),Object.entries(Q).forEach(([Ke,Na])=>{const Ny=Na.x*J.current.width,Ay=Na.y*J.current.height;ae.fillStyle="rgba(79, 70, 229, 0.4)",ae.beginPath(),ae.arc(Ny,Ay,6,0,Math.PI*2),ae.fill()});const ze=Date.now();U.current=U.current.filter(Ke=>ze-Ke.time<800),U.current.length>1&&(ae.beginPath(),ae.strokeStyle="#ef4444",ae.lineWidth=4,ae.lineCap="round",U.current.forEach((Ke,Na)=>{Na===0?ae.moveTo(Ke.x,Ke.y):ae.lineTo(Ke.x,Ke.y)}),ae.stroke()),V=requestAnimationFrame(K)};return K(),()=>cancelAnimationFrame(V)},[F,e,Q]);const _y=V=>{C(V),A(!0),v(!1)},wy=()=>{var V;if(confirm("    ")){const K=(V=j.current)==null?void 0:V.getContext("2d");K&&K.clearRect(0,0,j.current.width,j.current.height),g([""]),S(0),ke({type:"clear"})}},Ey=()=>{const V=document.createElement("a");V.download=`smart-board-${Date.now()}.png`,V.href=j.current.toDataURL(),V.click()};return u.jsxs("div",{className:"flex flex-col h-[calc(100vh-10rem)] bg-slate-50 dark:bg-slate-950 rounded-[3rem] shadow-2xl border border-slate-100 dark:border-slate-800 overflow-hidden relative font-cairo",children:[u.jsxs("div",{className:"bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl px-8 py-4 border-b border-slate-100 dark:border-slate-800 flex flex-wrap items-center justify-between gap-6 z-20 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsx("div",{className:"flex items-center gap-1.5 p-1.5 bg-slate-50 dark:bg-slate-800 rounded-2xl border dark:border-slate-700",children:oe.map(V=>u.jsx("button",{onClick:()=>i(K=>({...K,color:V})),className:`w-8 h-8 rounded-xl border-2 transition-all ${n.color===V?"border-indigo-500 scale-110 shadow-lg":"border-transparent"}`,style:{backgroundColor:V}},V))}),u.jsxs("div",{className:"flex items-center gap-4 border-r dark:border-slate-700 pr-6 mr-2",children:[u.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:""}),u.jsx("input",{type:"range",min:"1",max:"50",value:n.thickness,onChange:V=>i(K=>({...K,thickness:parseInt(V.target.value)})),className:"w-32 accent-indigo-600"})]}),e==="shape"&&u.jsxs("select",{value:l,onChange:V=>a(V.target.value),className:"bg-slate-50 dark:bg-slate-800 border-none rounded-xl p-2.5 text-xs font-bold dark:text-white focus:ring-2 focus:ring-indigo-500",children:[u.jsx("option",{value:"rectangle",children:""}),u.jsx("option",{value:"circle",children:""}),u.jsx("option",{value:"arrow",children:""}),u.jsx("option",{value:"star",children:""}),u.jsx("option",{value:"check",children:" "})]}),u.jsxs("select",{value:o,onChange:V=>r(V.target.value),className:"bg-slate-50 dark:bg-slate-800 border-none rounded-xl p-2.5 text-xs font-bold dark:text-white focus:ring-2 focus:ring-indigo-500",children:[u.jsx("option",{value:"plain",children:" "}),u.jsx("option",{value:"grid",children:" "}),u.jsx("option",{value:"lines",children:""}),u.jsx("option",{value:"dots",children:""})]})]}),u.jsxs("div",{className:"flex items-center gap-4 bg-slate-50 dark:bg-slate-800 p-1.5 rounded-2xl border dark:border-slate-700 shadow-inner",children:[u.jsx("button",{disabled:p===0,className:"w-10 h-10 rounded-xl hover:bg-white dark:hover:bg-slate-700 flex items-center justify-center text-slate-500 disabled:opacity-30",children:u.jsx(yg,{size:20})}),u.jsxs("span",{className:"text-xs font-black dark:text-white px-2",children:[" ",p+1," / ",d.length]}),u.jsx("button",{disabled:p===d.length-1,className:"w-10 h-10 rounded-xl hover:bg-white dark:hover:bg-slate-700 flex items-center justify-center text-slate-500 disabled:opacity-30",children:u.jsx(gg,{size:20})}),u.jsx("div",{className:"w-px h-6 bg-slate-200 dark:bg-slate-700"}),u.jsx("button",{onClick:()=>f(V=>[...V,""]),className:"w-10 h-10 rounded-xl hover:bg-white dark:hover:bg-slate-700 flex items-center justify-center text-indigo-600",children:u.jsx(K1,{size:20})})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("button",{onClick:()=>v(!0),className:`flex items-center gap-2 px-6 py-2.5 rounded-2xl text-xs font-black transition-all ${T?"bg-emerald-500 text-white shadow-emerald-200":"bg-slate-100 dark:bg-slate-800 text-slate-700 dark:text-slate-300 hover:bg-slate-200"} shadow-lg`,children:[u.jsx(kg,{size:16})," ",T?" ":" "]}),u.jsx("button",{onClick:Cy,disabled:b<=0,className:"w-10 h-10 rounded-xl bg-slate-50 dark:bg-slate-800 flex items-center justify-center text-slate-500 hover:text-indigo-600 disabled:opacity-30",children:u.jsx(Mg,{size:20})}),u.jsx("button",{onClick:wy,className:"w-10 h-10 rounded-xl bg-rose-50 dark:bg-rose-900/30 flex items-center justify-center text-rose-500 hover:bg-rose-500 hover:text-white transition-all",children:u.jsx(da,{size:20})}),u.jsxs("button",{onClick:Ey,className:"px-6 py-2.5 bg-indigo-600 text-white rounded-2xl text-xs font-black shadow-xl hover:bg-indigo-700 active:scale-95 transition-all",children:[u.jsx(ua,{size:18})," "]})]})]}),u.jsxs("div",{className:"flex-1 flex overflow-hidden relative",children:[u.jsxs("aside",{className:"w-20 bg-white dark:bg-slate-900 border-l border-slate-100 dark:border-slate-800 flex flex-col items-center py-8 gap-4 shadow-xl z-20 overflow-y-auto custom-scrollbar",children:[[{id:"pen",icon:_f,label:""},{id:"highlighter",icon:W1,label:""},{id:"eraser",icon:Sf,label:""},{id:"text",icon:Cf,label:""},{id:"shape",icon:uu,label:""},{id:"laser",icon:fa,label:""},{id:"hand",icon:cb,label:""}].map(V=>u.jsx("button",{onClick:()=>t(V.id),title:V.label,className:`w-12 h-12 rounded-2xl flex items-center justify-center transition-all ${e===V.id?"bg-indigo-600 text-white shadow-xl shadow-indigo-100 dark:shadow-none scale-110":"text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 hover:text-indigo-600"}`,children:u.jsx(V.icon,{size:22})},V.id)),u.jsx("div",{className:"w-10 h-px bg-slate-100 dark:bg-slate-800 my-2"}),u.jsxs("label",{className:"w-12 h-12 rounded-2xl flex items-center justify-center text-slate-400 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 hover:text-indigo-600 cursor-pointer transition-all",children:[u.jsx(Ca,{size:22}),u.jsx("input",{type:"file",className:"hidden",accept:"image/*"})]})]}),u.jsxs("main",{className:"flex-1 relative bg-white overflow-hidden touch-none",ref:G,children:[T&&u.jsxs("div",{className:"absolute top-6 left-6 z-30 flex items-center gap-3 bg-white/90 dark:bg-slate-800/90 backdrop-blur px-4 py-2 rounded-full border dark:border-slate-700 shadow-sm pointer-events-none",children:[u.jsx("span",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-ping"}),u.jsxs("span",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-widest",children:[" : ",L]})]}),u.jsx("canvas",{ref:j,className:"absolute inset-0 z-0",onMouseDown:Gt,onMouseMove:Vc,onMouseUp:Ts,onMouseLeave:Ts,onTouchStart:Gt,onTouchMove:Vc,onTouchEnd:Ts}),u.jsx("canvas",{ref:J,className:"absolute inset-0 z-10 pointer-events-none"}),(q==null?void 0:q.visible)&&u.jsx("textarea",{ref:B,autoFocus:!0,value:q.value,onChange:V=>k({...q,value:V.target.value}),onBlur:Bc,placeholder:" ...",className:"absolute z-50 bg-white/90 dark:bg-slate-800/90 border-2 border-indigo-500 rounded-2xl p-4 shadow-2xl outline-none resize-none min-w-[200px] font-bold text-lg",style:{left:q.x,top:q.y}})]})]}),u.jsx("div",{className:"lg:hidden flex justify-around p-4 bg-white dark:bg-slate-900 border-t border-slate-100 dark:border-slate-800 z-50",children:["pen","eraser","shape","text","laser"].map(V=>u.jsxs("button",{onClick:()=>t(V),className:`p-4 rounded-2xl transition-all ${e===V?"bg-indigo-100 text-indigo-600":"text-slate-400"}`,children:[V==="pen"&&u.jsx(_f,{size:24}),V==="eraser"&&u.jsx(Sf,{size:24}),V==="shape"&&u.jsx(uu,{size:24}),V==="text"&&u.jsx(Cf,{size:24}),V==="laser"&&u.jsx(fa,{size:24})]},V))}),u.jsx(XN,{isOpen:x,onClose:()=>v(!1),onConnect:_y,initialRoomId:L,isConnecting:!1}),u.jsx("style",{children:`
                .custom-scrollbar::-webkit-scrollbar { width: 4px; }
                .custom-scrollbar::-webkit-scrollbar-thumb { background: #e2e8f0; border-radius: 10px; }
                canvas { touch-action: none; image-rendering: pixelated; }
            `})]});function Cy(){b>0&&S(V=>V-1)}},ZN=()=>{const e=[{name:" ",price:"0",desc:"   ",features:["5  ","  ()"," "," "],color:"bg-gray-500",popular:!1},{name:" ",price:"19",desc:"   ",features:["  ","  ","  "," ","  "],color:"bg-indigo-600",popular:!0},{name:" ",price:"49",desc:"  ",features:["  ","  AI","  100GB"," ","  "],color:"bg-purple-700",popular:!1}];return u.jsxs("div",{className:"space-y-12 animate-in fade-in duration-500",children:[u.jsxs("div",{className:"text-center space-y-4 max-w-2xl mx-auto",children:[u.jsx("h2",{className:"text-4xl font-black dark:text-white",children:"    "}),u.jsx("p",{className:"text-gray-500 text-lg",children:"         "})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:e.map(t=>u.jsxs("div",{className:`relative bg-white dark:bg-gray-800 p-10 rounded-[4rem] shadow-2xl border-2 transition-all hover:scale-105 ${t.popular?"border-indigo-600":"border-transparent dark:border-gray-700"}`,children:[t.popular&&u.jsxs("div",{className:"absolute -top-5 left-1/2 -translate-x-1/2 bg-indigo-600 text-white px-6 py-2 rounded-full font-bold text-sm flex items-center gap-2",children:[u.jsx(Cg,{size:14,fill:"white"}),"  "]}),u.jsxs("div",{className:"text-center mb-8",children:[u.jsx("h3",{className:"text-2xl font-black dark:text-white mb-2",children:t.name}),u.jsx("p",{className:"text-gray-500 text-sm font-medium",children:t.desc}),u.jsxs("div",{className:"mt-6 flex justify-center items-baseline gap-1",children:[u.jsxs("span",{className:"text-5xl font-black dark:text-white",children:["$",t.price]}),u.jsx("span",{className:"text-gray-400 font-bold",children:"/"})]})]}),u.jsx("div",{className:"space-y-4 mb-10",children:t.features.map(n=>u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center text-white ${t.color}`,children:u.jsx(B1,{size:14})}),u.jsx("span",{className:"text-gray-600 dark:text-gray-300 font-bold text-sm",children:n})]},n))}),u.jsx("button",{className:`w-full py-5 rounded-3xl font-black text-lg transition-all shadow-xl ${t.popular?"bg-indigo-600 text-white hover:bg-indigo-700":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-white hover:bg-gray-200"}`,children:" "})]},t.name))})]})};var WN={SUPABASE_URL:'""',SUPABASE_ANON_KEY:'""'};const eA=({lang:e="ar"})=>{const[t,n]=E.useState("list"),[i,l]=E.useState([]),[a,o]=E.useState([]),[r,d]=E.useState(!1),[f,p]=E.useState(!1),[m,h]=E.useState(null),[g,b]=E.useState(""),[S,_]=E.useState(!1),[y,x]=E.useState(""),[v,T]=E.useState("09:00"),[A,L]=E.useState(" "),[C,R]=E.useState(0),w=(()=>{const k=new Date,B=k.getDay();return[{ar:"",en:"Sat",idx:6},{ar:"",en:"Sun",idx:0},{ar:"",en:"Mon",idx:1},{ar:"",en:"Tue",idx:2},{ar:"",en:"Wed",idx:3},{ar:"",en:"Thu",idx:4},{ar:"",en:"Fri",idx:5}].map((ie,oe)=>{const le=new Date,xe=(B+1)%7;return le.setDate(k.getDate()-xe+oe),{...ie,date:le.toLocaleDateString(e==="ar"?"ar-EG":"en-US",{day:"numeric",month:"short"}),fullDate:le.toDateString(),isToday:le.toDateString()===k.toDateString(),originalIdx:oe}})})(),[I,G]=E.useState(w.findIndex(k=>k.isToday)!==-1?w.findIndex(k=>k.isToday):0),[j,J]=E.useState(""),[ne,U]=E.useState(4),[F,$]=E.useState("07:00");E.useEffect(()=>{(async()=>{const[B,Q]=await Promise.all([Z.getTasks(),Z.getSubjects()]);l(B),o(Q)})()},[]);const Y=async k=>{var Q;const B=(Q=k.target.files)==null?void 0:Q[0];if(B){_(!0),b(B.name);try{if(B.type==="application/pdf"){const ie=window.pdfjsLib;if(!ie)throw new Error("PDF.js not loaded");const oe=await B.arrayBuffer(),le=await ie.getDocument({data:oe}).promise;let xe="";for(let ke=1;ke<=le.numPages;ke++){const dt=await(await le.getPage(ke)).getTextContent();xe+=dt.items.map(Gt=>Gt.str).join(" ")+`
`}h(xe)}else{const ie=await B.text();h(ie)}}catch{alert("     .")}finally{_(!1)}}},z=async()=>{let k="";if(m)k=m;else{const B=a.flatMap(Q=>Q.lectures.filter(ie=>!ie.isCompleted).map(ie=>({title:ie.title,subject:Q.name,color:Q.color})));if(B.length===0){alert("   'Syllabus'           .");return}k=JSON.stringify(B)}d(!0);try{const B=new bt({apiKey:WN.API_KEY}),Q=`      .         ${j}  ${ne}     ${F}.
       :
      ${k.substring(0,15e3)}
      
      :           (0-6  0  ).
      
           JSON   :
      [
        {
          "title": "  -  ",
          "time": "HH:MM",
          "duration": "  ",
          "dayIndex": 0,
          "subjectColor": "bg-indigo-500" 
        }
      ]
        JSON .`,ie=await B.models.generateContent({model:"gemini-3-flash-preview",contents:Q,config:{responseMimeType:"application/json"}}),oe=JSON.parse(ie.text||"[]");if(Array.isArray(oe)){const le=await Z.saveBatchTasks(oe);l(le),n("list"),h(null),alert("       !")}}catch(B){console.error(B),alert("     .")}finally{d(!1)}},N=async()=>{if(!y.trim())return;const k={title:y,time:v,duration:A,dayIndex:C},B=await Z.saveTask(k);l(B),p(!1),x("")},P=async k=>{const B=await Z.toggleTask(k);l(B)},q=async k=>{const B=await Z.deleteTask(k);l(B)};return u.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500 pb-20 font-cairo",children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"lg:col-span-3",children:[u.jsxs("h2",{className:"text-4xl font-black dark:text-white flex items-center gap-4",children:[u.jsx(ou,{className:"text-indigo-600",size:36}),"   "]}),u.jsxs("div",{className:"flex gap-2 mt-6 p-1.5 bg-slate-100 dark:bg-slate-800 rounded-3xl w-fit border dark:border-slate-700",children:[u.jsxs("button",{onClick:()=>n("list"),className:`px-8 py-3.5 rounded-2xl font-black flex items-center gap-3 transition-all ${t==="list"?"bg-white dark:bg-slate-700 text-indigo-600 shadow-md":"text-slate-500"}`,children:[u.jsx(ab,{size:20}),"  "]}),u.jsxs("button",{onClick:()=>n("smart"),className:`px-8 py-3.5 rounded-2xl font-black flex items-center gap-3 transition-all ${t==="smart"?"bg-indigo-600 text-white shadow-xl":"text-slate-500"}`,children:[u.jsx(fa,{size:20}),"   AI"]})]})]}),u.jsxs("div",{className:"bg-rose-500 p-8 rounded-[3rem] text-white shadow-2xl flex flex-col justify-between relative overflow-hidden group",children:[u.jsx(Cc,{size:40,className:"relative z-10"}),u.jsxs("div",{className:"relative z-10",children:[u.jsx("p",{className:"text-5xl font-black",children:i.filter(k=>k.status!=="completed").length}),u.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest opacity-80 mt-1",children:" "})]}),u.jsx(cu,{className:"absolute -bottom-6 -right-6 text-white/10 group-hover:scale-125 transition-transform",size:140})]})]}),t==="smart"?u.jsxs("div",{className:"bg-white dark:bg-slate-900 p-12 rounded-[4rem] border-4 border-indigo-500/10 shadow-2xl space-y-12 animate-in zoom-in",children:[u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"w-20 h-20 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 rounded-3xl flex items-center justify-center mx-auto mb-6 shadow-xl",children:u.jsx(zt,{size:40})}),u.jsx("h3",{className:"text-4xl font-black dark:text-white leading-tight",children:"    "}),u.jsx("p",{className:"text-slate-500 font-bold text-lg max-w-2xl mx-auto",children:"   Syllabus      PDF          ."})]}),u.jsx("div",{className:"max-w-3xl mx-auto w-full",children:m?u.jsxs("div",{className:"flex items-center justify-between p-6 bg-indigo-50 dark:bg-indigo-900/20 rounded-2xl border border-indigo-200 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-14 h-14 bg-indigo-600 rounded-2xl flex items-center justify-center text-white shadow-lg",children:u.jsx(di,{size:28})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-black text-base dark:text-white",children:g}),u.jsx("p",{className:"text-[10px] font-black text-indigo-500 uppercase tracking-widest",children:"   "})]})]}),u.jsx("button",{onClick:()=>h(null),className:"p-3 text-rose-500 hover:bg-rose-50 rounded-xl transition-all",children:u.jsx(It,{size:24})})]}):u.jsxs("label",{className:`w-full py-12 bg-slate-50 dark:bg-slate-800 rounded-3xl border-2 border-dashed border-slate-200 dark:border-slate-700 flex flex-col items-center justify-center gap-3 cursor-pointer hover:border-indigo-500 transition-all ${S?"opacity-50":""}`,children:[S?u.jsx(tt,{className:"animate-spin text-indigo-500"}):u.jsx(xi,{className:"text-slate-400",size:40}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-sm font-black text-slate-500 uppercase tracking-widest",children:"   (PDF / Syllabus / Image)"}),u.jsx("input",{type:"file",className:"hidden",accept:".pdf,.txt,image/*",onChange:Y})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-right bg-slate-50 dark:bg-slate-800/50 p-10 rounded-[3rem] border dark:border-slate-700",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-2",children:"  "}),u.jsx("input",{type:"number",value:ne,onChange:k=>U(parseInt(k.target.value)),className:"w-full px-8 py-5 bg-white dark:bg-slate-800 rounded-2xl border-none font-black text-2xl dark:text-white shadow-sm focus:ring-2 focus:ring-indigo-500"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-2",children:" "}),u.jsx("input",{type:"time",value:F,onChange:k=>$(k.target.value),className:"w-full px-8 py-5 bg-white dark:bg-slate-800 rounded-2xl border-none font-black text-2xl dark:text-white shadow-sm focus:ring-2 focus:ring-indigo-500"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("label",{className:"text-xs font-black text-slate-400 uppercase tracking-widest px-2",children:" "}),u.jsxs("select",{value:j,onChange:k=>J(k.target.value),className:"w-full px-8 py-5 bg-white dark:bg-slate-800 rounded-2xl border-none font-black text-lg dark:text-white shadow-sm focus:ring-2 focus:ring-indigo-500 appearance-none",children:[u.jsx("option",{value:"",children:" "}),u.jsx("option",{value:"",children:"  "})]})]})]}),u.jsxs("button",{onClick:z,disabled:r||S,className:"w-full py-8 bg-indigo-600 text-white rounded-[2.5rem] font-black text-2xl shadow-[0_20px_50px_rgba(79,70,229,0.3)] flex items-center justify-center gap-5 transition-all hover:scale-[1.01] active:scale-95 disabled:opacity-50",children:[r?u.jsx(tt,{className:"animate-spin",size:32}):u.jsx(cu,{size:32}),"    "]})]}):u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-7 gap-10",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[u.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.3em] px-4 mb-2",children:" "}),w.map((k,B)=>u.jsxs("button",{onClick:()=>G(B),className:`w-full p-6 rounded-[2.5rem] border-4 flex flex-col items-start transition-all relative group ${I===B?"bg-indigo-600 border-indigo-600 text-white shadow-2xl scale-[1.02]":"bg-white dark:bg-slate-900 border-slate-50 dark:border-slate-800 text-slate-500 hover:border-indigo-100"}`,children:[k.isToday&&u.jsx("span",{className:`absolute top-5 left-6 px-3 py-1 rounded-full text-[8px] font-black uppercase tracking-widest ${I===B?"bg-white text-indigo-600":"bg-indigo-600 text-white shadow-lg shadow-indigo-200"}`,children:""}),u.jsx("span",{className:"font-black text-2xl",children:k.ar}),u.jsx("span",{className:"text-xs font-bold mt-1 opacity-60",children:k.date})]},B))]}),u.jsxs("div",{className:"lg:col-span-5 bg-white dark:bg-slate-900 rounded-[4rem] p-12 shadow-2xl border border-slate-100 dark:border-slate-800 min-h-[650px] flex flex-col relative overflow-hidden",children:[u.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/5 rounded-full -translate-y-1/2 translate-x-1/2"}),u.jsxs("div",{className:"flex justify-between items-center mb-12 relative z-10",children:[u.jsxs("div",{children:[u.jsxs("h4",{className:"text-3xl font-black dark:text-white",children:[" ",w[I].ar]}),u.jsxs("p",{className:"text-slate-400 font-bold text-xs mt-1 uppercase tracking-widest",children:[i.filter(k=>k.dayIndex===I).length,"  "]})]}),u.jsx("button",{onClick:()=>{R(I),p(!0)},className:"w-16 h-16 bg-indigo-600 text-white rounded-[2rem] flex items-center justify-center shadow-xl hover:scale-110 transition-all active:scale-90",children:u.jsx(ca,{size:32})})]}),u.jsxs("div",{className:"flex-1 space-y-6 relative z-10",children:[i.filter(k=>k.dayIndex===I).map(k=>u.jsxs("div",{className:"group relative flex items-center gap-6 p-8 bg-slate-50 dark:bg-slate-800/50 rounded-[3rem] border-2 border-transparent hover:border-indigo-100 transition-all shadow-sm",children:[u.jsx("div",{className:`w-2.5 h-16 absolute right-0 top-1/2 -translate-y-1/2 ${k.subjectColor||"bg-indigo-500"} rounded-r-full shadow-lg`}),u.jsx("button",{onClick:()=>P(k.id),className:`w-14 h-14 rounded-3xl flex items-center justify-center transition-all border-4 ${k.status==="completed"?"bg-emerald-500 border-emerald-500 text-white shadow-emerald-200 shadow-lg":"bg-white dark:bg-slate-700 border-slate-200 text-slate-200"}`,children:u.jsx(su,{size:28})}),u.jsxs("div",{className:"flex-1 text-right",children:[u.jsx("h5",{className:`font-black text-xl transition-all ${k.status==="completed"?"text-slate-400 line-through":"dark:text-white text-slate-800"}`,children:k.title}),u.jsxs("div",{className:"flex gap-6 mt-2",children:[u.jsxs("span",{className:"text-xs font-black text-slate-400 flex items-center gap-1.5",children:[u.jsx(hs,{size:14,className:"text-indigo-500"})," ",k.time]}),u.jsxs("span",{className:"text-xs font-black text-indigo-500 flex items-center gap-1.5",children:[u.jsx(Cg,{size:14})," ",k.duration]})]})]}),u.jsx("button",{onClick:()=>q(k.id),className:"opacity-0 group-hover:opacity-100 p-4 bg-rose-50 text-rose-500 rounded-2xl hover:bg-rose-500 hover:text-white transition-all shadow-sm",children:u.jsx(da,{size:20})})]},k.id)),i.filter(k=>k.dayIndex===I).length===0&&u.jsxs("div",{className:"py-24 text-center opacity-20 animate-in fade-in",children:[u.jsx(P1,{size:100,className:"mx-auto text-indigo-300"}),u.jsx("p",{className:"font-black text-2xl mt-6 uppercase tracking-widest",children:"    "})]})]})]})]}),f&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-slate-900/70 backdrop-blur-md animate-in fade-in",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-[4rem] p-12 shadow-[0_50px_100px_rgba(0,0,0,0.3)] relative animate-in zoom-in font-cairo border-4 border-white/10",dir:"rtl",children:[u.jsx("button",{onClick:()=>p(!1),className:"absolute top-10 left-10 text-slate-400 hover:text-rose-500 transition-all p-2",children:u.jsx(It,{size:32})}),u.jsxs("div",{className:"text-center mb-10",children:[u.jsx("div",{className:"w-20 h-20 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 rounded-[2rem] flex items-center justify-center mx-auto mb-6",children:u.jsx(ou,{size:40})}),u.jsx("h3",{className:"text-4xl font-black dark:text-white",children:"  "}),u.jsx("p",{className:"text-slate-500 font-bold mt-2",children:"    "})]}),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 px-2 tracking-[0.3em]",children:" "}),u.jsx("input",{value:y,onChange:k=>x(k.target.value),placeholder:":   ",className:"w-full px-8 py-5 bg-slate-50 dark:bg-slate-800 rounded-3xl font-black text-lg border-none dark:text-white focus:ring-4 focus:ring-indigo-100 transition-all"})]}),u.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 px-2 tracking-[0.3em]",children:" "}),u.jsx("input",{type:"time",value:v,onChange:k=>T(k.target.value),className:"w-full px-8 py-5 bg-slate-50 dark:bg-slate-800 rounded-3xl border-none font-black text-xl dark:text-white shadow-inner"})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 px-2 tracking-[0.3em]",children:""}),u.jsx("select",{value:C,onChange:k=>R(parseInt(k.target.value)),className:"w-full px-8 py-5 bg-slate-50 dark:bg-slate-800 rounded-3xl border-none font-black text-lg dark:text-white appearance-none pr-10",children:w.map((k,B)=>u.jsx("option",{value:B,children:k.ar},B))})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("label",{className:"text-[10px] font-black uppercase text-slate-400 px-2 tracking-[0.3em]",children:" "}),u.jsx("input",{value:A,onChange:k=>L(k.target.value),placeholder:":  ",className:"w-full px-8 py-5 bg-slate-50 dark:bg-slate-800 rounded-3xl font-black text-lg border-none dark:text-white shadow-inner"})]}),u.jsxs("button",{onClick:N,className:"w-full py-7 bg-indigo-600 text-white rounded-[2.5rem] font-black text-2xl shadow-2xl transition-all hover:scale-[1.02] active:scale-95 flex items-center justify-center gap-4 mt-4",children:[u.jsx(ol,{size:28}),"  "]})]})]})})]})};var tA={};const nA=()=>{const[e,t]=E.useState(""),[n,i]=E.useState(!1),[l,a]=E.useState(null),[o,r]=E.useState(1),[d,f]=E.useState(null),[p,m]=E.useState(null),[h,g]=E.useState(""),[b,S]=E.useState(!1),_=E.useRef(null);E.useEffect(()=>{if(!window.pdfjsLib){const C=document.createElement("script");C.src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js",C.async=!0,C.onload=()=>{window.pdfjsLib.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js"},document.head.appendChild(C)}},[]);const y=async C=>{var M;const R=(M=C.target.files)==null?void 0:M[0];if(R){S(!0),g(R.name);try{if(R.type==="application/pdf"){const w=window.pdfjsLib;if(!w){alert("   PDF      .");return}const I=await R.arrayBuffer(),G=await w.getDocument({data:I}).promise;let j="";for(let J=1;J<=G.numPages;J++){const U=await(await G.getPage(J)).getTextContent();j+=U.items.map(F=>F.str).join(" ")+`
`}f(j),m("pdf")}else if(R.type.startsWith("image/")){const w=new FileReader;w.onload=I=>{var G;f((G=I.target)==null?void 0:G.result),m("image")},w.readAsDataURL(R)}else{const w=await R.text();f(w),m("text")}}catch(w){console.error(w),alert("     .")}finally{S(!1)}}},x=async()=>{if(!e.trim()&&!d)return alert("      ");i(!0),r(1);const C=new bt({apiKey:tA.API_KEY});try{let R=[];if(p==="image"&&d)R={parts:[{inlineData:{data:d.split(",")[1],mimeType:"image/png"}},{text:`     JSON    . : ${e||" "}. : { "name": " ", "children": [ { "name": "1", "children": [] } ] }.    JSON .`}]};else{const I=d?`  :
${d.substring(0,15e3)}`:"";R=`     JSON : "${e||" "}". 
        ${I}
        : { "name": " ", "children": [ { "name": "1", "children": [ {"name": "1"} ] } ] }. 
            JSON       JSON.`}const M=await C.models.generateContent({model:"gemini-3-flash-preview",contents:R,config:{responseMimeType:"application/json"}}),w=JSON.parse(M.text||"{}");a(w)}catch(R){console.error(R),alert("    .")}finally{i(!1)}},v=async()=>{if(!_.current)return;const C=window.html2canvas;if(!C)return alert("   ...");try{i(!0);const R=_.current.style.transform;_.current.style.transform="scale(1)";const M=await C(_.current,{backgroundColor:"#ffffff",scale:2,useCORS:!0,logging:!1});_.current.style.transform=R;const w=document.createElement("a");w.download=`Smart_MindMap_${Date.now()}.png`,w.href=M.toDataURL("image/png"),w.click()}catch{alert("  .")}finally{i(!1)}},T=async()=>{if(l){i(!0);try{const C=new dh;C.layout="LAYOUT_16x9",C.rtlMode=!0;const R=C.addSlide();R.background={color:"FFFFFF"},R.addText(l.name,{x:.5,y:.5,w:"90%",h:1,fontSize:28,color:"4f46e5",bold:!0,align:"center",fontFace:"Arial"});const M=(w,I,G)=>{R.addText(w.name,{x:.5+I*.5,y:G,w:"80%",h:.4,fontSize:18-I*2,color:"334155",bullet:I>0,align:"right"});let j=G+.4;return w.children&&w.children.forEach(J=>{j=M(J,I+1,j)}),j};M(l,0,1.5),await C.writeFile({fileName:`MindMap_${l.name}.pptx`})}catch{alert("   PowerPoint.")}finally{i(!1)}}},A=()=>{if(!l)return;const C=window.open("","_blank");if(!C)return alert("   .");const R=(M,w=0)=>{const I=M.children&&M.children.length>0?`
        <div style="display: flex; gap: 20px; justify-content: center; margin-top: 30px;">
          ${M.children.map(J=>R(J,w+1)).join("")}
        </div>
      `:"",G=["#4f46e5","#8b5cf6","#3b82f6","#10b981"];return`
        <div style="display: flex; flex-direction: column; align-items: center; min-width: 140px;">
          <div style="background: ${G[w%G.length]}; color: white; padding: 12px 24px; border-radius: 14px; font-weight: 900; box-shadow: 0 4px 6px rgba(0,0,0,0.1); font-size: ${Math.max(10,16-w*2)}pt; text-align: center;">
            ${M.name}
          </div>
          ${I}
        </div>
      `};C.document.write(`
      <html dir="rtl">
        <head>
          <title>Mind Map - ${l.name}</title>
          <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
          <style>
            body { font-family: 'Cairo', sans-serif; padding: 50px; background: white; margin: 0; }
            .map-container { display: flex; justify-content: center; align-items: flex-start; padding-top: 30px; }
            h1 { text-align: center; color: #1e293b; margin-bottom: 50px; }
            @page { size: A3 landscape; margin: 10mm; }
            * { -webkit-print-color-adjust: exact; }
          </style>
        </head>
        <body>
          <h1>${l.name}</h1>
          <div class="map-container">${R(l)}</div>
          <script>
            window.onload = () => { setTimeout(() => { window.print(); }, 1200); };
          <\/script>
        </body>
      </html>
    `),C.document.close()},L=({item:C,level:R=0})=>u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx("div",{className:`px-6 py-3 rounded-2xl font-bold shadow-lg mb-8 text-white transition-all hover:scale-105 border-2 border-white/10 ${R===0?"bg-indigo-600 text-xl py-4 px-10":R===1?"bg-purple-500":R===2?"bg-blue-500":"bg-emerald-500 text-sm"}`,children:C.name}),C.children&&C.children.length>0&&u.jsxs("div",{className:"flex gap-10 relative px-4",children:[u.jsx("div",{className:"absolute top-[-32px] left-1/2 w-0.5 h-8 bg-slate-200 dark:bg-slate-700"}),C.children.map((M,w)=>u.jsx(L,{item:M,level:R+1},w))]})]});return u.jsxs("div",{className:"flex flex-col space-y-8 animate-in fade-in duration-500 font-cairo pb-32",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-[3rem] shadow-xl border border-slate-100 dark:border-slate-800 space-y-6",children:[u.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Bo,{className:"absolute right-5 top-1/2 -translate-y-1/2 text-indigo-500",size:24}),u.jsx("input",{value:e,onChange:C=>t(C.target.value),placeholder:"    ...",className:"w-full pr-14 pl-6 py-5 bg-slate-50 dark:bg-slate-800 border-none rounded-2xl dark:text-white focus:ring-2 focus:ring-indigo-500 text-lg font-bold"})]}),u.jsxs("button",{onClick:x,disabled:n||b,className:"px-10 py-5 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-2xl font-black shadow-xl flex items-center justify-center gap-3 hover:scale-[1.02] transition-all disabled:opacity-50",children:[n?u.jsx(tt,{className:"animate-spin",size:24}):u.jsx(zt,{size:24})," "]})]}),u.jsx("div",{className:"relative",children:d?u.jsxs("div",{className:"flex items-center justify-between p-4 bg-indigo-50 dark:bg-indigo-900/20 rounded-2xl border border-indigo-200",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-indigo-600 rounded-xl flex items-center justify-center text-white",children:p==="pdf"?u.jsx(di,{}):p==="image"?u.jsx(Ca,{}):u.jsx(di,{})}),u.jsxs("div",{children:[u.jsx("p",{className:"font-black text-sm dark:text-white truncate max-w-[200px]",children:h}),u.jsx("p",{className:"text-[10px] font-black text-indigo-500 uppercase",children:" "})]})]}),u.jsx("button",{onClick:()=>{f(null),g("")},className:"p-2 text-rose-500 hover:bg-rose-50 rounded-lg transition-all",children:u.jsx(It,{})})]}):u.jsxs("label",{className:`w-full py-8 bg-slate-50 dark:bg-slate-800 rounded-2xl border-2 border-dashed border-slate-200 dark:border-slate-700 flex flex-col items-center justify-center gap-2 cursor-pointer hover:border-indigo-500 transition-all ${b?"opacity-50":""}`,children:[b?u.jsx(tt,{className:"animate-spin text-indigo-500"}):u.jsx(xi,{className:"text-slate-400"}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-sm font-black text-slate-500 uppercase tracking-widest",children:"  (PDF /  / )"}),u.jsx("input",{type:"file",className:"hidden",accept:".pdf,.txt,image/*",onChange:y})]})]})})]}),u.jsxs("div",{className:"min-h-[600px] bg-white dark:bg-slate-900 rounded-[3.5rem] shadow-2xl border border-slate-100 dark:border-slate-800 relative flex flex-col overflow-hidden",children:[l?u.jsx("div",{className:"flex-1 overflow-auto p-20 flex items-start justify-center cursor-move no-scrollbar",children:u.jsx("div",{ref:_,className:"p-10 flex items-start justify-center origin-top transition-transform duration-200",style:{transform:`scale(${o})`},children:u.jsx(L,{item:l})})}):u.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-center p-10 py-32",children:[u.jsx("div",{className:"w-32 h-32 bg-indigo-50 dark:bg-indigo-900/20 rounded-full flex items-center justify-center mb-8",children:u.jsx(Bo,{className:"text-indigo-400 animate-pulse",size:64})}),u.jsx("h3",{className:"text-2xl font-black dark:text-white",children:"  "}),u.jsx("p",{className:"text-slate-500 max-w-sm font-bold",children:"       ."})]}),u.jsxs("div",{className:"absolute bottom-8 left-8 flex flex-col gap-3 z-30",children:[u.jsxs("div",{className:"flex flex-col bg-white dark:bg-slate-800 p-2 rounded-3xl shadow-2xl border dark:border-slate-700",children:[u.jsx("button",{onClick:()=>r(C=>Math.min(2.5,C+.15)),className:"p-4 text-indigo-600 hover:bg-indigo-50 rounded-2xl transition-all",title:"",children:u.jsx(Cb,{size:24})}),u.jsx("button",{onClick:()=>r(C=>Math.max(.3,C-.15)),className:"p-4 text-indigo-600 hover:bg-indigo-50 rounded-2xl transition-all border-y dark:border-slate-700",title:"",children:u.jsx(Nb,{size:24})}),u.jsx("button",{onClick:()=>r(1),className:"p-4 text-slate-500 hover:bg-slate-50 rounded-2xl transition-all",title:" ",children:u.jsx(wg,{size:24})})]}),u.jsxs("div",{className:"flex flex-col bg-indigo-600 p-2 rounded-3xl shadow-2xl",children:[u.jsx("button",{onClick:v,disabled:!l,className:"p-4 text-white hover:bg-white/10 rounded-2xl transition-all disabled:opacity-50",title:" ",children:u.jsx(q1,{size:24})}),u.jsx("button",{onClick:T,disabled:!l,className:"p-4 text-white hover:bg-white/10 rounded-2xl transition-all border-t border-white/10 disabled:opacity-50",title:" PowerPoint",children:u.jsx(Ac,{size:24})}),u.jsx("button",{onClick:A,disabled:!l,className:"p-4 text-white hover:bg-white/10 rounded-2xl transition-all border-t border-white/10 disabled:opacity-50",title:" PDF",children:u.jsx(Mc,{size:24})})]})]})]}),u.jsx("style",{children:`
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
      `})]})};var Ka={SUPABASE_URL:'""',SUPABASE_ANON_KEY:'""'};function iA(e){let t="";const n=e.byteLength;for(let i=0;i<n;i++)t+=String.fromCharCode(e[i]);return btoa(t)}function sh(e){const t=atob(e),n=t.length,i=new Uint8Array(n);for(let l=0;l<n;l++)i[l]=t.charCodeAt(l);return i}async function rh(e,t,n,i){const l=new Int16Array(e.buffer),a=l.length/i,o=t.createBuffer(i,a,n);for(let r=0;r<i;r++){const d=o.getChannelData(r);for(let f=0;f<a;f++)d[f]=l[f*i+r]/32768}return o}function lA(e){const t=e.numberOfChannels,n=e.sampleRate,i=new window.lamejs.Mp3Encoder(t,n,128),l=[],a=e.getChannelData(0),o=new Int16Array(a.length);for(let f=0;f<a.length;f++)o[f]=a[f]<0?a[f]*32768:a[f]*32767;let r;if(t===2){const f=e.getChannelData(1),p=new Int16Array(f.length);for(let m=0;m<f.length;m++)p[m]=f[m]<0?f[m]*32768:f[m]*32767;r=i.encodeBuffer(o,p)}else r=i.encodeBuffer(o);r.length>0&&l.push(r);const d=i.flush();return d.length>0&&l.push(d),new Blob(l,{type:"audio/mpeg"})}const aA=({lang:e="ar"})=>{const[t,n]=E.useState(!1),[i,l]=E.useState(""),[a,o]=E.useState(null),[r,d]=E.useState(null),[f,p]=E.useState([]),[m,h]=E.useState(!1),[g,b]=E.useState(null),[S,_]=E.useState(!1),[y,x]=E.useState(""),[v,T]=E.useState(!1),[A,L]=E.useState(!1),[C,R]=E.useState(null),M=E.useRef(null),w=E.useRef(null),I=E.useRef(0),G=E.useRef(new Set);E.useEffect(()=>{if(!window.pdfjsLib){const Y=document.createElement("script");Y.src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js",Y.onload=()=>{window.pdfjsLib.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js"},document.head.appendChild(Y)}},[]);const j=()=>{G.current.forEach(Y=>{try{Y.stop()}catch{}}),G.current.clear(),I.current=0},J=async Y=>{var N;const z=(N=Y.target.files)==null?void 0:N[0];if(z){h(!0),R(null),b(null);try{if(z.type==="application/pdf"){const P=window.pdfjsLib,q=await z.arrayBuffer(),k=await P.getDocument({data:q}).promise;let B="";for(let Q=1;Q<=k.numPages;Q++){const oe=await(await k.getPage(Q)).getTextContent();B+=oe.items.map(le=>le.str).join(" ")+`
`}l(B),o("pdf"),d(null)}else if(z.type.startsWith("image/")){const P=new FileReader;P.onload=q=>{var k;d((k=q.target)==null?void 0:k.result),o("image"),l("")},P.readAsDataURL(z)}else{const P=await z.text();l(P),o("text"),d(null)}p(P=>[...P,{role:"ai",text:e==="ar"?`  "${z.name}"         .`:`"${z.name}" loaded, ready for video or podcast.`}])}catch{alert("  ")}finally{h(!1)}}},ne=async()=>{var Y,z,N,P,q,k;if(!i&&!r)return alert("   .");L(!0),R(null);try{const B=new bt({apiKey:Ka.API_KEY});let Q=r?"             .":`            ''  ''. :
${i.substring(0,15e3)}`;const oe=(await B.models.generateContent({model:"gemini-3-flash-preview",contents:r?{parts:[{inlineData:{data:r.split(",")[1],mimeType:"image/jpeg"}},{text:Q}]}:{parts:[{text:Q}]}})).text||"",xe=(k=(q=(P=(N=(z=(Y=(await B.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:`    : ${oe}`}]}],config:{responseModalities:[fi.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}}}})).candidates)==null?void 0:Y[0])==null?void 0:z.content)==null?void 0:N.parts)==null?void 0:P[0])==null?void 0:q.inlineData)==null?void 0:k.data;if(xe){const ke=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}),jt=await rh(sh(xe),ke,24e3,1),dt=lA(jt);R(URL.createObjectURL(dt))}}catch{alert("   .")}finally{L(!1)}},U=async()=>{var Y,z,N,P,q;if(!i&&!r)return alert("   (PDF  )        .");if(!await window.aistudio.hasSelectedApiKey()){alert("     API  (Paid)  Google Cloud.     ."),await window.aistudio.openSelectKey();return}_(!0),x(e==="ar"?"   ...":"Ingesting your file...");try{const k=new bt({apiKey:Ka.API_KEY}),B=r?"Analyze this image and create a highly detailed cinematic prompt for a 5-second educational video explaining its core concept. Describe motion, lighting, and camera work. Respond only with the English prompt.":`Summarize the following lecture into a cinematic visual prompt for a 5-second video that explains the main concept visually. Use descriptive artistic language. 
           Content: ${i.substring(0,2e3)}
           Respond only with the English prompt.`,ie=(await k.models.generateContent({model:"gemini-3-flash-preview",contents:r?{parts:[{inlineData:{data:r.split(",")[1],mimeType:"image/jpeg"}},{text:B}]}:{parts:[{text:B}]}})).text||"Scientific visualization of "+(i.substring(0,50)||"lecture");x(e==="ar"?"   ...":"Designing cinematic scenes...");let oe={model:"veo-3.1-fast-generate-preview",prompt:ie,config:{numberOfVideos:1,resolution:"720p",aspectRatio:"16:9"}};r&&(oe.image={imageBytes:r.split(",")[1],mimeType:"image/jpeg"});let le=await k.models.generateVideos(oe);for(x(e==="ar"?"   (  3-5 )...":"Rendering real video (takes 3-5 mins)...");!le.done;)await new Promise(ke=>setTimeout(ke,1e4)),le=await k.operations.getVideosOperation({operation:le});x(e==="ar"?"  MP4 ...":"Preparing MP4 for download...");const xe=(P=(N=(z=(Y=le.response)==null?void 0:Y.generatedVideos)==null?void 0:z[0])==null?void 0:N.video)==null?void 0:P.uri;if(xe){const jt=await(await fetch(`${xe}&key=${Ka.API_KEY}`)).blob();b(URL.createObjectURL(jt))}}catch(k){console.error(k),(q=k.message)!=null&&q.includes("entity was not found")?(alert("   API    Google Cloud    (Billing)."),await window.aistudio.openSelectKey()):alert("  .     Quota   .")}finally{_(!1)}},F=()=>{if(!g)return;const Y=document.createElement("a");Y.href=g,Y.download=`Smart_Lecture_${Date.now()}.mp4`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y)},$=async()=>{const Y=new bt({apiKey:Ka.API_KEY}),z=new(window.AudioContext||window.webkitAudioContext)({sampleRate:16e3}),N=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3});w.current=N;const P=await navigator.mediaDevices.getUserMedia({audio:!0}),q=Y.live.connect({model:"gemini-2.5-flash-native-audio-preview-12-2025",callbacks:{onopen:()=>{n(!0);const k=z.createMediaStreamSource(P),B=z.createScriptProcessor(4096,1,1);B.onaudioprocess=Q=>{const ie=Q.inputBuffer.getChannelData(0),oe=new Int16Array(ie.length);for(let le=0;le<ie.length;le++)oe[le]=ie[le]*32768;q.then(le=>le.sendRealtimeInput({media:{data:iA(new Uint8Array(oe.buffer)),mimeType:"audio/pcm;rate=16000"}}))},k.connect(B),B.connect(z.destination),r&&q.then(Q=>Q.sendRealtimeInput({media:{data:r.split(",")[1],mimeType:"image/jpeg"}}))},onmessage:async k=>{var Q,ie,oe,le,xe,ke,jt;const B=(le=(oe=(ie=(Q=k.serverContent)==null?void 0:Q.modelTurn)==null?void 0:ie.parts[0])==null?void 0:oe.inlineData)==null?void 0:le.data;if(B){I.current=Math.max(I.current,N.currentTime);const dt=await rh(sh(B),N,24e3,1),Gt=N.createBufferSource();Gt.buffer=dt,Gt.connect(N.destination),Gt.start(I.current),I.current+=dt.duration,G.current.add(Gt),Gt.onended=()=>G.current.delete(Gt)}(xe=k.serverContent)!=null&&xe.inputTranscription&&p(dt=>[...dt,{role:"user",text:k.serverContent.inputTranscription.text}]),(ke=k.serverContent)!=null&&ke.outputTranscription&&p(dt=>[...dt,{role:"ai",text:k.serverContent.outputTranscription.text}]),(jt=k.serverContent)!=null&&jt.interrupted&&j()},onclose:()=>n(!1),onerror:()=>n(!1)},config:{responseModalities:[fi.AUDIO],inputAudioTranscription:{},outputAudioTranscription:{},speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Puck"}}},systemInstruction:`    .   : ${i.substring(0,1e4)}`}});M.current=await q};return u.jsxs("div",{className:`flex flex-col h-[calc(100vh-10rem)] gap-8 animate-in fade-in duration-500 pb-6 ${e==="ar"?"rtl":"ltr"}`,children:[v&&u.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-6 bg-slate-900/80 backdrop-blur-xl animate-in fade-in",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-2xl rounded-[3.5rem] p-10 shadow-2xl relative border border-white/10",children:[u.jsx("button",{onClick:()=>T(!1),className:"absolute top-8 left-8 text-slate-400 hover:text-rose-500 transition-all",children:u.jsx(It,{size:24})}),u.jsxs("h3",{className:"text-3xl font-black mb-6 flex items-center gap-4",children:[u.jsx(Tf,{className:"text-indigo-600",size:32}),"     "]}),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"flex gap-6 items-start",children:[u.jsx("div",{className:"w-12 h-12 bg-indigo-100 rounded-2xl flex items-center justify-center text-indigo-600 shrink-0",children:u.jsx(di,{size:24})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-black text-lg",children:" :  "}),u.jsx("p",{className:"text-slate-500 text-sm leading-relaxed",children:"   Gemini 3         ."})]})]}),u.jsxs("div",{className:"flex gap-6 items-start",children:[u.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-2xl flex items-center justify-center text-purple-600 shrink-0",children:u.jsx(or,{size:24})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-black text-lg",children:" :  "}),u.jsx("p",{className:"text-slate-500 text-sm leading-relaxed",children:'  " "  Veo 3.1     MP4    .'})]})]}),u.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/10 p-6 rounded-3xl border-2 border-dashed border-amber-200",children:[u.jsxs("h4",{className:"font-black text-amber-800 dark:text-amber-200 mb-2 flex items-center gap-2",children:[u.jsx(vb,{size:18}),"  :"]}),u.jsxs("ul",{className:"text-[11px] text-amber-700 dark:text-amber-400 space-y-2 font-bold list-disc pr-4",children:[u.jsx("li",{children:"   API   Google Cloud     (Paid Tier)."}),u.jsx("li",{children:"  (Veo)  Quota       ."}),u.jsx("li",{children:"         ."})]}),u.jsx("a",{href:"https://ai.google.dev/gemini-api/docs/billing",target:"_blank",className:"text-[10px] text-indigo-600 underline block mt-4",children:"    Google Cloud"})]})]}),u.jsx("button",{onClick:()=>T(!1),className:"w-full mt-10 py-5 bg-indigo-600 text-white rounded-2xl font-black shadow-xl hover:scale-105 transition-all",children:"  "})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 bg-white dark:bg-slate-900 p-8 rounded-[3.5rem] shadow-xl border border-slate-100 dark:border-slate-800 flex items-center justify-between flex-wrap gap-4",children:[u.jsxs("div",{className:"flex items-center gap-6",children:[u.jsx("div",{className:`w-16 h-16 rounded-[2rem] flex items-center justify-center text-white shadow-2xl ${a?"bg-emerald-500":"bg-indigo-600"}`,children:m?u.jsx(tt,{className:"animate-spin"}):a==="image"?u.jsx(Ca,{}):u.jsx(di,{})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-black",children:e==="ar"?"  ":"Multi-modal Assistant"}),u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:a?`${e==="ar"?" :":"Active Ref:"} ${a}`:e==="ar"?"  ":"Upload to start"})]})]}),u.jsxs("div",{className:"flex gap-3 flex-wrap",children:[u.jsxs("label",{className:"p-4 bg-slate-50 dark:bg-slate-800 hover:bg-indigo-600 hover:text-white rounded-2xl cursor-pointer transition-all border dark:border-slate-700",children:[u.jsx(xi,{size:24}),u.jsx("input",{type:"file",className:"hidden",accept:".pdf,.txt,image/*",onChange:J})]}),u.jsxs("button",{onClick:ne,disabled:A||!i&&!r,className:"px-6 py-4 bg-amber-500 text-white rounded-2xl font-black flex items-center gap-2 hover:shadow-lg transition-all disabled:opacity-50",children:[A?u.jsx(tt,{className:"animate-spin",size:20}):u.jsx(Z1,{size:20}),e==="ar"?" ":"Audio Podcast"]}),u.jsxs("button",{onClick:U,className:"px-6 py-4 bg-purple-600 text-white rounded-2xl font-black flex items-center gap-2 hover:shadow-lg transition-all",children:[u.jsx(_b,{size:20})," ",e==="ar"?"  MP4":"Generate MP4"]})]})]}),u.jsxs("button",{onClick:()=>{var Y;return t?(Y=M.current)==null?void 0:Y.close():$()},className:`p-8 rounded-[3.5rem] text-white shadow-xl relative overflow-hidden group transition-all ${t?"bg-rose-500 animate-pulse":"bg-indigo-600"}`,children:[u.jsxs("div",{className:"relative z-10 text-right",children:[u.jsx("h3",{className:"text-xl font-black mb-2",children:t?e==="ar"?" ":"Live Now":e==="ar"?"  ":"Talk to File"}),u.jsx("p",{className:"text-xs font-medium opacity-80",children:t?e==="ar"?" ...":"Listening...":e==="ar"?"  ":"Audio discussion"})]}),t?u.jsx(Eb,{className:"absolute -bottom-4 -left-4 opacity-20",size:120}):u.jsx(kc,{className:"absolute -bottom-4 -left-4 opacity-20",size:100})]})]}),C&&u.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/10 p-6 rounded-[2.5rem] border border-emerald-100 dark:border-emerald-800 flex items-center justify-between gap-4 animate-in slide-in-from-top-4",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("div",{className:"w-12 h-12 bg-emerald-500 text-white rounded-xl flex items-center justify-center shadow-lg",children:u.jsx(Nc,{size:24})}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-black text-emerald-800 dark:text-emerald-200",children:e==="ar"?"  ":"Educational Podcast Ready"}),u.jsx("p",{className:"text-[10px] font-bold text-emerald-600",children:e==="ar"?"     ":"Detailed audio based on your file"})]})]}),u.jsxs("div",{className:"flex items-center gap-4 flex-1 max-w-xl",children:[u.jsx("audio",{controls:!0,src:C,className:"w-full h-10 accent-emerald-600"}),u.jsx("a",{href:C,download:`Podcast_${Date.now()}.mp3`,className:"p-3 bg-white dark:bg-slate-800 text-emerald-600 rounded-xl shadow-sm hover:scale-110 transition-all border border-emerald-100",children:u.jsx(ua,{size:20})})]})]}),u.jsxs("div",{className:"flex-1 grid grid-cols-1 lg:grid-cols-12 gap-8 overflow-hidden",children:[u.jsx("div",{className:"lg:col-span-7 flex flex-col bg-white dark:bg-slate-900 rounded-[3.5rem] shadow-2xl border dark:border-slate-800 overflow-hidden relative",children:u.jsxs("div",{className:"flex-1 overflow-y-auto p-10 space-y-6 custom-scrollbar",children:[f.length===0&&u.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-30 text-center space-y-4",children:[u.jsx(mb,{size:80,className:"text-indigo-400 animate-pulse"}),u.jsx("h4",{className:"text-xl font-black",children:e==="ar"?"  ":"Assistant is waiting"}),u.jsx("p",{className:"text-xs max-w-xs",children:e==="ar"?"      (  )   .":"Upload file and choose explanation type."})]}),f.map((Y,z)=>u.jsx("div",{className:`flex ${Y.role==="user"?"justify-end":"justify-start"} animate-in slide-in-from-bottom-2`,children:u.jsx("div",{className:`max-w-[85%] p-6 rounded-[2.5rem] text-sm font-bold leading-relaxed shadow-sm ${Y.role==="user"?"bg-indigo-600 text-white rounded-br-none":"bg-slate-50 dark:bg-slate-800 dark:text-white rounded-bl-none border border-indigo-50/20"}`,children:Y.text})},z))]})}),u.jsxs("div",{className:"lg:col-span-5 flex flex-col gap-6 overflow-hidden",children:[u.jsxs("div",{className:"flex-1 bg-slate-950 rounded-[3.5rem] p-8 flex flex-col items-center justify-center relative overflow-hidden group border-4 border-indigo-600/20 shadow-2xl shadow-indigo-500/10",children:[u.jsx("button",{onClick:()=>T(!0),className:"absolute top-8 left-8 p-3 bg-white/10 hover:bg-white/20 text-white rounded-2xl backdrop-blur-md z-20 transition-all",children:u.jsx(Tf,{size:20})}),g&&u.jsxs("button",{onClick:F,className:"absolute bottom-8 right-8 p-4 bg-emerald-600 text-white rounded-2xl shadow-2xl hover:scale-110 transition-all z-30 flex items-center gap-2 animate-in zoom-in",children:[u.jsx(ua,{size:20}),u.jsx("span",{className:"font-black text-xs",children:e==="ar"?"  MP4":"Download MP4"})]}),S?u.jsxs("div",{className:"text-center space-y-8 z-10 w-full px-10",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"w-28 h-28 border-8 border-indigo-500/20 border-t-indigo-500 rounded-full animate-spin mx-auto shadow-2xl shadow-indigo-500/30"}),u.jsx(or,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-indigo-400 animate-pulse",size:32})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("p",{className:"text-white font-black text-xl animate-pulse",children:y}),u.jsx("div",{className:"w-full h-2 bg-white/10 rounded-full overflow-hidden p-0.5",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-500 to-purple-500 animate-[loading-bar_10s_ease-in-out_infinite] rounded-full"})}),u.jsxs("div",{className:"flex justify-center gap-4 text-slate-500 text-[9px] font-black uppercase tracking-[0.2em]",children:[u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(O1,{size:10})," Gemini 3 Analysis"]}),u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx(or,{size:10})," Veo 3.1 Rendering"]})]})]})]}):g?u.jsx("video",{src:g,controls:!0,autoPlay:!0,loop:!0,className:"w-full h-full object-cover rounded-[2rem] shadow-2xl"}):r?u.jsx("img",{src:r,className:"w-full h-full object-contain rounded-[2rem] opacity-60",alt:"Preview"}):u.jsxs("div",{className:"text-center space-y-6 opacity-30",children:[u.jsx("div",{className:"w-24 h-24 bg-indigo-500/20 rounded-[2rem] flex items-center justify-center mx-auto",children:u.jsx(ub,{size:60,className:"text-indigo-400"})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("h4",{className:"text-white text-xl font-black",children:e==="ar"?"  (MP4)":"Lecture Visualizer (MP4)"}),u.jsx("p",{className:"text-indigo-400 text-[10px] font-bold uppercase tracking-widest",children:e==="ar"?"    ":"Turn files into real clips"})]})]})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-[3.5rem] shadow-xl border dark:border-slate-800",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:e==="ar"?" ":"Source Content"}),i&&u.jsxs("span",{className:"text-[10px] font-black text-emerald-500",children:[i.length,"   "]})]}),u.jsx("div",{className:"w-full h-32 p-5 bg-slate-50 dark:bg-slate-800 rounded-2xl text-[11px] font-bold overflow-y-auto custom-scrollbar leading-relaxed",children:i||(e==="ar"?"    PDF   ...":"Waiting for file ingest...")})]})]})]}),u.jsx("style",{children:`
        @keyframes loading-bar {
          0% { width: 0%; transform: translateX(-100%); }
          50% { width: 70%; transform: translateX(0%); }
          100% { width: 100%; transform: translateX(100%); }
        }
        .custom-scrollbar::-webkit-scrollbar { width: 4px; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #e2e8f0; border-radius: 10px; }
      `})]})};var oA={SUPABASE_URL:'""',SUPABASE_ANON_KEY:'""'};const sA=()=>{const[e,t]=E.useState(null),[n,i]=E.useState(""),[l,a]=E.useState(!1),[o,r]=E.useState(null),d=p=>{var h;const m=(h=p.target.files)==null?void 0:h[0];if(m){const g=new FileReader;g.onload=()=>t(g.result),g.readAsDataURL(m)}},f=async()=>{if(!(!e||!n)){a(!0);try{const p=new bt({apiKey:oA.API_KEY}),m=e.split(",")[1],h=await p.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{inlineData:{data:m,mimeType:"image/png"}},{text:`Apply this edit to the image: ${n}`}]}});if(h.candidates&&h.candidates[0].content.parts)for(const g of h.candidates[0].content.parts)g.inlineData&&r(`data:image/png;base64,${g.inlineData.data}`)}catch(p){console.error(p)}a(!1)}};return u.jsxs("div",{className:"max-w-6xl mx-auto space-y-8 animate-in fade-in duration-500",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-black dark:text-white",children:"  "}),u.jsx("p",{className:"text-gray-500 mt-1",children:"       "})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("label",{className:"flex items-center gap-2 px-6 py-3 bg-white dark:bg-gray-800 border dark:border-gray-700 rounded-2xl font-bold cursor-pointer hover:bg-gray-50 transition-all",children:[u.jsx(xi,{size:20}),"  ",u.jsx("input",{type:"file",className:"hidden",onChange:d,accept:"image/*"})]}),u.jsxs("button",{className:"flex items-center gap-2 px-6 py-3 bg-indigo-600 text-white rounded-2xl font-bold shadow-lg hover:bg-indigo-700 transition-all",children:[u.jsx(ua,{size:20})," "]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsx("div",{className:"lg:col-span-2 space-y-6",children:u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-[3rem] shadow-xl border dark:border-gray-700 overflow-hidden min-h-[500px] flex items-center justify-center relative bg-[radial-gradient(#e5e7eb_1px,transparent_1px)] [background-size:20px_20px]",children:o||e?u.jsx("img",{src:o||e,className:"max-w-full max-h-full object-contain p-8",alt:"Workspace"}):u.jsxs("div",{className:"text-center p-20",children:[u.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-900 rounded-full flex items-center justify-center mx-auto mb-6",children:u.jsx(Ca,{className:"text-gray-300",size:48})}),u.jsx("h4",{className:"text-xl font-bold text-gray-400",children:"    "})]})})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-8 rounded-[3rem] shadow-xl border dark:border-gray-700",children:[u.jsxs("h3",{className:"text-xl font-black dark:text-white mb-6 flex items-center gap-3",children:[u.jsx(fa,{className:"text-indigo-500"}),"   "]}),u.jsx("textarea",{value:n,onChange:p=>i(p.target.value),placeholder:":        ...",className:"w-full p-5 bg-gray-50 dark:bg-gray-900 border-none rounded-2xl dark:text-white focus:ring-2 focus:ring-indigo-500 min-h-[150px] mb-6"}),u.jsxs("button",{onClick:f,disabled:l||!e,className:"w-full py-5 bg-indigo-600 text-white rounded-2xl font-black shadow-xl hover:bg-indigo-700 transition-all flex items-center justify-center gap-3 disabled:opacity-50",children:[l?u.jsx(tt,{className:"animate-spin"}):u.jsx(ca,{size:20})," "]})]}),u.jsxs("div",{className:"bg-indigo-600 p-8 rounded-[3rem] text-white shadow-2xl relative overflow-hidden",children:[u.jsxs("div",{className:"relative z-10",children:[u.jsx("h4",{className:"font-black text-xl mb-2",children:"  "}),u.jsx("p",{className:"text-indigo-100 text-sm leading-relaxed",children:'     "    "      .'})]}),u.jsx(zt,{className:"absolute -bottom-4 -right-4 opacity-20 rotate-12",size:100})]})]})]})]})};var uh={SUPABASE_URL:'""',SUPABASE_ANON_KEY:'""'};const rA=({lang:e="ar"})=>{const[t,n]=E.useState("chat"),[i,l]=E.useState([]),[a,o]=E.useState(""),[r,d]=E.useState(!1),[f,p]=E.useState(!1),[m,h]=E.useState(null),[g,b]=E.useState(!1),[S,_]=E.useState([]),[y,x]=E.useState({count:5,type:"mixed"}),[v,T]=E.useState([]),[A,L]=E.useState(0),[C,R]=E.useState({}),[M,w]=E.useState(!1),[I,G]=E.useState(!1);E.useEffect(()=>{if((async()=>{const N=await Z.getSubjects();_(N)})(),!window.pdfjsLib){const N=document.createElement("script");N.src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js",N.onload=()=>{window.pdfjsLib.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js"},document.head.appendChild(N)}},[]);const j=async z=>{var P;const N=(P=z.target.files)==null?void 0:P[0];if(N){p(!0);try{if(N.type==="application/pdf"){const q=window.pdfjsLib,k=await N.arrayBuffer(),B=await q.getDocument({data:k}).promise;let Q="";for(let ie=1;ie<=B.numPages;ie++){const le=await(await B.getPage(ie)).getTextContent();Q+=le.items.map(xe=>xe.str).join(" ")+`
`}h({title:N.name,data:Q,type:"text/plain"})}else if(N.type.startsWith("image/")){const q=new FileReader;q.onload=k=>{var B;h({title:N.name,data:(B=k.target)==null?void 0:B.result,type:N.type})},q.readAsDataURL(N)}else{const q=await N.text();h({title:N.name,data:q,type:N.type})}l(q=>[...q,{role:"ai",text:`   "${N.name}" .        .`}])}catch{alert("   ")}finally{p(!1)}}},J=async()=>{if(!m)return alert("      .");G(!0),w(!1),R({}),L(0);try{const z=new bt({apiKey:uh.API_KEY}),N=`    .    :
      ${m.data.substring(0,15e3)}
      
      :   JSON   ${y.count}    "${y.type}".
           : (question, options, correctIndex, explanation).
           JSON .`,P=await z.models.generateContent({model:"gemini-3-flash-preview",contents:N,config:{responseMimeType:"application/json",responseSchema:{type:We.ARRAY,items:{type:We.OBJECT,properties:{question:{type:We.STRING},options:{type:We.ARRAY,items:{type:We.STRING}},correctIndex:{type:We.NUMBER},explanation:{type:We.STRING}},required:["question","options","correctIndex","explanation"]}}}}),q=JSON.parse(P.text||"[]");T(q.map((k,B)=>({...k,id:B}))),n("quiz")}catch{alert("   .    .")}finally{G(!1)}},ne=async()=>{if(!a.trim())return;const z=a;o(""),l(N=>[...N,{role:"user",text:z}]),d(!0);try{const N=new bt({apiKey:uh.API_KEY});let P=[];m&&(m.data.startsWith("data:image")?(P.push({inlineData:{data:m.data.split(",")[1],mimeType:m.type}}),P.push({text:`:   ${m.title}.`})):P.push({text:` :
${m.data.substring(0,12e3)}`})),P.push({text:z});const q=await N.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:P},config:{systemInstruction:"   .      ."}});l(k=>[...k,{role:"ai",text:q.text}])}catch{l(P=>[...P,{role:"ai",text:"  ."}])}finally{d(!1)}},U=z=>{if(!v.length)return;const N=window.open("","_blank");if(!N)return alert("   .");const P=v.map((q,k)=>`
      <div style="margin-bottom: 25px; border-bottom: 1px solid #f1f5f9; padding-bottom: 15px; page-break-inside: avoid;">
        <h3 style="font-size: 13pt; margin-bottom: 10px; color: #1e293b; line-height: 1.4; font-weight: 900;">${k+1}. ${q.question}</h3>
        <div style="margin-right: 15px; display: grid; grid-template-columns: 1fr 1fr; gap: 8px;">
          ${q.options.map((B,Q)=>{let ie="#ffffff",oe="#e2e8f0",le="";return z==="review"&&(Q===q.correctIndex?(ie="#f0fdf4",oe="#22c55e",le=" ( )"):C[k]===Q&&(ie="#fef2f2",oe="#ef4444",le=" ( )")),`
              <div style="padding: 8px 12px; border: 1.5px solid ${oe}; border-radius: 8px; font-size: 10pt; background: ${ie}; font-family: 'Cairo', sans-serif;">
                <b>${String.fromCharCode(65+Q)})</b> ${B}${le}
              </div>
            `}).join("")}
        </div>
        ${z==="review"?`
          <div style="margin-top: 10px; padding: 12px; background: #f8fafc; border-radius: 10px; border-right: 4px solid #6366f1; font-size: 9pt; color: #475569; font-family: 'Cairo', sans-serif;">
            <b style="color: #6366f1;"> :</b> ${q.explanation}
          </div>
        `:'<div style="margin-top: 10px; border-bottom: 1px dashed #ccc; width: 200px; padding-bottom: 5px; font-size: 10pt; color: #999;">: .....................</div>'}
      </div>
    `).join("");N.document.write(`
      <html dir="rtl">
        <head>
          <title>${z==="blank"?" ":" "}</title>
          <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap" rel="stylesheet">
          <style>
            @page { margin: 15mm; size: A4; }
            body { font-family: 'Cairo', sans-serif; padding: 20px; line-height: 1.5; color: #333; background: white; }
            .header { text-align: center; border-bottom: 4px solid #6366f1; margin-bottom: 30px; padding-bottom: 15px; }
            h1 { font-size: 20pt; margin: 0; color: #6366f1; font-weight: 900; }
            .meta { display: flex; justify-content: space-between; font-size: 10pt; margin-top: 10px; color: #666; font-weight: 700; }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>  </h1>
            <p style="font-weight: 900; color: #1e293b;">${z==="blank"?"  -  ":"    "}</p>
            <div class="meta">
              <span>: ${(m==null?void 0:m.title)||""}</span>
              <span> : ${v.length}</span>
              <span>: ${new Date().toLocaleDateString("ar-EG")}</span>
            </div>
          </div>
          ${P}
          <script>window.onload = () => { setTimeout(() => { window.print(); }, 1200); };<\/script>
        </body>
      </html>
    `),N.document.close()},F=()=>{let z=0;return v.forEach((N,P)=>{C[P]===N.correctIndex&&z++}),z},$=()=>{T([]),R({}),w(!1),L(0)},Y=()=>{if(!i.length)return;const z=window.open("","_blank");if(!z)return;const N=i.map(P=>`
      <div style="margin-bottom: 20px; padding: 15px; border-radius: 12px; background: ${P.role==="user"?"#f8fafc":"#eff6ff"}; border: 1px solid #e2e8f0; font-size: 12pt;">
        <b style="color: ${P.role==="user"?"#475569":"#1d4ed8"};">${P.role==="user"?"":""}:</b><br/>${P.text}
      </div>
    `).join("");z.document.write(`<html dir="rtl"><head><title> </title><link href="https://fonts.googleapis.com/css2?family=Cairo&display=swap" rel="stylesheet"><style>body{font-family:'Cairo',sans-serif;padding:30px;}</style></head><body><h1>  </h1>${N}<script>window.onload=()=>window.print();<\/script></body></html>`),z.document.close()};return u.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-12 gap-6 h-[calc(100vh-10rem)] ${e==="ar"?"rtl":"ltr"} font-cairo`,children:[u.jsxs("div",{className:"lg:col-span-3 space-y-4 flex flex-col overflow-y-auto no-scrollbar",children:[u.jsx("div",{className:"bg-white dark:bg-slate-900 p-4 rounded-[2.5rem] shadow-xl border border-slate-100 dark:border-slate-800",children:u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsxs("button",{onClick:()=>n("chat"),className:`w-full flex items-center gap-3 p-4 rounded-3xl font-black transition-all ${t==="chat"?"bg-indigo-600 text-white shadow-xl":"text-slate-500 hover:bg-slate-50"}`,children:[u.jsx(Tg,{size:18}),"  "]}),u.jsxs("button",{onClick:()=>n("quiz"),className:`w-full flex items-center gap-3 p-4 rounded-3xl font-black transition-all ${t==="quiz"?"bg-indigo-600 text-white shadow-xl":"text-slate-500 hover:bg-slate-50"}`,children:[u.jsx(bf,{size:18}),"  "]})]})}),u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-6 rounded-[2.5rem] border-2 border-dashed border-indigo-200 dark:border-slate-800 space-y-4",children:[u.jsx("h4",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest px-2",children:" "}),m?u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-3 rounded-2xl border border-indigo-100 shadow-sm flex items-center justify-between group",children:[u.jsxs("div",{className:"flex items-center gap-2 truncate",children:[u.jsx("div",{className:"w-8 h-8 rounded-lg bg-indigo-50 flex items-center justify-center text-indigo-600 shrink-0",children:u.jsx(di,{size:16})}),u.jsx("span",{className:"text-[11px] font-black truncate",children:m.title})]}),u.jsx("button",{onClick:()=>h(null),className:"text-rose-500 opacity-0 group-hover:opacity-100 p-1 hover:bg-rose-50 rounded-lg transition-all",children:u.jsx(It,{size:14})})]}):u.jsxs("div",{className:"text-center py-6 space-y-4",children:[u.jsx("div",{className:"w-12 h-12 bg-slate-100 rounded-2xl flex items-center justify-center text-slate-300 mx-auto",children:u.jsx(Ac,{size:24})}),u.jsxs("label",{className:"inline-flex items-center gap-2 px-5 py-2.5 bg-indigo-600 text-white rounded-xl text-[10px] font-black cursor-pointer hover:bg-indigo-700 transition-all shadow-md active:scale-95",children:[u.jsx(xi,{size:14}),"   ",u.jsx("input",{type:"file",className:"hidden",accept:".pdf,.txt,image/*",onChange:j})]})]}),u.jsxs("button",{onClick:()=>b(!0),className:"w-full flex items-center justify-center gap-2 p-3.5 bg-white dark:bg-slate-800 rounded-2xl border hover:border-indigo-500 transition-all text-[10px] font-black shadow-sm",children:[u.jsx(Y1,{size:16,className:"text-emerald-500"}),"   "]})]})]}),u.jsxs("div",{className:"lg:col-span-9 bg-white dark:bg-slate-900 rounded-[3rem] shadow-2xl flex flex-col border border-slate-100 dark:border-slate-800 overflow-hidden relative",children:[g&&u.jsxs("div",{className:"absolute inset-0 z-50 bg-white/98 dark:bg-slate-900/98 backdrop-blur-md p-10 overflow-y-auto animate-in fade-in flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-center mb-8",children:[u.jsx("h3",{className:"text-3xl font-black",children:" "}),u.jsx("button",{onClick:()=>b(!1),className:"w-12 h-12 flex items-center justify-center hover:bg-slate-100 rounded-2xl transition-all",children:u.jsx(It,{size:24})})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 flex-1 overflow-y-auto pb-10 custom-scrollbar",children:S.flatMap(z=>(z.lectures||[]).map(N=>u.jsxs("button",{onClick:()=>{h({title:N.title,data:N.content,type:"text/plain"}),b(!1)},className:"p-6 bg-slate-50 dark:bg-slate-800 rounded-[2rem] border-2 border-transparent hover:border-indigo-500 hover:bg-white transition-all text-right group shadow-sm flex flex-col justify-between",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex justify-between items-center mb-4",children:[u.jsx("span",{className:`px-3 py-1 rounded-full text-[9px] font-black text-white ${z.color}`,children:z.name}),u.jsx(ra,{size:18,className:"text-slate-300 group-hover:text-indigo-500 transition-colors"})]}),u.jsx("h5",{className:"font-black text-sm leading-tight group-hover:text-indigo-600",children:N.title})]}),u.jsx("div",{className:"mt-4 text-[10px] font-black text-slate-400 group-hover:text-indigo-400",children:"  "})]},N.id)))})]}),t==="chat"?u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"bg-slate-50/50 dark:bg-slate-800/50 px-10 py-5 border-b flex justify-between items-center",children:[u.jsxs("h4",{className:"text-xs font-black text-slate-500 uppercase tracking-widest flex items-center gap-3",children:[u.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),"   AI"]}),u.jsxs("button",{onClick:Y,disabled:!i.length,className:"flex items-center gap-3 px-6 py-3 bg-white dark:bg-slate-700 rounded-2xl text-[10px] font-black shadow-sm disabled:opacity-50 hover:bg-indigo-50 border border-slate-100 transition-all",children:[u.jsx(Mc,{size:16,className:"text-indigo-600"}),"   (PDF)"]})]}),u.jsxs("div",{className:"flex-1 overflow-y-auto p-12 space-y-8 custom-scrollbar",children:[i.length===0&&u.jsxs("div",{className:"h-full flex flex-col items-center justify-center opacity-20 text-center",children:[u.jsx(sl,{size:100,className:"text-indigo-400 mb-8"}),u.jsx("h3",{className:"text-4xl font-black mb-4",children:"    "}),u.jsx("p",{className:"max-w-md text-xl font-bold leading-relaxed",children:"              ."})]}),i.map((z,N)=>u.jsx("div",{className:`flex ${z.role==="user"?"justify-end":"justify-start"} animate-in slide-in-from-bottom-2`,children:u.jsx("div",{className:`max-w-[85%] p-8 rounded-[3rem] text-lg font-bold leading-relaxed shadow-sm ${z.role==="user"?"bg-indigo-600 text-white rounded-br-none":"bg-slate-100 dark:bg-slate-800 dark:text-white rounded-bl-none border border-indigo-50/50"}`,children:z.text})},N)),r&&u.jsxs("div",{className:"flex items-center gap-4 p-6 bg-slate-50 rounded-[2.5rem] w-fit animate-pulse",children:[u.jsx(tt,{className:"animate-spin text-indigo-600",size:24})," ",u.jsx("span",{className:"text-lg font-black text-slate-400 italic",children:"   ..."})]})]}),u.jsx("div",{className:"p-10 border-t dark:border-slate-800 bg-white dark:bg-slate-900",children:u.jsxs("div",{className:"flex gap-4 bg-slate-50 dark:bg-slate-950 p-2 rounded-[2.5rem] border-2 shadow-inner transition-all focus-within:ring-4 focus-within:ring-indigo-100 focus-within:border-indigo-500",children:[u.jsx("input",{value:a,onChange:z=>o(z.target.value),onKeyDown:z=>z.key==="Enter"&&ne(),className:"flex-1 px-8 py-4 bg-transparent outline-none font-black text-lg placeholder:text-slate-400",placeholder:"     ..."}),u.jsx("button",{onClick:ne,disabled:r||!a.trim(),className:"w-16 h-16 bg-indigo-600 text-white rounded-3xl flex items-center justify-center shadow-2xl transition-all active:scale-90 disabled:opacity-50",children:u.jsx(yb,{size:28})})]})})]}):u.jsx("div",{className:"flex-1 flex flex-col overflow-hidden bg-slate-50/20",children:!v.length||M?u.jsx("div",{className:"flex-1 p-10 overflow-y-auto custom-scrollbar flex flex-col items-center",children:M?u.jsxs("div",{className:"space-y-12 animate-in zoom-in w-full max-w-5xl py-12",children:[u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"w-32 h-32 bg-indigo-100 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl border-4 border-white",children:u.jsx(Ag,{size:64,className:"text-indigo-600"})}),u.jsx("h2",{className:"text-5xl font-black",children:"   "}),u.jsx("p",{className:"text-slate-500 font-bold text-xl",children:"      "})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 w-full max-w-3xl mx-auto",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-10 rounded-[3.5rem] shadow-xl border-2 border-indigo-100 flex flex-col items-center",children:[u.jsx("p",{className:"text-7xl font-black text-indigo-600",children:F()}),u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mt-6",children:" "})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-10 rounded-[3.5rem] shadow-xl border-2 border-slate-100 flex flex-col items-center",children:[u.jsx("p",{className:"text-7xl font-black text-slate-900 dark:text-white",children:v.length}),u.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mt-6",children:" "})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-4 justify-center mt-12",children:[u.jsxs("button",{onClick:()=>U("review"),className:"px-10 py-5 bg-emerald-600 text-white rounded-[2rem] font-black flex items-center gap-3 shadow-xl hover:scale-105 transition-all",children:[u.jsx(ru,{size:22}),"    (PDF)"]}),u.jsxs("button",{onClick:$,className:"px-10 py-5 bg-indigo-600 text-white rounded-[2rem] font-black shadow-xl hover:scale-105 transition-all flex items-center gap-3",children:[u.jsx(wg,{size:22}),"   "]})]}),u.jsxs("div",{className:"space-y-10 text-right mt-24 pb-20 border-t pt-16",children:[u.jsxs("div",{className:"flex items-center justify-between mb-8",children:[u.jsxs("h4",{className:"font-black text-3xl text-slate-800 flex items-center gap-4",children:[u.jsx(vg,{size:36,className:"text-indigo-600"}),"      "]}),u.jsxs("div",{className:"px-5 py-2 bg-indigo-50 text-indigo-600 rounded-full font-black text-[10px] border border-indigo-100",children:["   ",v.length," "]})]}),u.jsx("div",{className:"grid gap-8",children:v.map((z,N)=>u.jsxs("div",{className:`p-10 rounded-[3.5rem] bg-white border-2 transition-all shadow-lg ${C[N]===z.correctIndex?"border-emerald-200 bg-emerald-50/5":"border-rose-200 bg-rose-50/5"}`,children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsx("span",{className:`px-6 py-2 rounded-full text-[9px] font-black text-white ${C[N]===z.correctIndex?"bg-emerald-500 shadow-lg shadow-emerald-100":"bg-rose-500 shadow-lg shadow-rose-100"}`,children:C[N]===z.correctIndex?"  ":"  "}),u.jsxs("h3",{className:"text-xl font-black text-slate-800",children:[" ",N+1]})]}),u.jsx("p",{className:"text-lg font-black mb-8 leading-relaxed text-slate-700",children:z.question}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:z.options.map((P,q)=>u.jsxs("div",{className:`p-6 rounded-2xl border-2 font-black text-sm flex items-center justify-between transition-all ${q===z.correctIndex?"border-emerald-500 bg-emerald-100/50 text-emerald-900":C[N]===q?"border-rose-500 bg-rose-50 text-rose-900 shadow-sm":"border-slate-100 text-slate-500 bg-slate-50/50"}`,children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("span",{className:"w-8 h-8 rounded-lg bg-white border flex items-center justify-center text-xs shadow-sm font-black text-slate-600",children:String.fromCharCode(65+q)}),u.jsx("span",{children:P})]}),q===z.correctIndex&&u.jsx(ol,{size:24,className:"text-emerald-500"}),C[N]===q&&q!==z.correctIndex&&u.jsx(It,{size:24,className:"text-rose-500"})]},q))}),u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 p-8 rounded-[2.5rem] border-r-8 border-indigo-600 shadow-inner",children:[u.jsxs("p",{className:"text-indigo-600 font-black text-[9px] uppercase tracking-widest mb-3 flex items-center gap-2",children:[u.jsx(zt,{size:16}),"   :"]}),u.jsxs("p",{className:"text-slate-700 dark:text-slate-200 font-bold leading-loose text-base italic",children:['"',z.explanation,'"']})]})]},N))}),u.jsx("div",{className:"flex justify-center pt-16 pb-10",children:u.jsxs("button",{onClick:$,className:"px-16 py-7 bg-slate-900 text-white rounded-[2.5rem] font-black text-2xl shadow-2xl flex items-center gap-4 hover:scale-105 transition-all",children:[u.jsx(Mg,{size:28}),"   "]})})]})]}):u.jsxs("div",{className:"max-w-2xl space-y-12 animate-in fade-in py-10 w-full",children:[u.jsx("div",{className:"w-28 h-28 bg-indigo-600 text-white rounded-[2.5rem] flex items-center justify-center mx-auto mb-6 shadow-2xl animate-bounce",children:u.jsx(bf,{size:56})}),u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("h3",{className:"text-5xl font-black text-slate-900",children:"  "}),u.jsx("p",{className:"text-slate-500 font-bold text-2xl leading-relaxed",children:"            ."})]}),u.jsxs("div",{className:"bg-white dark:bg-slate-800 p-12 rounded-[4rem] shadow-2xl border-2 border-indigo-50 space-y-10",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-8 text-right",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mr-4",children:" "}),u.jsx("input",{type:"number",min:"1",max:"50",value:y.count,onChange:z=>x({...y,count:Math.max(1,parseInt(z.target.value)||5)}),className:"w-full p-6 bg-slate-50 dark:bg-slate-700 rounded-[2rem] border-none focus:ring-4 focus:ring-indigo-100 font-black text-center text-4xl transition-all"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("label",{className:"text-[11px] font-black text-slate-400 uppercase tracking-widest mr-4",children:" "}),u.jsxs("select",{value:y.type,onChange:z=>x({...y,type:z.target.value}),className:"w-full p-6 bg-slate-50 dark:bg-slate-700 rounded-[2rem] border-none focus:ring-4 focus:ring-indigo-100 font-black text-xl transition-all appearance-none pr-14",children:[u.jsx("option",{value:"multiple",children:"  "}),u.jsx("option",{value:"boolean",children:" "}),u.jsx("option",{value:"mixed",children:""})]})]})]}),!m&&u.jsxs("div",{className:"p-8 bg-amber-50 rounded-[2.5rem] border-2 border-amber-200 flex gap-6 items-center",children:[u.jsx(Cc,{className:"text-amber-600 shrink-0",size:32}),u.jsx("p",{className:"text-amber-900 font-black text-lg",children:"         ."})]})]}),u.jsxs("div",{className:"flex flex-col gap-6 pt-6",children:[u.jsxs("button",{onClick:J,disabled:I||!m,className:"w-full py-9 bg-indigo-600 text-white rounded-[3.5rem] font-black text-3xl shadow-2xl flex items-center justify-center gap-6 hover:scale-[1.02] active:scale-95 transition-all disabled:opacity-50",children:[I?u.jsx(tt,{className:"animate-spin",size:36}):u.jsx(zt,{size:36}),"   "]}),u.jsxs("button",{onClick:()=>U("blank"),disabled:I||!m,className:"w-full py-6 bg-white text-slate-700 rounded-[2.5rem] font-black text-lg flex items-center justify-center gap-4 border-2 border-slate-100 hover:bg-slate-50 transition-all shadow-md",children:[u.jsx(ua,{size:24,className:"text-indigo-600"}),"      (PDF)"]})]})]})}):u.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden animate-in slide-in-from-left-6 bg-white",children:[u.jsxs("div",{className:"px-10 py-6 bg-slate-50 border-b border-slate-200 flex justify-between items-center z-10 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-8",children:[u.jsx("div",{className:"w-20 h-20 bg-indigo-600 text-white rounded-[2rem] flex items-center justify-center font-black text-3xl shadow-2xl animate-pulse",children:A+1}),u.jsxs("div",{children:[u.jsx("h4",{className:"font-black text-2xl text-slate-800 leading-none",children:" "}),u.jsxs("div",{className:"flex items-center gap-6 mt-3",children:[u.jsx("div",{className:"w-80 h-4 bg-white rounded-full overflow-hidden shadow-inner border border-slate-200 p-1",children:u.jsx("div",{className:"h-full bg-gradient-to-r from-indigo-600 to-indigo-400 rounded-full transition-all duration-700 shadow-md",style:{width:`${(A+1)/v.length*100}%`}})}),u.jsxs("span",{className:"text-xs font-black text-indigo-500 uppercase tracking-widest",children:[A+1," / ",v.length]})]})]})]}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("button",{onClick:()=>U("blank"),className:"px-8 py-3.5 bg-white text-slate-600 rounded-2xl text-xs font-black border border-slate-200 hover:bg-indigo-50 transition-all flex items-center gap-3 shadow-sm",children:[u.jsx(ru,{size:20}),"  "]}),u.jsx("button",{onClick:()=>{confirm("     ")&&w(!0)},className:"px-8 py-3.5 bg-rose-50 text-rose-600 rounded-2xl text-xs font-black border border-rose-100 hover:bg-rose-500 hover:text-white transition-all shadow-sm",children:" "})]})]}),u.jsx("div",{className:"flex-1 overflow-y-auto custom-scrollbar px-12 py-12 bg-slate-50/10",children:u.jsxs("div",{className:"max-w-4xl mx-auto w-full pb-32",children:[u.jsxs("div",{className:"mb-14",children:[u.jsx("p",{className:"text-indigo-500 font-black text-xs uppercase tracking-[0.4em] mb-6 border-r-4 border-indigo-600 pr-4",children:"  "}),u.jsx("h2",{className:"text-4xl font-black text-slate-900 leading-snug text-right",children:v[A].question})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:v[A].options.map((z,N)=>u.jsxs("button",{onClick:()=>R({...C,[A]:N}),className:`p-10 rounded-[3rem] text-right font-black text-2xl transition-all border-4 flex items-center justify-between group min-h-[140px] shadow-lg ${C[A]===N?"border-indigo-600 bg-indigo-50 text-indigo-800 shadow-2xl scale-[1.02]":"border-white bg-white hover:border-indigo-100 hover:bg-slate-50 text-slate-600"}`,children:[u.jsx("div",{className:`w-14 h-14 rounded-2xl border-4 flex items-center justify-center shrink-0 transition-all ${C[A]===N?"bg-indigo-600 border-indigo-600 text-white shadow-xl":"border-slate-100 text-slate-200"}`,children:C[A]===N?u.jsx(ol,{size:32}):u.jsx("span",{className:"text-lg font-bold",children:String.fromCharCode(65+N)})}),u.jsx("span",{className:"flex-1 mr-8 leading-tight text-right",children:z})]},N))})]})}),u.jsxs("div",{className:"bg-white border-t border-slate-200 px-12 py-8 flex justify-between items-center z-10 shadow-[0_-15px_40px_rgba(0,0,0,0.06)]",children:[u.jsxs("button",{onClick:()=>L(z=>Math.max(0,z-1)),disabled:A===0,className:"px-14 py-6 bg-slate-100 text-slate-400 rounded-[2.5rem] font-black text-xl flex items-center gap-6 disabled:opacity-20 hover:bg-slate-200 transition-all border border-slate-200 shadow-sm",children:[u.jsx(yg,{size:32})," "]}),u.jsxs("div",{className:"px-12 py-4 bg-indigo-50 text-indigo-600 rounded-full font-black text-2xl border border-indigo-100 shadow-inner",children:[A+1," / ",v.length]}),A===v.length-1?u.jsx("button",{onClick:()=>w(!0),className:"px-24 py-6 bg-emerald-600 text-white rounded-[2.5rem] font-black text-3xl shadow-2xl hover:scale-105 hover:bg-emerald-700 transition-all active:scale-95 flex items-center gap-6",children:"  "}):u.jsxs("button",{onClick:()=>L(z=>Math.min(v.length-1,z+1)),className:"px-16 py-6 bg-indigo-600 text-white rounded-[2.5rem] font-black text-2xl shadow-2xl flex items-center gap-6 hover:scale-105 hover:bg-indigo-700 transition-all active:scale-95",children:[" ",u.jsx(gg,{size:32})]})]})]})})]})]})};var ch={SUPABASE_URL:'""',SUPABASE_ANON_KEY:'""'};const uA=async(e,t,n,i)=>{const l=new Int16Array(e.buffer),a=l.length/i,o=t.createBuffer(i,a,n);for(let r=0;r<i;r++){const d=o.getChannelData(r);for(let f=0;f<a;f++)d[f]=l[f*i+r]/32768}return o},cA=e=>{const t=atob(e),n=t.length,i=new Uint8Array(n);for(let l=0;l<n;l++)i[l]=t.charCodeAt(l);return i},dA=({lang:e="ar"})=>{const[t,n]=E.useState([]),[i]=E.useState(["","","",""]),[l,a]=E.useState(""),[o,r]=E.useState(!1),[d,f]=E.useState(!1),[p,m]=E.useState(""),[h,g]=E.useState(!1),[b,S]=E.useState(null),[_,y]=E.useState(0),x=E.useRef(null),v=E.useRef(null);E.useEffect(()=>{(async()=>{const I=await Z.getNotes();n(I)})()},[]);const T=async()=>{try{const w=await navigator.mediaDevices.getUserMedia({audio:!0}),I=new MediaRecorder(w,{mimeType:"audio/webm"});x.current=I;const G=[];I.ondataavailable=j=>{j.data.size>0&&G.push(j.data)},I.onstop=()=>{const j=new Blob(G,{type:"audio/webm"});S(j)},I.start(),g(!0),y(0),v.current=setInterval(()=>y(j=>j+1),1e3)}catch{alert(e==="ar"?"   ":"Please allow mic access")}},A=()=>{x.current&&h&&(x.current.stop(),x.current.stream.getTracks().forEach(w=>w.stop()),g(!1),clearInterval(v.current))},L=async w=>{if(!b)return alert("     ");f(!0);try{const I=new bt({apiKey:ch.API_KEY}),G=new FileReader;G.readAsDataURL(b),G.onloadend=async()=>{const j=G.result.split(",")[1],J=await I.models.generateContent({model:"gemini-3-flash-preview",contents:{parts:[{inlineData:{data:j,mimeType:"audio/webm"}},{text:"         .   JSON: {transcription, summary, translation}"}]},config:{responseMimeType:"application/json"}}),ne=JSON.parse(J.text||"{}"),U=await Z.saveNote({title:ne.summary||" ",text:ne.transcription||"   .",translation:ne.translation||"",category:w,date:new Date().toLocaleDateString("ar-EG")});n(U),r(!1),S(null)}}catch{alert("   .    .")}finally{f(!1)}},C=async w=>{var I,G,j,J,ne,U;try{const Y=(U=(ne=(J=(j=(G=(I=(await new bt({apiKey:ch.API_KEY}).models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:`  : ${w}`}]}],config:{responseModalities:[fi.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:"Kore"}}}}})).candidates)==null?void 0:I[0])==null?void 0:G.content)==null?void 0:j.parts)==null?void 0:J[0])==null?void 0:ne.inlineData)==null?void 0:U.data;if(Y){const z=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3}),N=await uA(cA(Y),z,24e3,1),P=z.createBufferSource();P.buffer=N,P.connect(z.destination),P.start()}}catch(F){console.error(F)}},R=async w=>{const I=await Z.deleteNote(w);n(I)},M=t.filter(w=>(l===""||w.category===l)&&(w.title.toLowerCase().includes(p.toLowerCase())||w.text.toLowerCase().includes(p.toLowerCase())));return u.jsxs("div",{className:`h-[calc(100vh-12rem)] flex gap-10 animate-in fade-in duration-500 ${e==="ar"?"rtl":"ltr"}`,children:[u.jsxs("aside",{className:"w-80 flex flex-col space-y-6 shrink-0",children:[u.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-[3rem] shadow-xl border dark:border-slate-800",children:[u.jsxs("div",{className:"relative mb-8",children:[u.jsx(Eg,{className:`absolute ${e==="ar"?"right-4":"left-4"} top-1/2 -translate-y-1/2 text-slate-400`,size:18}),u.jsx("input",{value:p,onChange:w=>m(w.target.value),placeholder:e==="ar"?"...":"Search...",className:"w-full bg-slate-50 dark:bg-slate-800 rounded-2xl py-3 pr-12 pl-4 text-xs font-bold border-none dark:text-white"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("button",{onClick:()=>a(""),className:`w-full px-6 py-4 rounded-2xl font-black text-sm flex justify-between items-center ${l===""?"bg-indigo-600 text-white shadow-lg":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[u.jsx("span",{children:" "}),u.jsx(Q1,{size:16})]}),i.map(w=>u.jsxs("button",{onClick:()=>a(w),className:`w-full px-6 py-4 rounded-2xl font-bold text-sm flex justify-between items-center ${l===w?"bg-indigo-600 text-white shadow-lg":"text-slate-500 hover:bg-slate-50 dark:hover:bg-slate-800"}`,children:[u.jsx("span",{children:w}),u.jsx(Ef,{size:16})]},w))]})]}),u.jsxs("button",{onClick:()=>r(!0),className:"w-full py-10 rounded-[3rem] bg-gradient-to-br from-indigo-600 to-purple-700 text-white shadow-2xl flex flex-col items-center gap-4 group transition-all hover:scale-[1.02] active:scale-95",children:[u.jsx("div",{className:"w-16 h-16 rounded-full bg-white/20 flex items-center justify-center backdrop-blur-md group-hover:rotate-12 transition-transform shadow-inner",children:u.jsx(ca,{size:32})}),u.jsx("span",{className:"text-xl font-black",children:e==="ar"?" ":"Smart Note"})]})]}),u.jsx("main",{className:"flex-1 space-y-6 overflow-y-auto custom-scrollbar pr-2",children:M.length===0?u.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-300 dark:text-slate-800 space-y-6 bg-white dark:bg-slate-900 rounded-[4rem] border-4 border-dashed border-slate-100 dark:border-slate-800",children:[u.jsx(Nc,{size:64,className:"opacity-20 animate-bounce"}),u.jsx("p",{className:"text-2xl font-black opacity-30",children:"  !"})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 pb-20",children:M.map(w=>u.jsxs("div",{className:"bg-white dark:bg-slate-900 p-10 rounded-[3.5rem] shadow-xl border border-slate-100 dark:border-slate-800 group hover:-translate-y-2 transition-all relative flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-start mb-6",children:[u.jsx("span",{className:"px-4 py-1.5 bg-indigo-50 dark:bg-indigo-900/40 text-indigo-600 dark:text-indigo-400 rounded-full text-[10px] font-black uppercase",children:w.category}),u.jsx("button",{onClick:()=>C(w.text),className:"w-12 h-12 bg-indigo-100 dark:bg-indigo-900/30 text-indigo-600 rounded-xl flex items-center justify-center hover:scale-110 transition-all shadow-sm",children:u.jsx(wb,{size:24})})]}),u.jsxs("h4",{className:"text-2xl font-black dark:text-white mb-6 flex items-center gap-4",children:[u.jsx(zt,{size:24,className:"text-amber-500"}),w.title]}),u.jsx("div",{className:"bg-slate-50/50 dark:bg-slate-800/50 p-6 rounded-3xl border dark:border-slate-700 shadow-inner flex-1",children:u.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed font-bold text-sm",children:w.text})}),u.jsxs("div",{className:"mt-8 pt-6 border-t dark:border-slate-800 flex justify-between items-center text-[10px] font-black text-slate-400 uppercase tracking-widest",children:[u.jsx("span",{children:w.date}),u.jsxs("button",{onClick:()=>R(w.id),className:"text-rose-500 hover:text-rose-600 flex items-center gap-1",children:[u.jsx(da,{size:14})," "]})]})]},w.id))})}),o&&u.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-6 bg-slate-900/60 backdrop-blur-sm animate-in fade-in",children:u.jsxs("div",{className:"bg-white dark:bg-slate-900 w-full max-w-lg rounded-[3.5rem] p-10 shadow-2xl relative animate-in zoom-in",children:[u.jsx("button",{onClick:()=>r(!1),className:"absolute top-8 left-8 text-slate-400 hover:text-rose-500 transition-all",children:u.jsx(It,{size:24})}),u.jsxs("div",{className:"text-center mb-10",children:[u.jsx("h3",{className:"text-3xl font-black mb-2 dark:text-white",children:"  "}),u.jsx("p",{className:"text-slate-400 font-bold text-sm",children:"     "})]}),u.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800/50 p-10 rounded-[3rem] border-2 border-dashed border-slate-200 dark:border-slate-700 mb-8 flex flex-col items-center gap-6 relative overflow-hidden",children:[h&&u.jsx("div",{className:"absolute inset-0 bg-rose-500/5 flex items-center justify-center pointer-events-none",children:u.jsx("div",{className:"w-40 h-40 bg-rose-500/20 rounded-full animate-ping"})}),u.jsx("div",{className:"text-center z-10",children:u.jsxs("div",{className:"text-4xl font-mono font-black mb-2 dark:text-white",children:[Math.floor(_/60),":",(_%60).toString().padStart(2,"0")]})}),u.jsxs("div",{className:"flex gap-4 z-10",children:[h?u.jsx("button",{onClick:A,className:"w-20 h-20 bg-rose-500 text-white rounded-[2rem] flex items-center justify-center shadow-xl hover:scale-110 transition-all",children:u.jsx(uu,{size:32})}):u.jsx("button",{onClick:T,className:"w-20 h-20 bg-indigo-600 text-white rounded-[2rem] flex items-center justify-center shadow-xl hover:scale-110 transition-all",children:u.jsx(kc,{size:32})}),u.jsxs("label",{className:"w-20 h-20 bg-white dark:bg-slate-700 text-slate-600 dark:text-white rounded-[2rem] flex items-center justify-center shadow-lg cursor-pointer hover:scale-105 transition-all",children:[u.jsx(xi,{size:32}),u.jsx("input",{type:"file",className:"hidden",accept:"audio/*",onChange:w=>{w.target.files&&S(w.target.files[0])}})]})]}),b&&u.jsxs("div",{className:"bg-emerald-500/10 border border-emerald-500/20 px-6 py-3 rounded-2xl flex items-center gap-3 animate-in fade-in",children:[u.jsx(ol,{className:"text-emerald-500",size:20}),u.jsx("span",{className:"text-[10px] font-black text-emerald-600",children:" "})]})]}),u.jsx("div",{className:"space-y-4",children:u.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(w=>u.jsxs("button",{onClick:()=>L(w),disabled:!b||d,className:"flex-1 py-4 bg-slate-50 dark:bg-slate-800 hover:bg-indigo-600 hover:text-white rounded-2xl font-black text-[10px] transition-all flex items-center justify-center gap-2 disabled:opacity-50 shadow-sm",children:[d?u.jsx(tt,{className:"animate-spin",size:16}):u.jsx(Ef,{size:16}),w]},w))})})]})})]})},fA=()=>u.jsxs("div",{className:"max-w-4xl mx-auto space-y-12 animate-in fade-in duration-500",children:[u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-6 text-green-600",children:u.jsx(Sb,{size:40})}),u.jsx("h2",{className:"text-4xl font-black dark:text-white",children:"  "}),u.jsx("p",{className:"text-gray-500 text-lg",children:"       "})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[{title:" ",desc:"           .",icon:Sg,color:"text-blue-500"},{title:" ",desc:"               .",icon:vg,color:"text-purple-500"}].map((e,t)=>u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-10 rounded-[3rem] shadow-xl border dark:border-gray-700 group hover:border-indigo-500 transition-all",children:[u.jsx(e.icon,{className:`${e.color} mb-6`,size:32}),u.jsx("h3",{className:"text-xl font-black dark:text-white mb-4",children:e.title}),u.jsx("p",{className:"text-gray-500 leading-relaxed font-medium",children:e.desc})]},t))}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 p-12 rounded-[4rem] shadow-xl border dark:border-gray-700 prose prose-indigo dark:prose-invert max-w-none",children:[u.jsxs("h3",{className:"text-2xl font-black dark:text-white mb-8 flex items-center gap-3",children:[u.jsx(di,{className:"text-indigo-600"}),"  "]}),u.jsxs("div",{className:"space-y-6 text-gray-600 dark:text-gray-400 font-bold leading-loose",children:[u.jsx("p",{children:".           ."}),u.jsx("p",{children:".               ."}),u.jsx("p",{children:".              ."})]})]})]}),pA=()=>{const[e,t]=E.useState(null),[n,i]=E.useState(0),[l,a]=E.useState(!0),[o,r]=E.useState(()=>localStorage.getItem("lang")||"ar"),[d,f]=E.useState("dashboard"),[p,m]=E.useState(()=>{const b=localStorage.getItem("theme");return b==="dark"||!b&&window.matchMedia("(prefers-color-scheme: dark)").matches});if(E.useEffect(()=>{(async()=>{const S=await Z.getUser();if(S){t(S);const[_,y,x,v]=await Promise.all([Z.getSubjects(),Z.getTasks(),Z.getNotes(),Z.getStudyStats()]);i(Z.calculateTotalXP(_,y,x,v))}a(!1)})()},[]),E.useEffect(()=>{e&&!l&&(async()=>{const[S,_,y,x]=await Promise.all([Z.getSubjects(),Z.getTasks(),Z.getNotes(),Z.getStudyStats()]);i(Z.calculateTotalXP(S,_,y,x))})()},[d,e,l]),E.useEffect(()=>{localStorage.setItem("lang",o),document.documentElement.dir=o==="ar"?"rtl":"ltr",document.documentElement.lang=o},[o]),E.useEffect(()=>{localStorage.setItem("theme",p?"dark":"light"),p?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[p]),l)return u.jsxs("div",{className:"h-screen w-screen flex flex-col items-center justify-center bg-slate-50 dark:bg-slate-950 font-cairo",children:[u.jsxs("div",{className:"relative mb-8",children:[u.jsx("div",{className:"w-24 h-24 border-8 border-indigo-600/20 border-t-indigo-600 rounded-full animate-spin shadow-xl"}),u.jsx(zt,{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-indigo-600 animate-pulse",size:32})]}),u.jsx("h2",{className:"text-2xl font-black text-slate-800 dark:text-white animate-pulse",children:"   ..."})]});if(!e)return u.jsx(Ab,{onLogin:b=>{Z.saveUser(b),t(b)},lang:o,setLang:r,isDark:p,setIsDark:m});const h=()=>{switch(d){case"dashboard":return u.jsx(Nf,{user:e,lang:o,setPage:f});case"subjects":return u.jsx(BN,{lang:o});case"ai-assistant":return u.jsx(rA,{lang:o});case"planner":return u.jsx(eA,{lang:o});case"timer":return u.jsx(ON,{lang:o});case"mindmap":return u.jsx(nA,{});case"creator":return u.jsx(YN,{});case"voice":return u.jsx(aA,{lang:o});case"blackboard":return u.jsx(QN,{});case"editor":return u.jsx(sA,{});case"mynotes":return u.jsx(dA,{lang:o});case"pricing":return u.jsx(ZN,{});case"privacy":return u.jsx(fA,{});default:return u.jsx(Nf,{user:e,lang:o,setPage:f})}},g=Ea[o];return u.jsxs("div",{className:`flex min-h-screen bg-slate-50 dark:bg-slate-950 font-cairo transition-colors duration-500 ${o==="ar"?"flex-row":"flex-row-reverse"}`,children:[u.jsx(Mb,{currentPage:d,setPage:f,lang:o,onLogout:()=>t(null)}),u.jsxs("div",{className:"flex-1 flex flex-col h-screen overflow-hidden",children:[u.jsxs("header",{className:"h-24 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl border-b border-slate-200 dark:border-slate-800 flex items-center justify-between px-12 z-20 transition-all",children:[u.jsx("div",{className:"flex items-center gap-6 flex-1",children:u.jsxs("div",{className:"relative w-full max-w-md hidden md:block",children:[u.jsx(Eg,{className:`absolute ${o==="ar"?"right-4":"left-4"} top-1/2 -translate-y-1/2 text-slate-400`,size:18}),u.jsx("input",{type:"text",placeholder:g.search_placeholder,className:`w-full bg-slate-100 dark:bg-slate-800/50 ${o==="ar"?"pr-12 pl-6":"pl-12 pr-6"} py-3 rounded-2xl border-none focus:ring-2 focus:ring-indigo-500 dark:text-white font-bold`})]})}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs("button",{onClick:()=>r(o==="ar"?"en":"ar"),className:"flex items-center gap-2 px-4 py-2 bg-slate-100 dark:bg-slate-800 rounded-xl font-black text-xs hover:bg-indigo-50 dark:hover:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400 transition-all border border-transparent hover:border-indigo-200",children:[u.jsx(bg,{size:18}),u.jsx("span",{children:o==="ar"?"English":""})]}),u.jsx("button",{onClick:()=>m(!p),className:"p-3 bg-slate-100 dark:bg-slate-800 rounded-xl hover:bg-amber-50 dark:hover:bg-amber-900/20 text-amber-600 transition-all",children:p?u.jsx(Ng,{size:20}):u.jsx(_g,{size:20})}),u.jsxs("div",{className:"flex items-center gap-4 bg-slate-100 dark:bg-slate-800 py-1.5 pr-1.5 pl-4 rounded-2xl border border-transparent hover:border-indigo-200 transition-all cursor-pointer",children:[u.jsxs("div",{className:"text-left leading-tight hidden sm:block",children:[u.jsx("p",{className:"text-sm font-black text-slate-900 dark:text-white",children:e.full_name}),u.jsxs("div",{className:"flex items-center gap-1.5",children:[u.jsx(zt,{size:12,className:"text-amber-500 animate-pulse"}),u.jsxs("p",{className:"text-[10px] font-black text-indigo-500 uppercase tracking-widest",children:[n," XP"]})]})]}),u.jsx("div",{className:"w-10 h-10 rounded-xl bg-indigo-600 flex items-center justify-center text-white shadow-lg",children:u.jsx(Rc,{size:20})})]})]})]}),u.jsx("main",{className:"flex-1 overflow-y-auto p-12 custom-scrollbar bg-slate-50 dark:bg-slate-950 transition-colors duration-500",children:h()})]}),u.jsx(qN,{lang:o})]})},hA=C1.createRoot(document.getElementById("root"));hA.render(u.jsx($c.StrictMode,{children:u.jsx($c.Suspense,{fallback:u.jsx("div",{className:"flex h-screen w-screen items-center justify-center bg-gray-50 dark:bg-gray-900 text-indigo-600 font-bold",children:" ..."}),children:u.jsx(pA,{})})}));
